!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.initMorsels=e():t.initMorsels=e()}(self,(()=>(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};t.d(e,{default:()=>Nt});const n=class{constructor(t,e,n,r,o){this.query=t,this.resultsTotal=e,this.queryParts=n,this.getNextN=r,this.free=o}};function r(t,e,n){const{numDocsPerStore:r,numStoresPerDir:o,indexingConfig:i}=n,{numDocsPerBlock:s}=i,c=Math.floor(e/r),l=Math.floor(e/s);return`${t}field_store/${Math.floor(c/o)}/${c}--${l}.json`}var o=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{l(r.next(t))}catch(t){i(t)}}function c(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}l((r=r.apply(t,e||[])).next())}))};const i=class{constructor(t,e){this.t=t,this.i=e,this.l=Object.create(null)}u(t,e,n){return o(this,void 0,void 0,(function*(){const o=r(t,this.t,n);try{const t=yield e.getJson(o);let r=this.t%n.numDocsPerStore;const{numDocsPerBlock:i}=n.indexingConfig;i<n.numDocsPerStore&&(r%=i),this.l=t[r]}catch(t){console.log(t)}}))}getFields(){return this.l.map((([t,e])=>[this.i[t].name,e]))}};var s=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{l(r.next(t))}catch(t){i(t)}}function c(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}l((r=r.apply(t,e||[])).next())}))};let c=0;const l=[];function a(){l.length&&l.shift()().then(a)}function u(t){return s(this,void 0,void 0,(function*(){const e=()=>s(this,void 0,void 0,(function*(){c+=1,yield t(),c-=1}));c>=2?l.push(e):(yield e(),a())}))}class f{constructor(t){this.cache=t,this.h=Object.create(null)}p(t){return s(this,void 0,void 0,(function*(){if(this.cache){let e=yield this.cache.match(t);e?this.h[t]=e.json():u((()=>s(this,void 0,void 0,(function*(){yield this.cache.add(t),e=yield this.cache.match(t),this.h[t]=e.json()}))))}else u((()=>s(this,void 0,void 0,(function*(){const e=yield fetch(t);this.h[t]=e.json()}))))}))}m(t){return s(this,void 0,void 0,(function*(){if(this.cache){(yield this.cache.match(t))||u((()=>this.cache.add(t)))}}))}getJson(t){return this.h[t]||(this.h[t]=fetch(t).then((t=>t.json()))),this.h[t]}}var d=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{l(r.next(t))}catch(t){i(t)}}function c(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}l((r=r.apply(t,e||[])).next())}))};let h;if(document.currentScript)h=document.currentScript.src;else{const t=document.getElementsByTagName("script");h=t.length&&t[t.length-1].src}h=h.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/");const p={s:""};const m=class{constructor(t){if(this._=t,this.isSetupDone=!1,this.g=Object.create(null),this.id=0,"object"!=typeof WebAssembly||"function"!=typeof WebAssembly.instantiateStreaming)return void(this.setupPromise=Promise.reject("WA unsupported"));const e=this.v().then((()=>this.P(`morsels:${t.url}`)));this.setupPromise=Promise.all([e,new Promise((t=>{const n=URL.createObjectURL(new Blob([`const __morsWrkrUrl="${h}";${p.s}`],{type:"text/javascript"}));this.O=new Worker(n),this.O.onmessage=r=>{if(r.data.query){const{query:t,queryId:e,nextResults:n,resultsTotal:o,queryParts:i}=r.data,s=this.g[e];s&&s.resolve({query:t,nextResults:n,resultsTotal:o,queryParts:i})}else""===r.data?(e.then((()=>this.O.postMessage(this.cfg))),URL.revokeObjectURL(n)):r.data.isSetupDone&&(this.isSetupDone=!0,t(),this.S(),this.k())},this.O.onmessageerror=t=>{console.log(t)}}))])}P(t){return d(this,void 0,void 0,(function*(){try{const{indexVer:e}=this.cfg;let n=yield caches.open(t);const r=yield n.match("/index_ver");if(r){e!==(yield r.text())&&(yield caches.delete(t),n=yield caches.open(t))}yield n.put("/index_ver",new Response(e)),this.A=new f(n)}catch(t){this.A=new f(void 0)}}))}S(){if(!this._.cacheAllFieldStores)return;const{numDocsPerStore:t,indexingConfig:e,lastDocId:n}=this.cfg,o=Math.min(t,e.numDocsPerBlock);for(let t=0;t<n;t+=o)this.A.p(r(this._.url,t,this.cfg))}k(){this.cfg.indexingConfig.plNamesToCache.forEach((t=>{const e=Math.floor(t/this.cfg.indexingConfig.numPlsPerDir),n=`${this._.url}pl_${e}/pl_${t}.mls`;this.A.m(n)}))}v(){return d(this,void 0,void 0,(function*(){const t=this._;if(this.cfg=yield(yield fetch(`${t.url}morsels_config.json`)).json(),"0.5.0"!==this.cfg.ver)throw new Error("Morsels search !== indexer version!");"cacheAllFieldStores"in t||(t.cacheAllFieldStores=!!this.cfg.cacheAllFieldStores),t.useQueryTermProximity=t.useQueryTermProximity&&this.cfg.indexingConfig.withPositions,this.cfg.searcherOptions=t}))}getQuery(t){return d(this,void 0,void 0,(function*(){yield this.setupPromise;const e=this.id;this.id+=1;const r=this.g;r[e]={promise:void 0,resolve:void 0},r[e].promise=new Promise((n=>{r[e].resolve=n,this.O.postMessage({query:t,queryId:e})}));const o=yield r[e].promise;return new n(t,o.resultsTotal,o.queryParts,(n=>d(this,void 0,void 0,(function*(){if(!r[e])return[];if(yield r[e].promise,r[e].promise=new Promise((o=>{r[e].resolve=o,this.O.postMessage({query:t,queryId:e,isGetNextN:!0,n})})),!r[e])return[];const o=(yield r[e].promise).nextResults.map((t=>new i(t,this.cfg.fieldInfos)));return yield Promise.all(o.map((t=>t.u(this._.url,this.A,this.cfg)))),o}))),(()=>{delete r[e],this.O.postMessage({query:t,isFree:!0})}))}))}};var _;function y(t,e,...n){const r=document.createElement(t);return Object.entries(e).forEach((([t,e])=>{r.setAttribute(t,e)})),n.forEach((t=>{if("string"==typeof t){const e=document.createElement("span");e.textContent=t,r.appendChild(e)}else r.appendChild(t)})),r}p.s='(()=>{var t,n,e,r,o={899:(t,n,e)=>{e.p=__morsWrkrUrl},777:(t,n,e)=>{"use strict";e.a(t,(async(t,r)=>{try{e.d(n,{get_new_searcher:()=>o.qS,get_query:()=>o.R1});var o=e(686),i=t([o]);o=(i.then?(await i)():i)[0],r()}catch(t){r(t)}}))},686:(t,n,e)=>{"use strict";e.a(t,(async(r,o)=>{try{e.d(n,{G6:()=>T,JP:()=>V,Or:()=>H,Po:()=>F,QF:()=>C,R1:()=>U,UA:()=>N,VD:()=>W,XG:()=>Q,XP:()=>B,bj:()=>J,fP:()=>z,ff:()=>G,jp:()=>X,lB:()=>D,oH:()=>R,qS:()=>S,sI:()=>K,ug:()=>I});var i=e(390),c=e(945);t=e.hmd(t);var u=r([c]);c=(u.then?(await u)():u)[0];const s=new Array(32).fill(void 0);function a(t){return s[t]}s.push(void 0,null,!0,!1);let f=s.length;function _(t){t<36||(s[t]=f,f=t)}function l(t){const n=a(t);return _(t),n}function d(t){f===s.length&&s.push(s.length+1);const n=f;return f=s[n],s[n]=t,n}let y=new("undefined"==typeof TextDecoder?(0,t.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});y.decode();let w=new Uint8Array;function b(){return 0===w.byteLength&&(w=new Uint8Array(c.memory.buffer)),w}function h(t,n){return y.decode(b().subarray(t,t+n))}function v(t,n,e,r){const o={a:t,b:n,cnt:1,dtor:e},i=(...t)=>{o.cnt++;const n=o.a;o.a=0;try{return r(n,o.b,...t)}finally{0==--o.cnt?c.__wbindgen_export_0.get(o.dtor)(n,o.b):o.a=n}};return i.original=o,i}function g(t,n,e){c._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__hf06d5548831c85d9(t,n,d(e))}let p=new Int32Array;function m(){return 0===p.byteLength&&(p=new Int32Array(c.memory.buffer)),p}let x=new Uint32Array;let A=0;let j=new("undefined"==typeof TextEncoder?(0,t.require)("util").TextEncoder:TextEncoder)("utf-8");const q="function"==typeof j.encodeInto?function(t,n){return j.encodeInto(t,n)}:function(t,n){const e=j.encode(t);return n.set(e),{read:t.length,written:e.length}};function O(t,n,e){if(void 0===e){const e=j.encode(t),r=n(e.length);return b().subarray(r,r+e.length).set(e),A=e.length,r}let r=t.length,o=n(r);const i=b();let c=0;for(;c<r;c++){const n=t.charCodeAt(c);if(n>127)break;i[o+c]=n}if(c!==r){0!==c&&(t=t.slice(c)),o=e(o,r,r=c+3*t.length);const n=b().subarray(o+c,o+r);c+=q(t,n).written}return A=c,o}function P(t){return null==t}function S(t,n,e,r,o,i,u,s,a,f,_,l,y,w,b,h){const v=O(r,c.__wbindgen_malloc,c.__wbindgen_realloc),g=A;var p=P(u)?0:O(u,c.__wbindgen_malloc,c.__wbindgen_realloc),m=A;const x=O(_,c.__wbindgen_malloc,c.__wbindgen_realloc),j=A,q=c.get_new_searcher(d(t),n,e,v,g,d(o),P(i)?16777215:i?1:0,p,m,!P(s),P(s)?0:s,d(a),f,x,j,l,y,w,b,!P(h),P(h)?0:h);return $.__wrap(q)}function U(t,n){const e=O(n,c.__wbindgen_malloc,c.__wbindgen_realloc),r=A;return l(c.get_query(t,e,r))}function k(t,n){try{return t.apply(this,n)}catch(t){c.__wbindgen_exn_store(d(t))}}function E(t,n,e,r){c.wasm_bindgen__convert__closures__invoke2_mut__h668a0ca803c0613b(t,n,d(e),d(r))}class M{static __wrap(t){const n=Object.create(M.prototype);return n.ptr=t,n}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();c.__wbg_query_free(t)}get results_total(){return c.__wbg_get_query_results_total(this.ptr)>>>0}set results_total(t){c.__wbg_set_query_results_total(this.ptr,t)}get_next_n(t){try{const u=c.__wbindgen_add_to_stack_pointer(-16);c.query_get_next_n(u,this.ptr,t);var n=m()[u/4+0],e=m()[u/4+1],r=(o=n,i=e,(0===x.byteLength&&(x=new Uint32Array(c.memory.buffer)),x).subarray(o/4,o/4+i)).slice();return c.__wbindgen_free(n,4*e),r}finally{c.__wbindgen_add_to_stack_pointer(16)}var o,i}get_query_parts(){try{const e=c.__wbindgen_add_to_stack_pointer(-16);c.query_get_query_parts(e,this.ptr);var t=m()[e/4+0],n=m()[e/4+1];return h(t,n)}finally{c.__wbindgen_add_to_stack_pointer(16),c.__wbindgen_free(t,n)}}}class ${static __wrap(t){const n=Object.create($.prototype);return n.ptr=t,n}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();c.__wbg_searcher_free(t)}get_ptr(){return c.searcher_get_ptr(this.ptr)}}function I(t){l(t)}function T(t){const n=l(t).original;if(1==n.cnt--)return n.a=0,!0;return!1}function F(t,n,e,r,o){return d((0,i.T)(t>>>0,n>>>0,h(e,r),o>>>0))}function N(t,n,e){return d(a(t).then(a(n),a(e)))}function D(t){return d(new Uint8Array(a(t)))}function G(t){return d(M.__wrap(t))}function W(){return k((function(t,n,e){return d(a(t).call(a(n),a(e)))}),arguments)}function B(t){return void 0===a(t)}function C(t,n){try{var e={a:t,b:n};const r=new Promise(((t,n)=>{const r=e.a;e.a=0;try{return E(r,e.b,t,n)}finally{e.a=r}}));return d(r)}finally{e.a=e.b=0}}function J(t){return a(t).length}function R(){return d(c.memory)}function X(t){return d(a(t).buffer)}function z(t,n,e){a(t).set(a(n),e>>>0)}function H(t,n){throw new Error(h(t,n))}function Q(t,n){return d(a(t).then(a(n)))}function V(t){return d(Promise.resolve(a(t)))}function K(t,n,e){return d(v(t,n,33,g))}o()}catch(L){o(L)}}))},390:(t,n,e)=>{"use strict";async function r(t,n,e,r){const o=`${e}pl_${Math.floor(t/n)}/pl_${t}.mls`,i=`morsels:${e}`;function c(t){return fetch(t).then((t=>t.arrayBuffer()))}try{const t=await caches.open(i),n=await t.match(o);if(n)return await n.arrayBuffer();{const n=await c(o);return n.byteLength>=r&&t.add(o),n}}catch{return c(o)}}e.d(n,{T:()=>r})},945:(t,n,e)=>{"use strict";e.a(t,(async(r,o)=>{try{var i,c=r([i=e(686)]),[i]=c.then?(await c)():c;await e.v(n,t.id,"6580b61d76d0422ef615",{"./index_bg.js":{__wbindgen_object_drop_ref:i.ug,__wbindgen_cb_drop:i.G6,__wbg_fetchPl_371e5d9f9bd385db:i.Po,__wbg_then_cedad20fbbd9418a:i.UA,__wbg_new_8c3f0052272a457a:i.lB,__wbg_query_new:i.ff,__wbg_call_168da88779e35f61:i.VD,__wbindgen_is_undefined:i.XP,__wbg_new_9962f939219f1820:i.QF,__wbg_length_9e1ae1900cb0fbd5:i.bj,__wbindgen_memory:i.oH,__wbg_buffer_3f3d764d4747d564:i.jp,__wbg_set_83db9690f9353e79:i.fP,__wbindgen_throw:i.Or,__wbg_then_11f7a54d67b4bfad:i.XG,__wbg_resolve_99fe17964f31ffc0:i.JP,__wbindgen_closure_wrapper62:i.sI}}),o()}catch(t){o(t)}}),1)}},i={};function c(t){var n=i[t];if(void 0!==n)return n.exports;var e=i[t]={id:t,loaded:!1,exports:{}};return o[t](e,e.exports,c),e.loaded=!0,e.exports}t="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",n="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",e="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",r=t=>{t&&!t.d&&(t.d=1,t.forEach((t=>t.r--)),t.forEach((t=>t.r--?t.r++:t())))},c.a=(o,i,c)=>{var u;c&&((u=[]).d=1);var s,a,f,_=new Set,l=o.exports,d=new Promise(((t,n)=>{f=n,a=t}));d[n]=l,d[t]=t=>(u&&t(u),_.forEach(t),d.catch((t=>{}))),o.exports=d,i((o=>{var i;s=(o=>o.map((o=>{if(null!==o&&"object"==typeof o){if(o[t])return o;if(o.then){var i=[];i.d=0,o.then((t=>{c[n]=t,r(i)}),(t=>{c[e]=t,r(i)}));var c={};return c[t]=t=>t(i),c}}var u={};return u[t]=t=>{},u[n]=o,u})))(o);var c=()=>s.map((t=>{if(t[e])throw t[e];return t[n]})),a=new Promise((n=>{(i=()=>n(c)).r=0;var e=t=>t!==u&&!_.has(t)&&(_.add(t),t&&!t.d&&(i.r++,t.push(i)));s.map((n=>n[t](e)))}));return i.r?a:c()}),(t=>(t?f(d[e]=t):a(l),r(u)))),u&&(u.d=0)},c.d=(t,n)=>{for(var e in n)c.o(n,e)&&!c.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:n[e]})},c.hmd=t=>((t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t),c.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),c.v=(t,n,e,r)=>{var o=fetch(c.p+""+e+".module.wasm");return"function"==typeof WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(o,r).then((n=>Object.assign(t,n.instance.exports))):o.then((t=>t.arrayBuffer())).then((t=>WebAssembly.instantiate(t,r))).then((n=>Object.assign(t,n.instance.exports)))},c.p="/",(()=>{"use strict";c(899);class t{constructor(t,n,e){this.t=t,this.i=n,this.u=e}_(t){return Array.from(this.u.get_next_n(t))}l(){this.u.free()}}var n=function(t,n,e,r){return new(e||(e=Promise))((function(o,i){function c(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(c,u)}s((r=r.apply(t,n||[])).next())}))};const e=Object.create(null);let r,o;function i(i,c){return n(this,void 0,void 0,(function*(){const n=yield r.get_query(o.get_ptr(),i),u=n.get_query_parts();let s=[];try{s=JSON.parse(u)}catch(t){console.error(`Error deserializing query parts:\\n${u}\\n${t}`)}return e[c]=new t(s,n.results_total,n),e[c]}))}function u(t,e){return n(this,void 0,void 0,(function*(){const{indexingConfig:i,langConfig:{lang:c,options:u},fieldInfos:s,numScoredFields:a,searcherOptions:f}=t,_=function(t){return n(this,void 0,void 0,(function*(){let n;try{n=yield caches.open(`morsels:${t}`)}catch(t){}const e=`${t}metadata.json`;return(n?n.match(e).then((t=>!t&&n.add(e))).then((()=>n.match(e))):fetch(e)).then((t=>t.arrayBuffer()))}))}(f.url),l=new TextEncoder;let d;const y=u.stop_words;if(y){const t=y.map((t=>l.encode(t))).filter((t=>t.length<255)),n=t.length+t.reduce(((t,n)=>t+n.length),0);d=new Uint8Array(n);let e=0;t.forEach((t=>{d[e++]=t.length,d.set(t,e),e+=t.length}))}const w=s.map((t=>l.encode(t.name))),b=w.reduce(((t,n)=>t+n.length),0),h=new Uint8Array(13*w.length+b),v=new Float32Array(3);let g=0;s.forEach(((t,n)=>{const e=w[n].length;h[g++]=e,h.set(w[n],g),g+=e,v[0]=t.weight,v[1]=t.k,v[2]=t.b,h.set(new Uint8Array(v.buffer),g),g+=12})),r=yield e,o=r.get_new_searcher(yield _,i.numPlsPerDir,i.withPositions,c,d,u.ignore_stop_words,u.stemmer,u.max_term_len,h,a,f.url,f.maxAutoSuffixSearchTerms,f.maxSuffixSearchTerms,f.useQueryTermProximity,f.plLazyCacheThreshold,f.resultLimit)}))}var s=function(t,n,e,r){return new(e||(e=Promise))((function(o,i){function c(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(c,u)}s((r=r.apply(t,n||[])).next())}))};!function(t){onmessage=function(n){return s(this,void 0,void 0,(function*(){const r=n.data;if(r.searcherOptions)yield u(r,t),postMessage({isSetupDone:!0});else if(r.query){const{query:t,queryId:n,n:o,isFree:c,isGetNextN:u}=r;if(c)!function(t){e[t]&&(e[t].l(),delete e[t])}(n);else if(u){const r=function(t,n){var r;return(null===(r=e[t])||void 0===r?void 0:r._(n))||[]}(n,o);postMessage({query:t,queryId:n,nextResults:r})}else{const e=yield i(t,n);postMessage({query:t,queryId:n,resultsTotal:e.i,queryParts:e.t})}}}))},postMessage("")}(Promise.resolve().then(c.bind(c,777)))})()})();',function(t){t.Auto="auto",t.Dropdown="dropdown",t.Fullscreen="fullscreen",t.Target="target"}(_||(_={}));const w=y,b="data-morsels-header",g="data-morsels-loading-indicator";function v(){return y("div",{[g]:"true"})}function x(t){if("string"!=typeof t)throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function P(t){return t.startsWith("/")?new URL(new URL(window.location.href).origin+t):new URL(t)}function O(t,e){const n=e.map((e=>Array.from(t.matchAll(e))));if(!n.some((t=>t.length)))return{$:t,j:[],q:0};let r=e.map((()=>-1)),o=1e7,i=e.map((()=>0));const s=n.map((()=>0)),c=n.map((t=>!t.length)),l=n.map((()=>-1));for(;;){let t=1e7,e=1e7,a=-1,u=0;for(let r=0;r<s.length;r++){const o=n[r][s[r]];if(!o)continue;const i=o.index+o[1].length;!c[r]&&i<e&&(e=i,a=r),t=Math.min(t,i),u=Math.max(u,i),l[r]=i}if(-1===a)break;const f=u-t;if(f<o&&(o=f,r=[...l],i=s.map(((t,e)=>n[e][t]&&n[e][t][2].length+n[e][t][3].length))),s[a]+=1,s[a]>=n[a].length&&(c[a]=!0,s[a]-=1,c.every((t=>t))))break}const a=r.map(((t,e)=>({pos:t,len:i[e]}))).filter((t=>t.pos>=0)).sort(((t,e)=>t.pos-e.pos)),u=a.length;return{$:t,j:a,q:u}}function S(){return w("span",{class:"morsels-ellipsis","aria-label":"ellipses"}," ... ")}function k(t,e,n){const{highlightRender:r}=n.uiOptions.resultsRenderOpts,{$:o,j:i}=t;if(!i.some((({pos:t})=>t>=0))){if(e){const t=o.trimStart().substring(0,80);return[80===t.length?t.replace(/\w+$/,""):t,S()]}return[o]}const s=[];let c=0;for(const{pos:t,len:l}of i){const i=t+l;if(t>c+80){e&&s.push(S());const c=o.substring(t-40,t);s.push(40===c.length?c.replace(/^\w+/,""):c),s.push(r(w,n,o.substring(t,i)))}else if(t>=c)s.pop(),s.push(o.substring(c,t)),s.push(r(w,n,o.substring(t,i)));else{if(!(i>c))continue;s.pop();s[s.length-1].textContent+=o.substring(c,i)}const a=o.substring(i,i+40);s.push(40===a.length?a.replace(/\w+$/,""):a),c=i}return e&&s.push(S()),s}var A;function $(t,e,n,r){const{maxSubMatches:o,resultsRenderOpts:i}=r.uiOptions,{bodyOnlyRender:s,headingBodyRender:c}=i;let l,a=-2,u="",f=[];for(let n=0;n<t.length;n+=1){const[r,o]=t[n];switch(r){case"headingLink":a=n,u=o;break;case"heading":l=O(o,e),l.T=n,l.R=a===n-1?u:"",f.push({$:"",j:[],q:0,M:l,R:l.R,T:n,D:A.HEADING_ONLY});break;case"body":{const t=O(o,e);l?(t.M=l,t.R=l.R,t.q+=l.q,t.D=A.HEADING_BODY):t.D=A.BODY_ONLY,f.push(t);break}}}f.sort(((t,e)=>0===t.q&&0===e.q?e.$.length-t.$.length:t.q===e.q?e.D-t.D:e.q-t.q));const d=[],h=Math.min(f.length,o);for(let t=0;t<h&&(f[t].q===f[0].q&&f[t].D===f[0].D);t+=1)d.push(f[t]);return d.map((t=>{const e=k(t,!0,r);if(t.M){const o=k(t.M,!1,r),i=o.length?o:[t.M.$],s=t.R&&`${n}#${t.R}`;return c(w,r,i,e,s)}return s(w,r,e)}))}!function(t){t[t.HEADING_BODY=2]="HEADING_BODY",t[t.BODY_ONLY=1]="BODY_ONLY",t[t.HEADING_ONLY=0]="HEADING_ONLY"}(A||(A={}));var j=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{l(r.next(t))}catch(t){i(t)}}function c(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}l((r=r.apply(t,e||[])).next())}))};const q=new DOMParser;function T(t,e,n,r,o,i){return j(this,void 0,void 0,(function*(){const{loaders:s}=n.indexingConfig,c=t.getFields();let l,a,u,f=!1;for(const t of c){const[e,n]=t;switch(e){case"link":l=l||n;break;case"_relative_fp":a=a||n;break;case"title":u=u||n;break;case"h1":f||(u=n,f=!0)}if(l&&a&&u&&f)break}const{useBreadcrumb:d,sourceFilesUrl:h,resultsRenderOpts:{addSearchedTerms:p,listItemRender:m}}=e.uiOptions,_=l||"string"==typeof h&&a&&`${h}${a}`||"";if(!u||d)if(a){const t=a.split("/").map((t=>t.split(/[\s_-]+/g).map((t=>t.replace(/([a-z])([A-Z])/g,"$1 $2"))).map((t=>t.charAt(0).toUpperCase()+t.slice(1))).join(" "))).join(" » ").split(".");let e=t.pop().toUpperCase();e="HTML"===e?"":"PDF"===e?" (PDF)":"."+e,u=t.join(".")+e}else u=l;let y=_;if(p&&_){const t=P(_);t.searchParams.append(p,o),y=t.toString()}let b=[];if(r)b=$(c,i,y,e);else if(_)if(_.endsWith(".html")&&s.HtmlLoader){const t=yield(yield fetch(_)).text(),n=q.parseFromString(t,"text/html"),{title:r,bodies:o}=function(t,e,n,r,o){const i=[];if(e.exclude_selectors)for(const n of e.exclude_selectors){const e=t.querySelectorAll(n);for(let t=0;t<e.length;t+=1)e[t].remove()}e.selectors=e.selectors||[];const s=e.selectors.map((t=>t.selector)).join(",");!function t(n,r){for(const t of e.selectors)if(n.matches(t.selector)){Object.entries(t.attr_map).forEach((([t,e])=>{n.attributes[t]&&i.push([e,n.attributes[t].value])})),r=t.field_name;break}if(n.querySelector(s))for(let e=0;e<n.childNodes.length;e+=1){const o=n.childNodes[e];o.nodeType===Node.ELEMENT_NODE?t(o,r):o.nodeType===Node.TEXT_NODE&&r&&(i.length&&i[i.length-1][0]===r?i[i.length-1][1]+=o.data:i.push([r,o.data]))}else r&&(i.length&&i[i.length-1][0]===r?i[i.length-1][1]+=n.textContent:i.push([r,n.textContent||""]))}(t.documentElement,void 0);let c="",l=!1;for(const t of i){const[e,n]=t;if("title"===e?c=c||n:"h1"!==e||l||(c=n,l=!0),c&&l)break}return{title:c,bodies:$(i,n,r,o)}}(n,s.HtmlLoader,i,y,e);u=r||u,b=o}else if(_.endsWith(".txt")&&s.TxtLoader){b=$([["body",yield(yield fetch(_)).text()]],i,y,e)}else{const t=P(_);if(t.pathname.endsWith(".json")&&s.JsonLoader){const n=yield(yield fetch(_)).json(),{title:r,bodies:o}=function(t,e,n,r,o){const i=[],{field_map:s,field_order:c}=e,l=Object.entries(s).find((([,t])=>"title"===t)),a=l&&l[0];for(const e of c)e!==a&&t[e]&&i.push([s[e],t[e]]);return{title:a&&t[a],bodies:$(i,n,r,o)}}(t.hash?n[t.hash.substring(1)]:n,s.JsonLoader,i,y,e);u=r||u,b=o}}else b=[];return m(w,e,o,_,u,b,c)}))}function E(t,e,n){for(const r of t){const t=r.isSubtracted||r.isInverted?!n:n;r.termsSearched?t&&e.push([...r.termsSearched]):r.children&&E(r.children,e,t)}}function R(t,e,n,r,o){const i=[],s=[];E(o.queryParts,s,!0);const c=[];for(const t of s){const e=t.map((t=>(c.push(t),x(t)))).sort(((t,e)=>e.length-t.length)).join("|");if("latin"===n.langConfig.lang){const t=new RegExp(`(^|\\W|_)(${e})(\\w*?)(?=\\W|$)`,"gi");i.push(t)}else{const t=new RegExp(`(^|\\W|_)(${e})((?=\\W|$))`,"gi");i.push(t)}}const l=n.fieldInfos.find((t=>t.do_store&&("body"===t.name||"title"===t.name||"heading"===t.name)));return Promise.all(r.map((t=>T(t,e,n,l,JSON.stringify(c),i))))}function M(t,e,n,r,o,i){return j(this,void 0,void 0,(function*(){if(t.L)return!1;const{loadingIndicatorRender:s,headerRender:c,resultsPerPage:l,resultsRender:a,mode:u}=i.uiOptions,f=s(w,i,!1,!0);r||o.appendChild(f),t.I&&t.I.disconnect();const d=document.createDocumentFragment();if(r){const t=c(w,i,!1,!1,e);t.setAttribute(b,"true"),d.appendChild(t)}const h=yield e.getNextN(l);if(t.L)return!1;const p=yield a(w,i,n,h,e);if(t.L)return!1;p.forEach((t=>d.appendChild(t)));const m=d.lastElementChild;if(r?(o.innerHTML="",t.U=v(),o.append(t.U),o.append(d)):f.replaceWith(d),p.length){const r=u===_.Target?null:o;t.I=new IntersectionObserver((([r],s)=>j(this,void 0,void 0,(function*(){r.isIntersecting&&(s.unobserve(m),yield M(t,e,n,!1,o,i))}))),{root:r,rootMargin:"150px 0px"}),t.I.observe(m)}return!0}))}var D=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{l(r.next(t))}catch(t){i(t)}}function c(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}l((r=r.apply(t,e||[])).next())}))};class L{constructor(){this.W=!0,this.B=!1,this.U=v()}}function I(t,e,n,r,o,i){var s;return D(this,void 0,void 0,(function*(){const{uiOptions:c}=i;e.B=!0;const l=c.loadingIndicatorRender(w,i,!1,e.W);e.U.replaceWith(l),e.U=l;try{null===(s=e.currQuery)||void 0===s||s.free(),e.currQuery=yield n.getQuery(t);(yield M(e,e.currQuery,n.cfg,!0,o,i))&&(e.W=!1),r.scrollTo({top:0}),o.scrollTo({top:0})}catch(t){throw o.innerHTML="",o.appendChild(c.headerRender(w,i,!0,!1)),t}finally{if(e.L){const t=e.L;e.L=void 0,yield t()}else e.B=!1}}))}function U(t,e,n){t.setAttribute("role","combobox"),t.setAttribute("aria-expanded","true"),t.setAttribute("aria-owns",e.getAttribute("id")),e.setAttribute("role","listbox"),e.setAttribute("aria-label",n),e.setAttribute("aria-live","polite")}function W(t,e){t.setAttribute("autocomplete","off"),t.setAttribute("aria-autocomplete","list"),t.setAttribute("aria-controls",e),t.setAttribute("aria-activedescendant","morsels-list-selected")}function B(t){return t.split("-")[0]}function C(t){return t.split("-")[1]}function F(t){return["top","bottom"].includes(B(t))?"x":"y"}function N(t){return"y"===t?"height":"width"}function H(t,e,n){let{reference:r,floating:o}=t;const i=r.x+r.width/2-o.width/2,s=r.y+r.height/2-o.height/2,c=F(e),l=N(c),a=r[l]/2-o[l]/2,u="x"===c;let f;switch(B(e)){case"top":f={x:i,y:r.y-o.height};break;case"bottom":f={x:i,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:s};break;case"left":f={x:r.x-o.width,y:s};break;default:f={x:r.x,y:r.y}}switch(C(e)){case"start":f[c]-=a*(n&&u?-1:1);break;case"end":f[c]+=a*(n&&u?-1:1)}return f}function G(t){return"number"!=typeof t?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}function z(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function J(t,e){var n;void 0===e&&(e={});const{x:r,y:o,platform:i,rects:s,elements:c,strategy:l}=t,{boundary:a="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=e,p=G(h),m=c[d?"floating"===f?"reference":"floating":f],_=z(await i.getClippingRect({element:null==(n=await(null==i.isElement?void 0:i.isElement(m)))||n?m:m.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(c.floating)),boundary:a,rootBoundary:u,strategy:l})),y=z(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:"floating"===f?{...s.floating,x:r,y:o}:s.reference,offsetParent:await(null==i.getOffsetParent?void 0:i.getOffsetParent(c.floating)),strategy:l}):s[f]);return{top:_.top-y.top+p.top,bottom:y.bottom-_.bottom+p.bottom,left:_.left-y.left+p.left,right:y.right-_.right+p.right}}const Q=Math.min,X=Math.max;function V(t,e,n){return X(t,Q(e,n))}const Y=t=>({name:"arrow",options:t,async fn(e){const{element:n,padding:r=0}=null!=t?t:{},{x:o,y:i,placement:s,rects:c,platform:l}=e;if(null==n)return{};const a=G(r),u={x:o,y:i},f=F(s),d=C(s),h=N(f),p=await l.getDimensions(n),m="y"===f?"top":"left",_="y"===f?"bottom":"right",y=c.reference[h]+c.reference[f]-u[f]-c.floating[h],w=u[f]-c.reference[f],b=await(null==l.getOffsetParent?void 0:l.getOffsetParent(n));let g=b?"y"===f?b.clientHeight||0:b.clientWidth||0:0;0===g&&(g=c.floating[h]);const v=y/2-w/2,x=a[m],P=g-p[h]-a[_],O=g/2-p[h]/2+v,S=V(x,O,P),k=("start"===d?a[m]:a[_])>0&&O!==S&&c.reference[h]<=c.floating[h];return{[f]:u[f]-(k?O<x?x-O:P-O:0),data:{[f]:S,centerOffset:O-S}}}}),K={left:"right",right:"left",bottom:"top",top:"bottom"};function Z(t){return t.replace(/left|right|bottom|top/g,(t=>K[t]))}function tt(t,e,n){void 0===n&&(n=!1);const r=C(t),o=F(t),i=N(o);let s="x"===o?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return e.reference[i]>e.floating[i]&&(s=Z(s)),{main:s,cross:Z(s)}}const et={start:"end",end:"start"};function nt(t){return t.replace(/start|end/g,(t=>et[t]))}const rt=["top","right","bottom","left"],ot=(rt.reduce(((t,e)=>t.concat(e,e+"-start",e+"-end")),[]),function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(e){var n;const{placement:r,middlewareData:o,rects:i,initialPlacement:s,platform:c,elements:l}=e,{mainAxis:a=!0,crossAxis:u=!0,fallbackPlacements:f,fallbackStrategy:d="bestFit",flipAlignment:h=!0,...p}=t,m=B(r),_=f||(m!==s&&h?function(t){const e=Z(t);return[nt(t),e,nt(e)]}(s):[Z(s)]),y=[s,..._],w=await J(e,p),b=[];let g=(null==(n=o.flip)?void 0:n.overflows)||[];if(a&&b.push(w[m]),u){const{main:t,cross:e}=tt(r,i,await(null==c.isRTL?void 0:c.isRTL(l.floating)));b.push(w[t],w[e])}if(g=[...g,{placement:r,overflows:b}],!b.every((t=>t<=0))){var v,x;const t=(null!=(v=null==(x=o.flip)?void 0:x.index)?v:0)+1,e=y[t];if(e)return{data:{index:t,overflows:g},reset:{placement:e}};let n="bottom";switch(d){case"bestFit":{var P;const t=null==(P=g.map((t=>[t,t.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)])).sort(((t,e)=>t[1]-e[1]))[0])?void 0:P[0].placement;t&&(n=t);break}case"initialPlacement":n=s}if(r!==n)return{reset:{placement:n}}}return{}}}});const it=function(t){return void 0===t&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:r,platform:o,elements:i}=e,{apply:s=(()=>{}),...c}=t,l=await J(e,c),a=B(n),u=C(n);let f,d;"top"===a||"bottom"===a?(f=a,d=u===(await(null==o.isRTL?void 0:o.isRTL(i.floating))?"start":"end")?"left":"right"):(d=a,f="end"===u?"top":"bottom");const h=X(l.left,0),p=X(l.right,0),m=X(l.top,0),_=X(l.bottom,0),y={availableHeight:r.floating.height-(["left","right"].includes(n)?2*(0!==m||0!==_?m+_:X(l.top,l.bottom)):l[f]),availableWidth:r.floating.width-(["top","bottom"].includes(n)?2*(0!==h||0!==p?h+p:X(l.left,l.right)):l[d])};await s({...e,...y});const w=await o.getDimensions(i.floating);return r.floating.width!==w.width||r.floating.height!==w.height?{reset:{rects:!0}}:{}}}};function st(t){return t&&t.document&&t.location&&t.alert&&t.setInterval}function ct(t){if(null==t)return window;if(!st(t)){const e=t.ownerDocument;return e&&e.defaultView||window}return t}function lt(t){return ct(t).getComputedStyle(t)}function at(t){return st(t)?"":t?(t.nodeName||"").toLowerCase():""}function ut(){const t=navigator.userAgentData;return null!=t&&t.brands?t.brands.map((t=>t.brand+"/"+t.version)).join(" "):navigator.userAgent}function ft(t){return t instanceof ct(t).HTMLElement}function dt(t){return t instanceof ct(t).Element}function ht(t){return"undefined"!=typeof ShadowRoot&&(t instanceof ct(t).ShadowRoot||t instanceof ShadowRoot)}function pt(t){const{overflow:e,overflowX:n,overflowY:r}=lt(t);return/auto|scroll|overlay|hidden/.test(e+r+n)}function mt(t){return["table","td","th"].includes(at(t))}function _t(t){const e=/firefox/i.test(ut()),n=lt(t);return"none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||["transform","perspective"].includes(n.willChange)||e&&"filter"===n.willChange||e&&!!n.filter&&"none"!==n.filter}function yt(){return!/^((?!chrome|android).)*safari/i.test(ut())}const wt=Math.min,bt=Math.max,gt=Math.round;function vt(t,e,n){var r,o,i,s;void 0===e&&(e=!1),void 0===n&&(n=!1);const c=t.getBoundingClientRect();let l=1,a=1;e&&ft(t)&&(l=t.offsetWidth>0&&gt(c.width)/t.offsetWidth||1,a=t.offsetHeight>0&&gt(c.height)/t.offsetHeight||1);const u=dt(t)?ct(t):window,f=!yt()&&n,d=(c.left+(f&&null!=(r=null==(o=u.visualViewport)?void 0:o.offsetLeft)?r:0))/l,h=(c.top+(f&&null!=(i=null==(s=u.visualViewport)?void 0:s.offsetTop)?i:0))/a,p=c.width/l,m=c.height/a;return{width:p,height:m,top:h,right:d+p,bottom:h+m,left:d,x:d,y:h}}function xt(t){return(e=t,(e instanceof ct(e).Node?t.ownerDocument:t.document)||window.document).documentElement;var e}function Pt(t){return dt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Ot(t){return vt(xt(t)).left+Pt(t).scrollLeft}function St(t,e,n){const r=ft(e),o=xt(e),i=vt(t,r&&function(t){const e=vt(t);return gt(e.width)!==t.offsetWidth||gt(e.height)!==t.offsetHeight}(e),"fixed"===n);let s={scrollLeft:0,scrollTop:0};const c={x:0,y:0};if(r||!r&&"fixed"!==n)if(("body"!==at(e)||pt(o))&&(s=Pt(e)),ft(e)){const t=vt(e,!0);c.x=t.x+e.clientLeft,c.y=t.y+e.clientTop}else o&&(c.x=Ot(o));return{x:i.left+s.scrollLeft-c.x,y:i.top+s.scrollTop-c.y,width:i.width,height:i.height}}function kt(t){return"html"===at(t)?t:t.assignedSlot||t.parentNode||(ht(t)?t.host:null)||xt(t)}function At(t){return ft(t)&&"fixed"!==lt(t).position?t.offsetParent:null}function $t(t){const e=ct(t);let n=At(t);for(;n&&mt(n)&&"static"===lt(n).position;)n=At(n);return n&&("html"===at(n)||"body"===at(n)&&"static"===lt(n).position&&!_t(n))?e:n||function(t){let e=kt(t);for(ht(e)&&(e=e.host);ft(e)&&!["html","body"].includes(at(e));){if(_t(e))return e;{const t=e.parentNode;e=ht(t)?t.host:t}}return null}(t)||e}function jt(t){if(ft(t))return{width:t.offsetWidth,height:t.offsetHeight};const e=vt(t);return{width:e.width,height:e.height}}function qt(t){const e=kt(t);return["html","body","#document"].includes(at(e))?t.ownerDocument.body:ft(e)&&pt(e)?e:qt(e)}function Tt(t,e){var n;void 0===e&&(e=[]);const r=qt(t),o=r===(null==(n=t.ownerDocument)?void 0:n.body),i=ct(r),s=o?[i].concat(i.visualViewport||[],pt(r)?r:[]):r,c=e.concat(s);return o?c:c.concat(Tt(s))}function Et(t,e,n){return"viewport"===e?z(function(t,e){const n=ct(t),r=xt(t),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,c=0,l=0;if(o){i=o.width,s=o.height;const t=yt();(t||!t&&"fixed"===e)&&(c=o.offsetLeft,l=o.offsetTop)}return{width:i,height:s,x:c,y:l}}(t,n)):dt(e)?function(t,e){const n=vt(t,!1,"fixed"===e),r=n.top+t.clientTop,o=n.left+t.clientLeft;return{top:r,left:o,x:o,y:r,right:o+t.clientWidth,bottom:r+t.clientHeight,width:t.clientWidth,height:t.clientHeight}}(e,n):z(function(t){var e;const n=xt(t),r=Pt(t),o=null==(e=t.ownerDocument)?void 0:e.body,i=bt(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=bt(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0);let c=-r.scrollLeft+Ot(t);const l=-r.scrollTop;return"rtl"===lt(o||n).direction&&(c+=bt(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:s,x:c,y:l}}(xt(t)))}function Rt(t){const e=Tt(t),n=["absolute","fixed"].includes(lt(t).position)&&ft(t)?$t(t):t;return dt(n)?e.filter((t=>dt(t)&&function(t,e){const n=null==e.getRootNode?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&ht(n)){let n=e;do{if(n&&t===n)return!0;n=n.parentNode||n.host}while(n)}return!1}(t,n)&&"body"!==at(t))):[]}const Mt={getClippingRect:function(t){let{element:e,boundary:n,rootBoundary:r,strategy:o}=t;const i=[..."clippingAncestors"===n?Rt(e):[].concat(n),r],s=i[0],c=i.reduce(((t,n)=>{const r=Et(e,n,o);return t.top=bt(r.top,t.top),t.right=wt(r.right,t.right),t.bottom=wt(r.bottom,t.bottom),t.left=bt(r.left,t.left),t}),Et(e,s,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:n,strategy:r}=t;const o=ft(n),i=xt(n);if(n===i)return e;let s={scrollLeft:0,scrollTop:0};const c={x:0,y:0};if((o||!o&&"fixed"!==r)&&(("body"!==at(n)||pt(i))&&(s=Pt(n)),ft(n))){const t=vt(n,!0);c.x=t.x+n.clientLeft,c.y=t.y+n.clientTop}return{...e,x:e.x-s.scrollLeft+c.x,y:e.y-s.scrollTop+c.y}},isElement:dt,getDimensions:jt,getOffsetParent:$t,getDocumentElement:xt,getElementRects:t=>{let{reference:e,floating:n,strategy:r}=t;return{reference:St(e,$t(n),r),floating:{...jt(n),x:0,y:0}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>"rtl"===lt(t).direction};const Dt=(t,e,n)=>(async(t,e,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,c=await(null==s.isRTL?void 0:s.isRTL(e));let l=await s.getElementRects({reference:t,floating:e,strategy:o}),{x:a,y:u}=H(l,r,c),f=r,d={},h=0;for(let n=0;n<i.length;n++){const{name:p,fn:m}=i[n],{x:_,y,data:w,reset:b}=await m({x:a,y:u,initialPlacement:r,placement:f,strategy:o,middlewareData:d,rects:l,platform:s,elements:{reference:t,floating:e}});a=null!=_?_:a,u=null!=y?y:u,d={...d,[p]:{...d[p],...w}},b&&h<=50&&(h++,"object"==typeof b&&(b.placement&&(f=b.placement),b.rects&&(l=!0===b.rects?await s.getElementRects({reference:t,floating:e,strategy:o}):b.rects),({x:a,y:u}=H(l,f,c))),n=-1)}return{x:a,y:u,placement:f,strategy:o,middlewareData:d}})(t,e,{platform:Mt,...n});function Lt(t,e){if(!1===t.tip)return;function n(t){return w("code",{},t)}function r(...t){return w("tr",{class:"morsels-tip-item"},...t.map((t=>w("td",{},w("div",{},t)))))}const o=w("tbody",{},r("Require a term",n("+sunny weather")),r("Exclude a term",n("-cloudy sunny")),r("Flip search results",n("~rainy")),r("Group terms together",n("~(sunny warm cloudy)")),r("Search for prefixes",n("run*")),r("Search only specific sections",w("ul",{},w("li",{},n("title:forecast")),w("li",{},n("heading:sunny")),w("li",{},n("body:(rainy gloomy)"))))),i=w("table",{class:"morsels-tip-table"},w("thead",{class:"morsels-tip-table-header"},w("tr",{},w("th",{scope:"col"},"Tip"),w("th",{},"Example"))),o),s=w("div",{class:"morsels-tip-popup-root"},w("div",{class:"morsels-tip-popup"},w("div",{class:"morsels-tip-popup-title"},"🔎 Advanced search tips"),i),w("div",{class:"morsels-tip-popup-separator"}));function c(){Object.assign(s.style,{left:"calc(var(--morsels-tip-icon-size) - 150px)",top:"-160px"}),s.classList.remove("shown")}c();const l=w("div",{class:"morsels-tip-root",tabindex:"0"},w("span",{class:"morsels-tip-icon"},"?"),s);function a(){Dt(l,s,{placement:"top-end",middleware:[ot({crossAxis:!1,flipAlignment:!1,padding:10})]}).then((({x:t,y:e})=>{Object.assign(s.style,{left:`${t}px`,top:`${e}px`}),s.classList.add("shown")}))}return l.onmouseover=a,l.onfocus=a,l.onmouseleave=c,l.onblur=c,e.setupPromise.then((()=>{e.cfg.indexingConfig.withPositions&&o.prepend(r("Search for phrases",n('"for tomorrow"')))})),l}function It(t,e,n){t.setAttribute("autocomplete","off"),t.setAttribute("readonly",""),t.setAttribute("role","button"),t.setAttribute("aria-label",n),e&&t.setAttribute("placeholder",e),t.classList.add("morsels-button-input")}let Ut=!1;function Wt(t){return t.mode===_.Auto&&!Ut||t.mode===_.Dropdown}class Bt{constructor(){this.C=!1,this.F=!1}N(t,e,n,r){const{uiOptions:o}=r,i=new L;let s=!0;n.setupPromise.then((()=>{i.L&&(i.L(),i.L=void 0)})).catch((()=>{e.innerHTML="",e.appendChild(o.headerRender(w,r,!0,!1)),s=!1}));let c=-1;return l=>{if(!s)return;const a=o.preprocessQuery(l.target.value);if(clearTimeout(c),a.length)c=setTimeout((()=>{var s;if(i.W&&!(null===(s=e.firstElementChild)||void 0===s?void 0:s.getAttribute(g))){e.innerHTML="";const t=o.loadingIndicatorRender(w,r,!n.isSetupDone,!0);i.U=t,e.appendChild(t),Wt(o)&&this.H()}const c=()=>I(a,i,n,t,e,r);i.B||!n.isSetupDone?i.L=c:c()}),o.inputDebounce);else{const t=()=>{e.innerHTML="",Wt(o)?this.G():o.mode!==_.Target&&e.appendChild(o.headerRender(w,r,!1,!0)),i.B=!1,i.W=!0};i.B?i.L=t:t()}}}}const Ct={};const Ft=function(t){const e=t.isMobileDevice||(()=>window.matchMedia("only screen and (max-width: 768px)").matches);Ut=e(),function(t){t.searcherOptions=t.searcherOptions||{};const{searcherOptions:e}=t;if(!("url"in e))throw new Error("Mandatory url parameter not specified");e.url.endsWith("/")||(e.url+="/"),e.url.startsWith("/")&&(e.url=window.location.origin+e.url),"maxAutoSuffixSearchTerms"in e||(e.maxAutoSuffixSearchTerms=3),"maxSuffixSearchTerms"in e||(e.maxSuffixSearchTerms=5),"useQueryTermProximity"in e||(e.useQueryTermProximity=!0),"plLazyCacheThreshold"in e||(e.plLazyCacheThreshold=0),"resultLimit"in e||(e.resultLimit=null),t.uiOptions=t.uiOptions||{};const{uiOptions:n}=t;if(n.sourceFilesUrl&&!n.sourceFilesUrl.endsWith("/")&&(n.sourceFilesUrl+="/"),n.mode=n.mode||_.Auto,n.mode===_.Target&&("string"==typeof n.target&&(n.target=document.getElementById(n.target)),!n.target))throw new Error("'target' mode specified but no valid target option specified");if("input"in n&&"string"!=typeof n.input||(n.input=document.getElementById(n.input||"morsels-search")),[_.Dropdown,_.Target].includes(n.mode)&&!n.input)throw new Error("'dropdown' or 'target' mode specified but no input element found");"inputDebounce"in n||(n.inputDebounce=100),n.preprocessQuery=n.preprocessQuery||(t=>t),n.dropdownAlignment=n.dropdownAlignment||"bottom-end","string"==typeof n.fsContainer&&(n.fsContainer=document.getElementById(n.fsContainer)),n.fsContainer=n.fsContainer||document.getElementsByTagName("body")[0],n.resultsPerPage=n.resultsPerPage||8,n.maxSubMatches=n.maxSubMatches||2,n.label=n.label||"Search this site",n.resultsLabel=n.resultsLabel||"Site results",n.fsInputLabel=n.fsInputLabel||"Search",n.fsPlaceholder=n.fsPlaceholder||"Search this site",n.fsCloseText=n.fsCloseText||"Close","fsScrollLock"in n||(n.fsScrollLock=!0),n.loadingIndicatorRender||(n.loadingIndicatorRender=(t,e,n,r)=>{const o=t("span",{class:"morsels-loading-indicator"});if(n){const e=t("div",{class:"morsels-initialising-text"},"... Initialising ...");return t("div",{class:"morsels-initialising"},e,o)}return r||o.classList.add("morsels-loading-indicator-subsequent"),o});const r=n.loadingIndicatorRender;n.loadingIndicatorRender=(...t)=>{const e=r(...t);return e.setAttribute(g,"true"),e},n.headerRender=n.headerRender||((t,e,n,r,o)=>n?t("div",{class:"morsels-header morsels-error"},"Oops! Something went wrong... 🙁"):r?t("div",{class:"morsels-header morsels-fs-blank"},"Start Searching Above!"):t("div",{class:"morsels-header"},`${o.resultsTotal} results found`)),n.resultsRender=n.resultsRender||R,n.resultsRenderOpts=n.resultsRenderOpts||{};const{resultsRenderOpts:o}=n;o.listItemRender=o.listItemRender||((t,e,n,r,i,s)=>{const c=t("a",{class:"morsels-link"},t("div",{class:"morsels-title"},i),...s);if(r){let t=r;const{addSearchedTerms:e}=o;if(e){const o=P(r);o.searchParams.append(e,n),t=o.toString()}c.setAttribute("href",t)}return t("li",{class:"morsels-list-item",role:"option"},c)}),o.headingBodyRender=o.headingBodyRender||((t,e,n,r,o)=>{const i=t("a",{class:"morsels-heading-body"},t("div",{class:"morsels-heading"},...n),t("div",{class:"morsels-body"},...r));return o&&i.setAttribute("href",o),i}),o.bodyOnlyRender=o.bodyOnlyRender||((t,e,n)=>t("div",{class:"morsels-body"},...n)),o.highlightRender=o.highlightRender||((t,e,n)=>t("span",{class:"morsels-highlight"},n)),t.otherOptions=t.otherOptions||{}}(t);const{uiOptions:n,searcherOptions:r}=t,{input:o,mode:i,dropdownAlignment:s,label:c,fsInputButtonText:l,fsInputLabel:a,fsScrollLock:u,target:f}=n,{url:d}=r;Ct[d]||(Ct[d]=new m(t.searcherOptions));const h=Ct[d],p=new Bt,[y,v,x,O,S]=function(t,e,n){const{uiOptions:r}=t,o=w("input",{class:"morsels-fs-input",type:"search",placeholder:r.fsPlaceholder,"aria-labelledby":"morsels-fs-label",enterkeyhint:"search"});W(o,"morsels-fs-list"),o.onkeydown=t=>{"Escape"===t.key&&o.value&&t.stopPropagation()};const i=w("span",{class:"morsels-fs-input-clear"});i.onclick=()=>{o.value&&(o.value="",o.dispatchEvent(new KeyboardEvent("input")),o.focus())};const s=w("button",{class:"morsels-input-close-fs"},r.fsCloseText),c=w("ul",{id:"morsels-fs-list",class:"morsels-list","aria-labelledby":"morsels-fs-label"}),l=w("div",{class:"morsels-root morsels-fs-root"},w("form",{class:"morsels-fs-controls"},w("label",{id:"morsels-fs-label",for:"morsels-fs-input",style:"display: none"},r.label),w("div",{class:"morsels-fs-input-wrapper"},o,i),s),Lt(r,e),c);l.onclick=t=>t.stopPropagation(),l.onmousedown=t=>t.stopPropagation(),U(l,c,r.label);const a=w("div",{class:"morsels-fs-backdrop"},l);function u(t){n(t),a.remove()}return a.onmousedown=()=>u(!1),a.onkeydown=t=>{"Escape"===t.code&&(t.stopPropagation(),u(!0))},s.onclick=t=>{t.preventDefault(),u(""===t.pointerType)},[a,c,o,function(){r.fsContainer.appendChild(a);const t=a.querySelector("input.morsels-fs-input");t&&t.focus();const e=c.querySelector(".focus");e&&c.scrollTo({top:e.offsetTop-c.offsetTop-30})},u]}(t,h,(t=>{t&&o&&o.focus(),p.F=!1,u&&(document.body.style.overflow="")}));function k(){p.F||(O(),p.F=!0,u&&(document.body.style.overflow="hidden"))}function A(){S(!1),u&&(document.body.style.overflow="")}function $(){function t(){Wt(n)||k()}o.addEventListener("click",t),o.addEventListener("keydown",(e=>{"Enter"===e.key&&t()}))}let j;if(x.addEventListener("input",p.N(y,v,h,t)),v.appendChild(n.headerRender(w,t,!1,!0)),!o||i!==_.Auto&&i!==_.Dropdown){if(o&&i===_.Fullscreen)It(o,l,a),$();else if(o&&i===_.Target){f.classList.add("morsels-root"),o.addEventListener("input",p.N(f,f,h,t));let T=f.getAttribute("id");T||(f.setAttribute("id","morsels-target-list"),T="morsels-target-list"),W(o,T),U(o,f,n.label)}}else{const E=o.getAttribute("placeholder")||"",M=o.parentElement,D=M.childNodes;let L=0;for(;L<D.length&&D[L]!==o;L+=1);o.remove();const[I,B]=function(t,e,n,r){const o=w("ul",{id:"morsels-dropdown-list",class:"morsels-list",tabindex:"-1"}),i=w("div",{class:"morsels-inner-root",style:"display: none;"},w("div",{class:"morsels-input-dropdown-separator"}),Lt(t,e),o),s=w("div",{class:"morsels-root morsels-dropdown-root"},n,i);return i.onkeyup=t=>{"Escape"===t.code&&(t.stopPropagation(),r())},[s,o]}(n,h,o,(()=>{p.G()}));function C(){i!==_.Dropdown&&(Ut=e())?(p.G(),function(t,e,n,r,o){t.removeAttribute("role"),t.removeAttribute("aria-expanded"),t.removeAttribute("aria-owns"),e.removeAttribute("role"),e.removeAttribute("aria-label"),e.removeAttribute("aria-live"),n.removeAttribute("aria-autocomplete"),n.removeAttribute("aria-controls"),n.removeAttribute("aria-activedescendant"),It(n,o,r)}(I,j,o,a,l)):(A(),p.G(),document.activeElement===o&&p.H(),function(t,e,n,r,o){!function(t,e){t.removeAttribute("readonly"),t.removeAttribute("role"),t.removeAttribute("aria-label"),t.setAttribute("placeholder",e),t.classList.remove("morsels-button-input")}(t,o),W(t,"morsels-dropdown-list"),U(e,n,r)}(o,I,j,c,E))}let F;j=B,L<D.length?M.insertBefore(I,D[L]):M.appendChild(I),p.H=()=>{!function(t,e,n){if(e.childElementCount){const r=t.children[1],o=r.firstElementChild;r.style.display="block",Dt(t,r,{placement:n,middleware:[ot({padding:10,mainAxis:!1}),it({apply({availableWidth:t,availableHeight:n}){Object.assign(e.style,{maxWidth:`min(${t}px, var(--morsels-dropdown-max-width))`,maxHeight:`min(${n}px, var(--morsels-dropdown-max-height))`})},padding:10}),Y({element:o})]}).then((({x:t,y:e,middlewareData:n})=>{Object.assign(r.style,{left:`${t}px`,top:`${e}px`});const{x:i}=n.arrow;Object.assign(o.style,{left:null!=i?`${i}px`:""})}))}}(I,j,s),p.C=!0},p.G=()=>{I.children[1].style.display="none",p.C=!1},o.addEventListener("input",p.N(I,j,h,t)),C(),window.addEventListener("resize",(()=>{clearTimeout(F),F=setTimeout(C,10)})),I.addEventListener("focusout",(()=>{Wt(n)&&setTimeout((()=>{let t=document.activeElement;for(;t;)if(t=t.parentElement,t===I)return;p.G()}),100)})),o.addEventListener("focus",(()=>Wt(n)&&p.H())),$()}function q(t){var e;const{key:r}=t;if(!["ArrowDown","ArrowUp","Home","End","Enter"].includes(r))return;let o,s=t=>{const e=t.offsetTop-o.offsetTop-o.clientHeight/2+t.clientHeight/2;o.scrollTo({top:e})};if(Wt(n)){if(!p.C)return;o=j}else if(i===_.Target)o=f,s=t=>{t.scrollIntoView({block:"center"})};else{if(!p.F)return;o=v}const c=o.querySelector(".focus");function l(t){return!(!t||t.getAttribute(b)||t.getAttribute(g))&&(c&&(c.classList.remove("focus"),c.removeAttribute("aria-selected"),c.removeAttribute("id")),t.classList.add("focus"),t.setAttribute("aria-selected","true"),t.setAttribute("id","morsels-list-selected"),s(t),!0)}const a=null===(e=o.querySelector(`[${b}]`))||void 0===e?void 0:e.nextElementSibling,u=o.lastElementChild;if("ArrowDown"===r)l(c?c.nextElementSibling:a);else if("ArrowUp"===r)c&&l(c.previousElementSibling);else if("Home"===r)l(a);else if("End"===r)l(u)||l(null==u?void 0:u.previousElementSibling);else if("Enter"===r&&c){const t=c.querySelector("a[href]");t&&(window.location.href=t.getAttribute("href"))}t.preventDefault()}return null==o||o.addEventListener("keydown",q),x.addEventListener("keydown",q),{showFullscreen:k,hideFullscreen:A}},Nt=Ft;return e=e.default})()));