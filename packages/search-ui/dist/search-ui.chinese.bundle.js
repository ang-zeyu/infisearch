!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.infisearch=n():t.infisearch=n()}(self,(()=>(()=>{"use strict";var t={d:(n,e)=>{for(var i in e)t.o(e,i)&&!t.o(n,i)&&Object.defineProperty(n,i,{enumerable:!0,get:e[i]})},o:(t,n)=>Object.prototype.hasOwnProperty.call(t,n)},n={};t.d(n,{default:()=>Vt});function e(t){if("string"!=typeof t)throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function i(t,n,e){for(const r of t){const t=r.isSubtracted||r.isInverted?!e:e;r.termsSearched?t&&n.push([...r.termsSearched]):r.children&&i(r.children,n,t)}}function r(t,n){const r=[],o=[];i(t,o,!0);const s=[];for(const t of o){const i=t.map((t=>(s.push(t),e(t)))).sort(((t,n)=>n.length-t.length)).join("|");if("latin"===n.langConfig.lang){const t=new RegExp(`(^|\\W|_)(${i})(\\w*?)(?=\\W|$)`,"gi");r.push(t)}else{const t=new RegExp(`(^|\\W|_)(${i})((?=\\W|$))`,"gi");r.push(t)}}return[r,JSON.stringify(s)]}class o{constructor(t,n,e,i,r,o){this.query=t,this.resultsTotal=n,this.queryParts=e,this.getNextN=i,this.free=r,this.t=o}}function s(t,n,e){const{numDocsPerStore:i,numStoresPerDir:r,indexingConfig:o,indexVer:s}=e,{numDocsPerBlock:c}=o,a=Math.floor(n/i),u=Math.floor(n/c);return`${t}${s}/field_store/${Math.floor(a/r)}/${u}/${a}.json`}const c=function(t,n,...e){const i=document.createElement(t);return Object.entries(n).forEach((([t,n])=>{i.setAttribute(t,n)})),i.append(...e),i};function a(){return c("span",{class:"infi-ellipses"}," ... ")}function u(t){return c("mark",{class:"infi-highlight"},t)}var l;!function(t){t.HEADING_BODY="heading-body",t.BODY_ONLY="body",t.HEADING_ONLY="heading"}(l||(l={}));class f{constructor(t,n,e,i,r){this.type=t,this.text=n,this.headingLink=i,this.heading=r,this.window=[],this.numTerms=0;const o=e.map((t=>Array.from(n.matchAll(t))));if(!o.some((t=>t.length)))return;let s=e.map((()=>-1)),c=1e7,a=e.map((()=>0));const u=o.map((()=>0)),l=o.map((t=>!t.length)),f=o.map((()=>-1));for(;;){let t=1e7,n=1e7,e=-1,i=0;for(let r=0;r<u.length;r++){const s=o[r][u[r]];if(!s)continue;const c=s.index+s[1].length;!l[r]&&c<n&&(n=c,e=r),t=Math.min(t,c),i=Math.max(i,c),f[r]=c}if(-1===e)break;const r=i-t;if(r<c&&(c=r,s=[...f],a=u.map(((t,n)=>o[n][t]&&o[n][t][2].length+o[n][t][3].length))),u[e]+=1,u[e]>=o[e].length&&(l[e]=!0,u[e]-=1,l.every((t=>t))))break}const d=s.map(((t,n)=>({pos:t,len:a[n]}))).filter((t=>t.pos>=0)).sort(((t,n)=>t.pos-n.pos));this.window=d,this.numTerms=d.length}highlight(t=!0){const{text:n,window:e}=this;if(!e.some((({pos:t})=>t>=0))){if(t){const t=n.trimStart().substring(0,80);return[80===t.length?t.replace(/\w+$/,""):t,a()]}return[n]}const i=[];let r=0;for(const{pos:o,len:s}of e){const e=o+s;if(o>r+80){t&&i.push(a());const r=n.substring(o-40,o);i.push(40===r.length?r.replace(/^\w+/,""):r),i.push(u(n.substring(o,e)))}else if(o>=r)i.pop(),i.push(n.substring(r,o)),i.push(u(n.substring(o,e)));else{if(!(e>r))continue;i.pop();i[i.length-1].textContent+=n.substring(r,e)}const c=n.substring(e,e+40);i.push(40===c.length?c.replace(/\w+$/,""):c),r=e}return t&&i.push(a()),i}highlightHTML(t=!0){const n=this.highlight(t);return c("div",{},...n).innerHTML}}var d=function(t,n,e,i){return new(e||(e=Promise))((function(r,o){function s(t){try{a(i.next(t))}catch(t){o(t)}}function c(t){try{a(i.throw(t))}catch(t){o(t)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(s,c)}a((i=i.apply(t,n||[])).next())}))};class h{constructor(t,n){this.fields=t,this.i=n}static u(t,n,e,i,r,o,c){return d(this,void 0,void 0,(function*(){const a=n[t],u=s(i,a,o),l=yield r.getJson(u);let f=a%o.numDocsPerStore;const{numDocsPerBlock:d}=o.indexingConfig;d<o.numDocsPerStore&&(f%=d);const p=l[f],_={};for(const e of c){const i=n[t+=1];_[e.name]=e.enumInfo.enumValues[i-1]||null}return new h({texts:p,enums:_},e)}))}getHeadingBodyExcerpts(){return function(t,n){let e,i=-2,r="",o=[];for(let s=0;s<t.length;s+=1){const[c,a]=t[s];switch(c){case"headingLink":i=s,r=a;break;case"heading":e=new f(l.HEADING_ONLY,a,n,i===s-1?r:void 0),o.push(e);break;case"body":{const i=[a];let r=s+1;for(;r<t.length&&"body"===t[r][0];)t[r][1].trim().length&&i.push(t[r][1]),r+=1;s=r-1;const c=new f(e?l.HEADING_BODY:l.BODY_ONLY,i.join(" ... "),n,null==e?void 0:e.headingLink,e);e&&(c.numTerms+=e.numTerms),o.push(c);break}}}return o}(this.fields.texts,this.i)}getKVFields(...t){const n=t.length,e=Object.create(null);let i=0;for(const t of this.fields.texts){const[r,o]=t;if(!(r in e)&&(e[r]=o,i+=1,i===n))break}return e}}var p=function(t,n,e,i){return new(e||(e=Promise))((function(r,o){function s(t){try{a(i.next(t))}catch(t){o(t)}}function c(t){try{a(i.throw(t))}catch(t){o(t)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(s,c)}a((i=i.apply(t,n||[])).next())}))};let _=0;const y=[];function m(){y.length&&y.shift()().then(m)}function w(t){return p(this,void 0,void 0,(function*(){const n=()=>p(this,void 0,void 0,(function*(){_+=1,yield t(),_-=1}));_>=2?y.push(n):(yield n(),m())}))}class b{constructor(t){this.cache=t,this.l=Object.create(null)}h(t){return p(this,void 0,void 0,(function*(){if(this.cache){let n=yield this.cache.match(t);n?this.l[t]=n.json():w((()=>p(this,void 0,void 0,(function*(){yield this.cache.add(t),n=yield this.cache.match(t),this.l[t]=n.json()}))))}else w((()=>p(this,void 0,void 0,(function*(){const n=yield fetch(t);this.l[t]=n.json()}))))}))}p(t){return p(this,void 0,void 0,(function*(){if(this.cache){(yield this.cache.match(t))||w((()=>this.cache.add(t)))}}))}getJson(t){return this.l[t]||(this.l[t]=fetch(t).then((t=>t.json()))),this.l[t]}}var g=function(t,n,e,i){return new(e||(e=Promise))((function(r,o){function s(t){try{a(i.next(t))}catch(t){o(t)}}function c(t){try{a(i.throw(t))}catch(t){o(t)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(s,c)}a((i=i.apply(t,n||[])).next())}))};let v;if(document.currentScript)v=document.currentScript.src;else{const t=document.getElementsByTagName("script");v=t.length&&t[t.length-1].src}v=v.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/");const x={s:""};const P=class{constructor(t){if(this._=t,this.isSetupDone=!1,this.m=Object.create(null),this.id=0,"object"!=typeof WebAssembly||"function"!=typeof WebAssembly.instantiateStreaming)return void(this.setupPromise=Promise.reject("WA unsupported"));!function(t){if(!("url"in t))throw new Error("Mandatory url parameter not specified");t.url.endsWith("/")||(t.url+="/"),t.url.startsWith("/")&&(t.url=window.location.origin+t.url),"maxAutoSuffixSearchTerms"in t||(t.maxAutoSuffixSearchTerms=3),"maxSuffixSearchTerms"in t||(t.maxSuffixSearchTerms=5),"useQueryTermProximity"in t||(t.useQueryTermProximity=!0),"plLazyCacheThreshold"in t||(t.plLazyCacheThreshold=0),"resultLimit"in t||(t.resultLimit=null)}(this._);const n=this.g().then((()=>this.v(`infi:${t.url}`)));this.setupPromise=Promise.all([n,new Promise(((t,e)=>{const i=URL.createObjectURL(new Blob([`const __morsWrkrUrl="${v}";${x.s}`],{type:"text/javascript"}));this.P=new Worker(i),this.P.onmessage=e=>{if(e.data.query){const{query:t,queryId:n,nextResults:i,resultsTotal:r,queryParts:o}=e.data,s=this.m[n];s&&s.resolve({query:t,nextResults:i,resultsTotal:r,queryParts:o})}else""===e.data?(n.then((()=>this.P.postMessage(this.cfg))),URL.revokeObjectURL(i)):e.data.isSetupDone&&(this.isSetupDone=!0,t(),this.S(),this.k())},this.P.onmessageerror=t=>{console.error(t),this.isSetupDone||e()}}))])}v(t){return g(this,void 0,void 0,(function*(){try{const{indexVer:n}=this.cfg;let e=yield caches.open(t);const i=yield e.match("/index_ver");if(i){n!==(yield i.text())&&(yield caches.delete(t),e=yield caches.open(t))}yield e.put("/index_ver",new Response(n)),this.$=new b(e)}catch(t){this.$=new b(void 0)}}))}S(){if(!this._.cacheAllFieldStores)return;const{numDocsPerStore:t,indexingConfig:n,lastDocId:e}=this.cfg,i=Math.min(t,n.numDocsPerBlock);for(let t=0;t<e;t+=i)this.$.h(s(this._.url,t,this.cfg))}k(){this.cfg.indexingConfig.plNamesToCache.forEach((t=>{const n=Math.floor(t/this.cfg.indexingConfig.numPlsPerDir);this.$.p(`${this._.url}${this.cfg.indexVer}/pl_${n}/pl_${t}.mls`)}))}g(){return g(this,void 0,void 0,(function*(){const t=this._;if(this.cfg=yield(yield fetch(`${t.url}output_config.json`,{cache:"no-store"})).json(),"0.8.6"!==this.cfg.ver)throw new Error("InfiSearch: search !== indexer version!");"cacheAllFieldStores"in t||(t.cacheAllFieldStores=!!this.cfg.cacheAllFieldStores),t.useQueryTermProximity=t.useQueryTermProximity&&this.cfg.indexingConfig.withPositions,this.cfg.searcherOptions=t,this.A=this.cfg.fieldInfos.filter((t=>t.enumInfo)).sort(((t,n)=>t.enumInfo.enumId-n.enumInfo.enumId))}))}getEnumValues(t){return g(this,void 0,void 0,(function*(){yield this.setupPromise;const n=this.cfg.fieldInfos.find((n=>n.name===t)),e=null==n?void 0:n.enumInfo;return e?e.enumValues:null}))}runQuery(t,n={enumFilters:{}}){return g(this,void 0,void 0,(function*(){yield this.setupPromise,n.enumFilters=n.enumFilters||{};const e=this.id;this.id+=1;const i=this.m;i[e]={promise:void 0,resolve:void 0},i[e].promise=new Promise((r=>{i[e].resolve=r,this.P.postMessage({query:t,queryId:e,opts:n})}));const s=yield i[e].promise,[c,a]=r(s.queryParts,this.cfg);return new o(t,s.resultsTotal,s.queryParts,(n=>g(this,void 0,void 0,(function*(){if(!i[e])return[];if(yield i[e].promise,i[e].promise=new Promise((r=>{i[e].resolve=r,this.P.postMessage({query:t,queryId:e,isGetNextN:!0,n})})),!i[e])return[];const{nextResults:r}=yield i[e].promise,o=new Uint32Array(r),s=[],a=1+this.A.length;for(let t=0;t<o.length;t+=a)s.push(h.u(t,o,c,this._.url,this.$,this.cfg,this.A));return Promise.all(s)}))),(()=>{delete i[e],this.P.postMessage({query:t,isFree:!0})}),a)}))}free(){this.P.terminate()}};var S;x.s='(()=>{var t,n,e,r,o={899:(t,n,e)=>{e.p=__morsWrkrUrl},464:(t,n,e)=>{"use strict";e.a(t,(async(t,r)=>{try{e.d(n,{get_new_searcher:()=>o.qS,get_query:()=>o.R1});var o=e(642),i=t([o]);o=(i.then?(await i)():i)[0],r()}catch(t){r(t)}}))},642:(t,n,e)=>{"use strict";e.a(t,(async(r,o)=>{try{e.d(n,{G6:()=>G,JP:()=>L,NS:()=>F,Or:()=>Q,QF:()=>J,R1:()=>k,UA:()=>N,VD:()=>V,XG:()=>K,XP:()=>C,bj:()=>R,fP:()=>H,ff:()=>B,jp:()=>z,lB:()=>W,oH:()=>X,qS:()=>U,qu:()=>Y,ug:()=>D});var i=e(554),c=e(273);t=e.hmd(t);var u=r([c]);c=(u.then?(await u)():u)[0];const s=new Array(32).fill(void 0);function f(t){return s[t]}s.push(void 0,null,!0,!1);let a=s.length;function _(t){t<36||(s[t]=a,a=t)}function l(t){const n=f(t);return _(t),n}function d(t){a===s.length&&s.push(s.length+1);const n=a;return a=s[n],s[n]=t,n}let y=new("undefined"==typeof TextDecoder?(0,t.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});y.decode();let w=new Uint8Array;function b(){return 0===w.byteLength&&(w=new Uint8Array(c.memory.buffer)),w}function h(t,n){return y.decode(b().subarray(t,t+n))}function v(t,n,e,r){const o={a:t,b:n,cnt:1,dtor:e},i=(...t)=>{o.cnt++;const n=o.a;o.a=0;try{return r(n,o.b,...t)}finally{0==--o.cnt?c.__wbindgen_export_0.get(o.dtor)(n,o.b):o.a=n}};return i.original=o,i}function p(t,n,e){c._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__hf06d5548831c85d9(t,n,d(e))}let g=new Int32Array;function m(){return 0===g.byteLength&&(g=new Int32Array(c.memory.buffer)),g}let x=new Uint32Array;function A(){return 0===x.byteLength&&(x=new Uint32Array(c.memory.buffer)),x}let j=0;let q=new("undefined"==typeof TextEncoder?(0,t.require)("util").TextEncoder:TextEncoder)("utf-8");const O="function"==typeof q.encodeInto?function(t,n){return q.encodeInto(t,n)}:function(t,n){const e=q.encode(t);return n.set(e),{read:t.length,written:e.length}};function S(t,n,e){if(void 0===e){const e=q.encode(t),r=n(e.length);return b().subarray(r,r+e.length).set(e),j=e.length,r}let r=t.length,o=n(r);const i=b();let c=0;for(;c<r;c++){const n=t.charCodeAt(c);if(n>127)break;i[o+c]=n}if(c!==r){0!==c&&(t=t.slice(c)),o=e(o,r,r=c+3*t.length);const n=b().subarray(o+c,o+r);c+=O(t,n).written}return j=c,o}function P(t){return null==t}function U(t,n,e,r,o,i,u,s,f,a,_,l,y,w,b,h,v){const p=S(r,c.__wbindgen_malloc,c.__wbindgen_realloc),g=j;var m=P(u)?0:S(u,c.__wbindgen_malloc,c.__wbindgen_realloc),x=j;const A=S(_,c.__wbindgen_malloc,c.__wbindgen_realloc),q=j,O=S(l,c.__wbindgen_malloc,c.__wbindgen_realloc),U=j,$=c.get_new_searcher(d(t),n,e,p,g,d(o),P(i)?16777215:i?1:0,m,x,!P(s),P(s)?0:s,d(f),a,A,q,O,U,y,w,b,h,!P(v),P(v)?0:v);return T.__wrap($)}function $(t,n){const e=n(4*t.length);return A().set(t,e/4),j=t.length,e}function k(t,n,e){const r=S(n,c.__wbindgen_malloc,c.__wbindgen_realloc),o=j,i=$(e,c.__wbindgen_malloc),u=j;return l(c.get_query(t,r,o,i,u))}function E(t,n){try{return t.apply(this,n)}catch(t){c.__wbindgen_exn_store(d(t))}}function M(t,n,e,r){c.wasm_bindgen__convert__closures__invoke2_mut__h668a0ca803c0613b(t,n,d(e),d(r))}class I{static __wrap(t){const n=Object.create(I.prototype);return n.ptr=t,n}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();c.__wbg_query_free(t)}get results_total(){return c.__wbg_get_query_results_total(this.ptr)>>>0}set results_total(t){c.__wbg_set_query_results_total(this.ptr,t)}get_next_n(t){try{const u=c.__wbindgen_add_to_stack_pointer(-16);c.query_get_next_n(u,this.ptr,t);var n=m()[u/4+0],e=m()[u/4+1],r=(o=n,i=e,A().subarray(o/4,o/4+i)).slice();return c.__wbindgen_free(n,4*e),r}finally{c.__wbindgen_add_to_stack_pointer(16)}var o,i}get_query_parts(){try{const e=c.__wbindgen_add_to_stack_pointer(-16);c.query_get_query_parts(e,this.ptr);var t=m()[e/4+0],n=m()[e/4+1];return h(t,n)}finally{c.__wbindgen_add_to_stack_pointer(16),c.__wbindgen_free(t,n)}}}class T{static __wrap(t){const n=Object.create(T.prototype);return n.ptr=t,n}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();c.__wbg_searcher_free(t)}get_ptr(){return c.searcher_get_ptr(this.ptr)}}function F(t,n,e,r,o,c,u){return d((0,i.T)(t>>>0,n>>>0,h(e,r),h(o,c),u>>>0))}function N(t,n,e){return d(f(t).then(f(n),f(e)))}function D(t){l(t)}function G(t){const n=l(t).original;if(1==n.cnt--)return n.a=0,!0;return!1}function W(t){return d(new Uint8Array(f(t)))}function B(t){return d(I.__wrap(t))}function V(){return E((function(t,n,e){return d(f(t).call(f(n),f(e)))}),arguments)}function C(t){return void 0===f(t)}function J(t,n){try{var e={a:t,b:n};const r=new Promise(((t,n)=>{const r=e.a;e.a=0;try{return M(r,e.b,t,n)}finally{e.a=r}}));return d(r)}finally{e.a=e.b=0}}function R(t){return f(t).length}function X(){return d(c.memory)}function z(t){return d(f(t).buffer)}function H(t,n,e){f(t).set(f(n),e>>>0)}function Q(t,n){throw new Error(h(t,n))}function K(t,n){return d(f(t).then(f(n)))}function L(t){return d(Promise.resolve(f(t)))}function Y(t,n,e){return d(v(t,n,15,p))}o()}catch(Z){o(Z)}}))},554:(t,n,e)=>{"use strict";async function r(t,n,e,r,o){const i=`${r}pl_${Math.floor(t/n)}/pl_${t}.mls`,c=`infi:${e}`;function u(t){return fetch(t).then((t=>t.arrayBuffer()))}try{const t=await caches.open(c),n=await t.match(i);if(n)return await n.arrayBuffer();{const n=await u(i);return n.byteLength>=o&&t.add(i),n}}catch{return u(i)}}e.d(n,{T:()=>r})},273:(t,n,e)=>{"use strict";e.a(t,(async(r,o)=>{try{var i,c=r([i=e(642)]),[i]=c.then?(await c)():c;await e.v(n,t.id,"0becef8543740552265c",{"./index_bg.js":{__wbg_fetchPl_bf03ade003a83df0:i.NS,__wbg_then_cedad20fbbd9418a:i.UA,__wbindgen_object_drop_ref:i.ug,__wbindgen_cb_drop:i.G6,__wbg_new_8c3f0052272a457a:i.lB,__wbg_query_new:i.ff,__wbg_call_168da88779e35f61:i.VD,__wbindgen_is_undefined:i.XP,__wbg_new_9962f939219f1820:i.QF,__wbg_length_9e1ae1900cb0fbd5:i.bj,__wbindgen_memory:i.oH,__wbg_buffer_3f3d764d4747d564:i.jp,__wbg_set_83db9690f9353e79:i.fP,__wbindgen_throw:i.Or,__wbg_then_11f7a54d67b4bfad:i.XG,__wbg_resolve_99fe17964f31ffc0:i.JP,__wbindgen_closure_wrapper45:i.qu}}),o()}catch(t){o(t)}}),1)}},i={};function c(t){var n=i[t];if(void 0!==n)return n.exports;var e=i[t]={id:t,loaded:!1,exports:{}};return o[t](e,e.exports,c),e.loaded=!0,e.exports}t="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",n="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",e="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",r=t=>{t&&!t.d&&(t.d=1,t.forEach((t=>t.r--)),t.forEach((t=>t.r--?t.r++:t())))},c.a=(o,i,c)=>{var u;c&&((u=[]).d=1);var s,f,a,_=new Set,l=o.exports,d=new Promise(((t,n)=>{a=n,f=t}));d[n]=l,d[t]=t=>(u&&t(u),_.forEach(t),d.catch((t=>{}))),o.exports=d,i((o=>{var i;s=(o=>o.map((o=>{if(null!==o&&"object"==typeof o){if(o[t])return o;if(o.then){var i=[];i.d=0,o.then((t=>{c[n]=t,r(i)}),(t=>{c[e]=t,r(i)}));var c={};return c[t]=t=>t(i),c}}var u={};return u[t]=t=>{},u[n]=o,u})))(o);var c=()=>s.map((t=>{if(t[e])throw t[e];return t[n]})),f=new Promise((n=>{(i=()=>n(c)).r=0;var e=t=>t!==u&&!_.has(t)&&(_.add(t),t&&!t.d&&(i.r++,t.push(i)));s.map((n=>n[t](e)))}));return i.r?f:c()}),(t=>(t?a(d[e]=t):f(l),r(u)))),u&&(u.d=0)},c.d=(t,n)=>{for(var e in n)c.o(n,e)&&!c.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:n[e]})},c.hmd=t=>((t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t),c.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),c.v=(t,n,e,r)=>{var o=fetch(c.p+""+e+".module.wasm");return"function"==typeof WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(o,r).then((n=>Object.assign(t,n.instance.exports))):o.then((t=>t.arrayBuffer())).then((t=>WebAssembly.instantiate(t,r))).then((n=>Object.assign(t,n.instance.exports)))},c.p="/",(()=>{"use strict";c(899);class t{constructor(t,n,e){this.t=t,this.i=n,this.u=e}_(t){return this.u.get_next_n(t).buffer}l(){this.u.free()}}var n=function(t,n,e,r){return new(e||(e=Promise))((function(o,i){function c(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(c,u)}s((r=r.apply(t,n||[])).next())}))};const e=Object.create(null);let r,o,i;function u(c,u,s){return n(this,void 0,void 0,(function*(){const{enumFilters:n}=u,f=function(t){let n=0;const e=[];return Object.entries(t).forEach((([t,r])=>{const o=i.fieldInfos.find((n=>n.name===t));if(o){const{enumId:t,enumValues:i}=o.enumInfo;e.push(t);const c=r.filter((t=>null===t||i.includes(t))).map((t=>null===t?0:i.findIndex((n=>n===t))+1));e.push(c.length),e.push(...c),n+=1}})),e.splice(0,0,n),e}(n),a=yield r.get_query(o.get_ptr(),c,f),_=a.get_query_parts();let l=[];try{l=JSON.parse(_)}catch(t){console.error(`Error deserializing query parts:\\n${_}\\n${t}`)}return e[s]=new t(l,a.results_total,a),e[s]}))}function s(t,e){return n(this,void 0,void 0,(function*(){i=t;const{indexVer:c,indexingConfig:u,langConfig:{lang:s,options:f},fieldInfos:a,numScoredFields:_,searcherOptions:l}=i,d=`${l.url}${c}/`,y=function(t,e){return n(this,void 0,void 0,(function*(){let n;try{n=yield caches.open(`infi:${t}`)}catch(t){}const r=`${e}/metadata.json`;return(n?n.match(r).then((t=>!t&&n.add(r))).then((()=>n.match(r))).catch((()=>fetch(r))):fetch(r)).then((t=>t.arrayBuffer()))}))}(l.url,d),w=new TextEncoder;let b;const h=f.stop_words;if(h){const t=h.map((t=>w.encode(t))).filter((t=>t.length<255)),n=t.length+t.reduce(((t,n)=>t+n.length),0);b=new Uint8Array(n);let e=0;t.forEach((t=>{b[e++]=t.length,b.set(t,e),e+=t.length}))}const v=a.map((t=>w.encode(t.name))),p=v.reduce(((t,n)=>t+n.length),0),g=new Uint8Array(13*v.length+p),m=new Float32Array(3);let x=0;a.forEach(((t,n)=>{const e=v[n].length;g[x++]=e,g.set(v[n],x),x+=e,m[0]=t.weight,m[1]=t.k,m[2]=t.b,g.set(new Uint8Array(m.buffer),x),x+=12})),r=yield e,o=r.get_new_searcher(yield y,u.numPlsPerDir,u.withPositions,s,b,f.ignore_stop_words,f.stemmer,f.max_term_len,g,_,l.url,d,l.maxAutoSuffixSearchTerms,l.maxSuffixSearchTerms,l.useQueryTermProximity,l.plLazyCacheThreshold,l.resultLimit)}))}var f=function(t,n,e,r){return new(e||(e=Promise))((function(o,i){function c(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(c,u)}s((r=r.apply(t,n||[])).next())}))};!function(t){onmessage=function(n){return f(this,void 0,void 0,(function*(){const r=n.data;if(r.searcherOptions)yield s(r,t),postMessage({isSetupDone:!0});else if(r.query){const{query:t,opts:n,queryId:o,n:i,isFree:c,isGetNextN:s}=r;if(c)!function(t){e[t]&&(e[t].l(),delete e[t])}(o);else if(s){const n=function(t,n){var r;return(null===(r=e[t])||void 0===r?void 0:r._(n))||new ArrayBuffer(0)}(o,i);postMessage({query:t,queryId:o,nextResults:n},[n])}else{const e=yield u(t,n,o);postMessage({query:t,queryId:o,resultsTotal:e.i,queryParts:e.t})}}}))},postMessage("")}(Promise.resolve().then(c.bind(c,464)))})()})();',function(t){t.Auto="auto",t.Dropdown="dropdown",t.Fullscreen="fullscreen",t.Target="target"}(S||(S={}));const k="infi-list-selected";function $(t,n,e,i,r){n&&(n.classList.remove("focus"),n.removeAttribute("aria-selected"),n.removeAttribute("id")),t?(t.classList.add("focus"),t.setAttribute("aria-selected","true"),t.setAttribute("id",k),r&&function(t,n){const e=getComputedStyle(n);if(["scroll","auto","overlay"].includes(e.overflowY)){const e=t.offsetTop-n.offsetTop-n.clientHeight/2+t.clientHeight/2;n.scrollTo({top:e})}else t.scrollIntoView({block:"center"})}(t,i),e.setAttribute("aria-activedescendant",k)):(r&&i.scrollTo({top:0}),A(e))}function A(t){t.removeAttribute("aria-activedescendant")}function E(t){t.setAttribute("aria-expanded","false")}function q(t,n,e){t.setAttribute("role","combobox"),t.setAttribute("autocomplete","off"),t.setAttribute("aria-autocomplete","list");const i=n.getAttribute("id");t.setAttribute("aria-controls",i),E(t),n.setAttribute("role","listbox"),n.setAttribute("aria-label",e)}const j="infi-filter-opt-enter";let O=0;function T(t,n){const e=O++,i="infi-filter-opts-"+e,r=c("div",{id:i,role:"listbox","aria-multiselectable":"true","aria-label":"filter options"}),o=c("div",{class:"infi-filter-header",tabindex:"0",role:"combobox","aria-expanded":"false","aria-label":"filter"},n.q),s=c("div",{class:"infi-filter"},o,r);function a(t,n){n&&n.classList.remove("focus"),t?(t.classList.add("focus"),o.setAttribute("aria-activedescendant",t.getAttribute("id"))):A(o)}function u(){const t=r.querySelectorAll('[role="option"]');let n,e=-1;return t.forEach(((t,i)=>{t.getAttribute("id")===o.getAttribute("aria-activedescendant")&&(n=t,e=i)})),[e,n,t]}const l=n.j.map(((i,r)=>function(i,r){const o=c("input",{type:"checkbox",class:"infi-checkbox",checked:"true",role:"option","aria-selected":"true",id:`infi-filter-opt-${e}-${r}`}),s=c("div",{class:"infi-filter-opt"},c("label",{class:"infi-checkbox-label"},o,i));function l(e){n.O[r]=o.checked,o.setAttribute("aria-selected",o.checked+"");const[,i]=u();e&&a(o,i),t.T.value&&t.R(t.T.value)}return o.onclick=t=>{t.stopPropagation(),l(!1)},o.addEventListener(j,(()=>{o.checked=!o.checked,l(!0)})),s}(i,r)));function f(){r.innerHTML="",r.append(...l),o.classList.add("active"),o.setAttribute("aria-expanded","true"),o.setAttribute("aria-controls",i)}let d=0===n.L;const h=()=>{d?function(){const[,t]=u();a(void 0,t),r.innerHTML="",o.classList.remove("active"),o.setAttribute("aria-expanded","false"),o.removeAttribute("aria-controls"),A(o)}():f(),d=!d};return d&&f(),o.onclick=h,o.onkeydown=t=>{if(!["ArrowDown","ArrowUp","Enter"," ","Home","End","Escape"].includes(t.key))return;const n=t.key;t.preventDefault();const[e,i,r]=u(),o=r[0],s=r[r.length-1];d?"ArrowDown"===n?a(r[(e+1)%r.length],i):"ArrowUp"===n?a(e>0?r[e-1]:s,i):"Enter"===n||" "===n?i?(i.dispatchEvent(new Event(j)),t.stopPropagation()):"Enter"===n&&h():"Home"===n?a(o,i):"End"===n?a(s,i):"Escape"===n&&(h(),t.stopPropagation()):"Enter"===n&&h()},s}function R(t){return t.split("-")[0]}function L(t){return t.split("-")[1]}function M(t){return["top","bottom"].includes(R(t))?"x":"y"}function D(t){return"y"===t?"height":"width"}function U(t,n,e){let{reference:i,floating:r}=t;const o=i.x+i.width/2-r.width/2,s=i.y+i.height/2-r.height/2,c=M(n),a=D(c),u=i[a]/2-r[a]/2,l="x"===c;let f;switch(R(n)){case"top":f={x:o,y:i.y-r.height};break;case"bottom":f={x:o,y:i.y+i.height};break;case"right":f={x:i.x+i.width,y:s};break;case"left":f={x:i.x-r.width,y:s};break;default:f={x:i.x,y:i.y}}switch(L(n)){case"start":f[c]-=u*(e&&l?-1:1);break;case"end":f[c]+=u*(e&&l?-1:1)}return f}function I(t){return"number"!=typeof t?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}function C(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function F(t,n){var e;void 0===n&&(n={});const{x:i,y:r,platform:o,rects:s,elements:c,strategy:a}=t,{boundary:u="clippingAncestors",rootBoundary:l="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=n,p=I(h),_=c[d?"floating"===f?"reference":"floating":f],y=C(await o.getClippingRect({element:null==(e=await(null==o.isElement?void 0:o.isElement(_)))||e?_:_.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(c.floating)),boundary:u,rootBoundary:l,strategy:a})),m=C(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:"floating"===f?{...s.floating,x:i,y:r}:s.reference,offsetParent:await(null==o.getOffsetParent?void 0:o.getOffsetParent(c.floating)),strategy:a}):s[f]);return{top:y.top-m.top+p.top,bottom:m.bottom-y.bottom+p.bottom,left:y.left-m.left+p.left,right:m.right-y.right+p.right}}const B=Math.min,N=Math.max;function W(t,n,e){return N(t,B(n,e))}const H=t=>({name:"arrow",options:t,async fn(n){const{element:e,padding:i=0}=null!=t?t:{},{x:r,y:o,placement:s,rects:c,platform:a}=n;if(null==e)return{};const u=I(i),l={x:r,y:o},f=M(s),d=L(s),h=D(f),p=await a.getDimensions(e),_="y"===f?"top":"left",y="y"===f?"bottom":"right",m=c.reference[h]+c.reference[f]-l[f]-c.floating[h],w=l[f]-c.reference[f],b=await(null==a.getOffsetParent?void 0:a.getOffsetParent(e));let g=b?"y"===f?b.clientHeight||0:b.clientWidth||0:0;0===g&&(g=c.floating[h]);const v=m/2-w/2,x=u[_],P=g-p[h]-u[y],S=g/2-p[h]/2+v,k=W(x,S,P),$=("start"===d?u[_]:u[y])>0&&S!==k&&c.reference[h]<=c.floating[h];return{[f]:l[f]-($?S<x?x-S:P-S:0),data:{[f]:k,centerOffset:S-k}}}}),Q={left:"right",right:"left",bottom:"top",top:"bottom"};function V(t){return t.replace(/left|right|bottom|top/g,(t=>Q[t]))}function G(t,n,e){void 0===e&&(e=!1);const i=L(t),r=M(t),o=D(r);let s="x"===r?i===(e?"end":"start")?"right":"left":"start"===i?"bottom":"top";return n.reference[o]>n.floating[o]&&(s=V(s)),{main:s,cross:V(s)}}const z={start:"end",end:"start"};function J(t){return t.replace(/start|end/g,(t=>z[t]))}const X=["top","right","bottom","left"],K=(X.reduce(((t,n)=>t.concat(n,n+"-start",n+"-end")),[]),function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(n){var e;const{placement:i,middlewareData:r,rects:o,initialPlacement:s,platform:c,elements:a}=n,{mainAxis:u=!0,crossAxis:l=!0,fallbackPlacements:f,fallbackStrategy:d="bestFit",flipAlignment:h=!0,...p}=t,_=R(i),y=f||(_!==s&&h?function(t){const n=V(t);return[J(t),n,J(n)]}(s):[V(s)]),m=[s,...y],w=await F(n,p),b=[];let g=(null==(e=r.flip)?void 0:e.overflows)||[];if(u&&b.push(w[_]),l){const{main:t,cross:n}=G(i,o,await(null==c.isRTL?void 0:c.isRTL(a.floating)));b.push(w[t],w[n])}if(g=[...g,{placement:i,overflows:b}],!b.every((t=>t<=0))){var v,x;const t=(null!=(v=null==(x=r.flip)?void 0:x.index)?v:0)+1,n=m[t];if(n)return{data:{index:t,overflows:g},reset:{placement:n}};let e="bottom";switch(d){case"bestFit":{var P;const t=null==(P=g.map((t=>[t,t.overflows.filter((t=>t>0)).reduce(((t,n)=>t+n),0)])).sort(((t,n)=>t[1]-n[1]))[0])?void 0:P[0].placement;t&&(e=t);break}case"initialPlacement":e=s}if(i!==e)return{reset:{placement:e}}}return{}}}});const Y=function(t){return void 0===t&&(t={}),{name:"size",options:t,async fn(n){const{placement:e,rects:i,platform:r,elements:o}=n,{apply:s=(()=>{}),...c}=t,a=await F(n,c),u=R(e),l=L(e);let f,d;"top"===u||"bottom"===u?(f=u,d=l===(await(null==r.isRTL?void 0:r.isRTL(o.floating))?"start":"end")?"left":"right"):(d=u,f="end"===l?"top":"bottom");const h=N(a.left,0),p=N(a.right,0),_=N(a.top,0),y=N(a.bottom,0),m={availableHeight:i.floating.height-(["left","right"].includes(e)?2*(0!==_||0!==y?_+y:N(a.top,a.bottom)):a[f]),availableWidth:i.floating.width-(["top","bottom"].includes(e)?2*(0!==h||0!==p?h+p:N(a.left,a.right)):a[d])};await s({...n,...m});const w=await r.getDimensions(o.floating);return i.floating.width!==w.width||i.floating.height!==w.height?{reset:{rects:!0}}:{}}}};function Z(t){return t&&t.document&&t.location&&t.alert&&t.setInterval}function tt(t){if(null==t)return window;if(!Z(t)){const n=t.ownerDocument;return n&&n.defaultView||window}return t}function nt(t){return tt(t).getComputedStyle(t)}function et(t){return Z(t)?"":t?(t.nodeName||"").toLowerCase():""}function it(){const t=navigator.userAgentData;return null!=t&&t.brands?t.brands.map((t=>t.brand+"/"+t.version)).join(" "):navigator.userAgent}function rt(t){return t instanceof tt(t).HTMLElement}function ot(t){return t instanceof tt(t).Element}function st(t){return"undefined"!=typeof ShadowRoot&&(t instanceof tt(t).ShadowRoot||t instanceof ShadowRoot)}function ct(t){const{overflow:n,overflowX:e,overflowY:i}=nt(t);return/auto|scroll|overlay|hidden/.test(n+i+e)}function at(t){return["table","td","th"].includes(et(t))}function ut(t){const n=/firefox/i.test(it()),e=nt(t);return"none"!==e.transform||"none"!==e.perspective||"paint"===e.contain||["transform","perspective"].includes(e.willChange)||n&&"filter"===e.willChange||n&&!!e.filter&&"none"!==e.filter}function lt(){return!/^((?!chrome|android).)*safari/i.test(it())}const ft=Math.min,dt=Math.max,ht=Math.round;function pt(t,n,e){var i,r,o,s;void 0===n&&(n=!1),void 0===e&&(e=!1);const c=t.getBoundingClientRect();let a=1,u=1;n&&rt(t)&&(a=t.offsetWidth>0&&ht(c.width)/t.offsetWidth||1,u=t.offsetHeight>0&&ht(c.height)/t.offsetHeight||1);const l=ot(t)?tt(t):window,f=!lt()&&e,d=(c.left+(f&&null!=(i=null==(r=l.visualViewport)?void 0:r.offsetLeft)?i:0))/a,h=(c.top+(f&&null!=(o=null==(s=l.visualViewport)?void 0:s.offsetTop)?o:0))/u,p=c.width/a,_=c.height/u;return{width:p,height:_,top:h,right:d+p,bottom:h+_,left:d,x:d,y:h}}function _t(t){return(n=t,(n instanceof tt(n).Node?t.ownerDocument:t.document)||window.document).documentElement;var n}function yt(t){return ot(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function mt(t){return pt(_t(t)).left+yt(t).scrollLeft}function wt(t,n,e){const i=rt(n),r=_t(n),o=pt(t,i&&function(t){const n=pt(t);return ht(n.width)!==t.offsetWidth||ht(n.height)!==t.offsetHeight}(n),"fixed"===e);let s={scrollLeft:0,scrollTop:0};const c={x:0,y:0};if(i||!i&&"fixed"!==e)if(("body"!==et(n)||ct(r))&&(s=yt(n)),rt(n)){const t=pt(n,!0);c.x=t.x+n.clientLeft,c.y=t.y+n.clientTop}else r&&(c.x=mt(r));return{x:o.left+s.scrollLeft-c.x,y:o.top+s.scrollTop-c.y,width:o.width,height:o.height}}function bt(t){return"html"===et(t)?t:t.assignedSlot||t.parentNode||(st(t)?t.host:null)||_t(t)}function gt(t){return rt(t)&&"fixed"!==nt(t).position?t.offsetParent:null}function vt(t){const n=tt(t);let e=gt(t);for(;e&&at(e)&&"static"===nt(e).position;)e=gt(e);return e&&("html"===et(e)||"body"===et(e)&&"static"===nt(e).position&&!ut(e))?n:e||function(t){let n=bt(t);for(st(n)&&(n=n.host);rt(n)&&!["html","body"].includes(et(n));){if(ut(n))return n;{const t=n.parentNode;n=st(t)?t.host:t}}return null}(t)||n}function xt(t){if(rt(t))return{width:t.offsetWidth,height:t.offsetHeight};const n=pt(t);return{width:n.width,height:n.height}}function Pt(t){const n=bt(t);return["html","body","#document"].includes(et(n))?t.ownerDocument.body:rt(n)&&ct(n)?n:Pt(n)}function St(t,n){var e;void 0===n&&(n=[]);const i=Pt(t),r=i===(null==(e=t.ownerDocument)?void 0:e.body),o=tt(i),s=r?[o].concat(o.visualViewport||[],ct(i)?i:[]):i,c=n.concat(s);return r?c:c.concat(St(s))}function kt(t,n,e){return"viewport"===n?C(function(t,n){const e=tt(t),i=_t(t),r=e.visualViewport;let o=i.clientWidth,s=i.clientHeight,c=0,a=0;if(r){o=r.width,s=r.height;const t=lt();(t||!t&&"fixed"===n)&&(c=r.offsetLeft,a=r.offsetTop)}return{width:o,height:s,x:c,y:a}}(t,e)):ot(n)?function(t,n){const e=pt(t,!1,"fixed"===n),i=e.top+t.clientTop,r=e.left+t.clientLeft;return{top:i,left:r,x:r,y:i,right:r+t.clientWidth,bottom:i+t.clientHeight,width:t.clientWidth,height:t.clientHeight}}(n,e):C(function(t){var n;const e=_t(t),i=yt(t),r=null==(n=t.ownerDocument)?void 0:n.body,o=dt(e.scrollWidth,e.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=dt(e.scrollHeight,e.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0);let c=-i.scrollLeft+mt(t);const a=-i.scrollTop;return"rtl"===nt(r||e).direction&&(c+=dt(e.clientWidth,r?r.clientWidth:0)-o),{width:o,height:s,x:c,y:a}}(_t(t)))}function $t(t){const n=St(t),e=["absolute","fixed"].includes(nt(t).position)&&rt(t)?vt(t):t;return ot(e)?n.filter((t=>ot(t)&&function(t,n){const e=null==n.getRootNode?void 0:n.getRootNode();if(t.contains(n))return!0;if(e&&st(e)){let e=n;do{if(e&&t===e)return!0;e=e.parentNode||e.host}while(e)}return!1}(t,e)&&"body"!==et(t))):[]}const At={getClippingRect:function(t){let{element:n,boundary:e,rootBoundary:i,strategy:r}=t;const o=[..."clippingAncestors"===e?$t(n):[].concat(e),i],s=o[0],c=o.reduce(((t,e)=>{const i=kt(n,e,r);return t.top=dt(i.top,t.top),t.right=ft(i.right,t.right),t.bottom=ft(i.bottom,t.bottom),t.left=dt(i.left,t.left),t}),kt(n,s,r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:n,offsetParent:e,strategy:i}=t;const r=rt(e),o=_t(e);if(e===o)return n;let s={scrollLeft:0,scrollTop:0};const c={x:0,y:0};if((r||!r&&"fixed"!==i)&&(("body"!==et(e)||ct(o))&&(s=yt(e)),rt(e))){const t=pt(e,!0);c.x=t.x+e.clientLeft,c.y=t.y+e.clientTop}return{...n,x:n.x-s.scrollLeft+c.x,y:n.y-s.scrollTop+c.y}},isElement:ot,getDimensions:xt,getOffsetParent:vt,getDocumentElement:_t,getElementRects:t=>{let{reference:n,floating:e,strategy:i}=t;return{reference:wt(n,vt(e),i),floating:{...xt(e),x:0,y:0}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>"rtl"===nt(t).direction};const Et=(t,n,e)=>(async(t,n,e)=>{const{placement:i="bottom",strategy:r="absolute",middleware:o=[],platform:s}=e,c=await(null==s.isRTL?void 0:s.isRTL(n));let a=await s.getElementRects({reference:t,floating:n,strategy:r}),{x:u,y:l}=U(a,i,c),f=i,d={},h=0;for(let e=0;e<o.length;e++){const{name:p,fn:_}=o[e],{x:y,y:m,data:w,reset:b}=await _({x:u,y:l,initialPlacement:i,placement:f,strategy:r,middlewareData:d,rects:a,platform:s,elements:{reference:t,floating:n}});u=null!=y?y:u,l=null!=m?m:l,d={...d,[p]:{...d[p],...w}},b&&h<=50&&(h++,"object"==typeof b&&(b.placement&&(f=b.placement),b.rects&&(a=!0===b.rects?await s.getElementRects({reference:t,floating:n,strategy:r}):b.rects),({x:u,y:l}=U(a,f,c))),e=-1)}return{x:u,y:l,placement:f,strategy:r,middlewareData:d}})(t,n,{platform:At,...e});function qt(t,n,e,i,r){if(r)return c("div",{class:"infi-error"},"Oops! Something went wrong... 🙁");if(e)return c("div",{class:"infi-blank"},"Start Searching Above!");const o=c("span",{class:"infi-loading-indicator"});if(t){const t=c("div",{class:"infi-initialising-text"},"... Starting Up ...");return c("div",{},o,t)}return i?c("div",{}):(n||o.classList.add("infi-loading-indicator-subsequent"),o)}var jt=function(t,n,e,i){return new(e||(e=Promise))((function(r,o){function s(t){try{a(i.next(t))}catch(t){o(t)}}function c(t){try{a(i.throw(t))}catch(t){o(t)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(s,c)}a((i=i.apply(t,n||[])).next())}))};function Ot(t,n,e,i,r,o){return jt(this,void 0,void 0,(function*(){const s=yield Promise.all(n.map((n=>t.uiOptions.listItemRender(c,t,n,e))));return s.push(function(t,n,e,i,r){const{resultsPerPage:o}=t.uiOptions,s=c("div",{class:"infi-footer",tabindex:"-1"});if(!r.resultsTotal)return s;const a=c("div",{class:"infi-footer-so-far"},`${n} of ${r.resultsTotal}`).outerHTML,u=c("button",{class:"infi-load-more",tabindex:"-1",type:"button"},"Load more results"),l=c("div",{class:"infi-load-more-opt",role:"option"},u);return l.addEventListener("focusout",(t=>{t.stopPropagation()})),l.onclick=t=>{t.preventDefault();const n=document.activeElement===u;l.remove(),s.append(qt(!1,!0,!1,!1,!1)),n&&s.focus({preventScroll:!0}),e(o).then((t=>{if(s.innerHTML=a,s.classList.add("infi-footer-loaded"),t&&t.length&&!n){const n=t[0];i("option"===n.getAttribute("role")?n:n.querySelector('[role="option"]'))}}))},n>=r.resultsTotal?s.innerHTML=a:s.append(l),s}(t,i+n.length,r,o,e)),s}))}var Tt=function(t,n,e,i){return new(e||(e=Promise))((function(r,o){function s(t){try{a(i.next(t))}catch(t){o(t)}}function c(t){try{a(i.throw(t))}catch(t){o(t)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(s,c)}a((i=i.apply(t,n||[])).next())}))};function Rt(t,n,e,i,r,o){return Tt(this,void 0,void 0,(function*(){if(n.M())return;const s=yield e.getNextN(i);if(n.M())return;const c=n.T,a=n.D.children[3],u=yield Ot(o,s,e,r,(i=>Rt(t,n,e,i,r+s.length,o)),(t=>$(t,a.querySelector("#infi-list-selected"),c,a,!1)));return r||(n.U(),n.I(e),a.innerHTML=""),a.append(...u),u}))}function Lt(t){return'<svg class="infi-key-arrow'+(t?" infi-key-arrow-down":"")+'"x="0" y="0" viewBox="0 0 490 490" style="enable-background:new 0 0 490 490" xml:space="preserve"><polygon points="8.081,242.227 82.05,314.593 199.145,194.882 199.145,490 306.14,490 306.14,210.504 407.949,314.593 481.919,242.227 245.004,0"/></svg>'}var Mt=function(t,n,e,i){return new(e||(e=Promise))((function(r,o){function s(t){try{a(i.next(t))}catch(t){o(t)}}function c(t){try{a(i.throw(t))}catch(t){o(t)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(s,c)}a((i=i.apply(t,n||[])).next())}))};const Dt="infi-empty-input";class Ut{constructor(t,n,e,i){this.T=t,this.C=n,this.D=e,this._=i,this.F=!1,this.B=[];const r=this,o=e.children;var s,a,u;r.N=o[0],r.W=o[1],r.H=o[2],r.V=o[3],s=t,a=r.V,u=e,s.addEventListener("keydown",(t=>{const{key:n}=t;if(!["ArrowDown","ArrowUp","Home","End","Enter"].includes(n))return;const e=a.querySelector("#infi-list-selected"),i=a.querySelectorAll('[role="option"]'),r=i[i.length-1];let o=-1;if(i.forEach(((t,n)=>{t===e&&(o=n)})),"ArrowDown"===n)$(i[(o+1)%i.length],e,s,u,!0);else if("ArrowUp"===n)$(o>0?i[o-1]:r,e,s,u,!0);else if("Enter"===n)e&&e.dispatchEvent(new MouseEvent("click",{ctrlKey:t.ctrlKey}));else{const t="Home"===n?0:s.value.length;s.focus(),s.setSelectionRange(t,t),$(void 0,e,s,u,!0)}t.preventDefault()})),r.G(),r.I(),r.J((()=>Mt(this,void 0,void 0,(function*(){yield n.setupPromise;const t=n.cfg,[e,o,s]=function(t,n,e){const i=function(t,n){const e=t.uiOptions.multiSelectFilters,i=n.fieldInfos;return e.filter((({fieldName:t})=>i.find((({name:n})=>t===n)))).map((({fieldName:t,displayName:n,defaultOptName:e},r)=>{const o=[e,...i.find((({name:n})=>t===n)).enumInfo.enumValues];return{L:r,X:t,q:n,j:o,O:o.map((()=>!0))}}))}(t,n),r=c("div",{},...i.map((t=>T(e,t)))),o=c("div",{class:"infi-filters"});let s=!1;const a=i.length?t=>void 0===t||s===t?s:(s?(r.remove(),o.classList.remove("shown")):(o.prepend(r),o.classList.add("shown")),s=t):void 0;return[o,i,a]}(i,t,r);r.B=o,e.append(function(t,n){if(!1===t.tip)return"";function e(t){return c("code",{},t)}function i(...t){return c("tr",{class:"infi-tip-item"},...t.map((t=>c("td",{},c("div",{},t)))))}const r=c("tbody",{});n.indexingConfig.withPositions&&r.append(i("Search for phrases",e('"for tomorrow"'))),r.append(i("Require a term",e("+sunny weather")),i("Exclude a term",e("-cloudy sunny")),i("Flip search results",e("~rainy")),i("Group terms together",e("~(sunny warm cloudy)")),i("Search for prefixes",e("run*")),i("Search only specific sections",c("ul",{},c("li",{},e("title:forecast")),c("li",{},e("heading:sunny")),c("li",{},e("body:(rainy gloomy)")))));const o=c("table",{class:"infi-tip-table"},c("thead",{class:"infi-tip-table-header"},c("tr",{},c("th",{scope:"col"},"Tip"),c("th",{},"Example"))),r),s=c("div",{class:"infi-tip-popup-root"},c("div",{class:"infi-tip-popup"},c("div",{class:"infi-tip-popup-title"},"🔎 Advanced search tips"),o));let a=!1;function u(){a&&(s.classList.remove("shown"),a=!1)}s.ontransitionend=()=>{a||(s.style.transform="scale(0)")};const l=c("div",{class:"infi-tip-root",tabindex:"0"},c("span",{class:"infi-tip-icon"},"?"),s);function f(){a=!0,Et(l,s,{placement:"top-end",middleware:[K({crossAxis:!1,flipAlignment:!0,padding:10,boundary:document.body})]}).then((({x:t,y:n})=>{Object.assign(s.style,{left:`${t}px`,top:`${n}px`,transform:"scale(1)"}),s.classList.add("shown")}))}return l.onmouseover=f,l.onfocus=f,l.onmouseleave=u,l.onblur=u,l}(i.uiOptions,t)),r.W.replaceWith(e),r.W=e,r.K=s,r.I()}))))}M(){return!!this.Y}U(t=!0,n=!1){const e=this,i=!e.V.childElementCount,r=qt(!e.C.isSetupDone,i,!e.T.value,t,n);e.H.replaceWith(r),e.H=r}I(t){const n=function(t,n){const e=c("div",{class:"infi-header"});t&&e.append(c("div",{class:"infi-results-found"},`${t.resultsTotal} results found`));const i=c("div",{class:"infi-instructions"});if(i.innerHTML="Navigation:"+Lt(!1)+Lt(!0)+'<svg class="infi-key-return" viewBox="0 0 24 24"><path fill="none" stroke-width="4" d="M9,4 L4,9 L9,14 M18,19 L18,9 L5,9" transform="matrix(1 0 0 -1 0 23)"/></svg>',e.append(i),n){const t=c("button",{class:"infi-filters"+(n()?" active":""),type:"button"},"Filters");t.onclick=e=>{e.preventDefault(),n(!n())?t.classList.add("active"):t.classList.remove("active")},e.insertBefore(t,i)}return e}(t,this.K);this.N.replaceWith(n),this.N=n}G(){this.T.value.length?this.D.classList.remove(Dt):this.D.classList.add(Dt)}Z(){const t=this;t.G(),t.U(),t.I(),t.V.innerHTML="",A(t.T),E(t.T),t.F?t.Y=()=>Promise.resolve():t.Y=void 0}R(t){this.G(),this.J((()=>this.tt(t)))}tt(t){return Mt(this,void 0,void 0,(function*(){const n=this,e=n._,{resultsPerPage:i}=e.uiOptions;A(n.T),n.T.setAttribute("aria-expanded","true");const r=Object.create(null);n.B.forEach((t=>{if(t.O.every((t=>t)))return;const n=[];r[t.X]=n,t.O[0]&&n.push(null),n.push(...t.j.filter(((n,e)=>e>0&&t.O[e])))})),n.nt&&n.nt.free();const o=n.C;n.nt=yield o.runQuery(t,{enumFilters:r}),yield Rt(o,n,n.nt,i,0,e),n.D.scrollTo({top:0})}))}J(t){return Mt(this,void 0,void 0,(function*(){const n=this;if(n.U(!1),n.F)n.Y=t;else{n.F=!0;try{yield t(),n.U()}catch(t){n.U(!0,!0),console.error(t)}finally{if(n.F=!1,n.Y){const t=n.Y;n.Y=void 0,yield n.J(t)}}}}))}}function It(t,n,e){const{addSearchedTerms:i}=t.uiOptions;if(i){const t=(r=n).startsWith("/")?new URL(new URL(window.location.href).origin+r):new URL(r);return t.searchParams.append(i,e),t.toString()}var r;return n}const Ct=(t,n,e,i)=>{const{sourceFilesUrl:r,useBreadcrumb:o,maxSubMatches:s}=n.uiOptions,c=e.getKVFields("link","_relative_fp","title","h1"),u=function(t,n,e){if(!t||n){const t=e.split("/").map((t=>t.split(/[\s_-]+/g).map((t=>t.replace(/([a-z])([A-Z])/g,"$1 $2"))).map((t=>t.charAt(0).toUpperCase()+t.slice(1))).join(" "))).join(" » ").split(".");let n=t.pop().toUpperCase();return n="HTML"===n?"":"PDF"===n?" (PDF)":"."+n,t.join(".")+n}return t}(c.h1||c.title||" ",o,c._relative_fp),l="string"==typeof r,f=c.link||l&&c._relative_fp&&`${r}${c._relative_fp}`||"",d=e.getHeadingBodyExcerpts();!function(t,n){t.sort(((t,n)=>{const e=t.numTerms,i=n.numTerms;return e===i?n.type.localeCompare(t.type)||n.text.length-t.text.length:i-e}));const e=Math.min(t.length,n);let i=0;for(;i<e&&t[i].numTerms===t[0].numTerms&&t[i].type===t[0].type;i+=1);t.splice(i,t.length)}(d,s);const h=d.filter((({type:t})=>"body"===t)).map((t=>t.highlight())),p=d.filter((({type:t})=>t.startsWith("heading"))).map((t=>({body:t.heading?t.highlight():[a()],heading:t.heading?t.heading.highlight(!1):t.highlight(),href:t.headingLink?`${f}#${t.headingLink}`:f}))),_=t("a",{class:"infi-title-link",role:"option",tabindex:"-1"},t("div",{class:"infi-title"},u),...h.map((n=>t("div",{class:"infi-body"},...n))));f&&_.setAttribute("href",It(n,f,i.t));const y=p.map((({body:e,heading:r,href:o})=>{const s=t("a",{class:"infi-heading-link",role:"option",tabindex:"-1"},t("div",{class:"infi-heading"},...r),t("div",{class:"infi-body"},...e));return o&&s.setAttribute("href",It(n,o,i.t)),s}));return Promise.resolve(t("div",{class:"infi-list-item",role:"group","aria-label":u},_,...y))};function Ft(){return[c("div",{}),c("div",{class:"infi-filters"}),c("div",{})]}let Bt=0;function Nt(t,n,e){t.setAttribute("autocomplete","off"),t.setAttribute("readonly",""),t.setAttribute("role","button"),t.setAttribute("aria-label",e),n&&t.setAttribute("placeholder",n),t.classList.add("infi-button-input")}let Wt=0;class Ht{constructor(t){this.et=t,this.it=!1,this.rt=!1}ot(){const{mode:t,isMobileDevice:n}=this.et.uiOptions;return t===S.Auto&&!n()||t===S.Dropdown}st(t,n,e,i){const{uiOptions:r}=i,o=new Ut(t,e,n,i);let s=!0;e.setupPromise.catch((()=>s=!1));let c=-1;t.addEventListener("input",(t=>{if(!s)return;const n=r.preprocessQuery(t.target.value);clearTimeout(c),n.length?c=setTimeout((()=>{this.ct&&this.ct(),o.R(n)}),r.inputDebounce):(o.Z(),this.ot()&&this.at())}))}}const Qt=function(t){!function(t){t.searcherOptions=t.searcherOptions||{},t.uiOptions=t.uiOptions||{};const{uiOptions:n}=t;if(n.sourceFilesUrl&&!n.sourceFilesUrl.endsWith("/")&&(n.sourceFilesUrl+="/"),n.mode=n.mode||S.Auto,n.isMobileDevice=n.isMobileDevice||(()=>window.matchMedia("only screen and (max-width: 768px)").matches),n.mode===S.Target&&("string"==typeof n.target&&(n.target=document.getElementById(n.target)),!n.target))throw new Error("'target' mode specified but no valid target option specified");if("input"in n&&"string"!=typeof n.input||(n.input=document.getElementById(n.input||"infi-search")),[S.Dropdown,S.Target].includes(n.mode)&&!n.input)throw new Error("'dropdown' or 'target' mode specified but no input element found");"inputDebounce"in n||(n.inputDebounce=100),n.preprocessQuery=n.preprocessQuery||(t=>t),n.dropdownAlignment=n.dropdownAlignment||"bottom-end","string"==typeof n.fsContainer&&(n.fsContainer=document.getElementById(n.fsContainer)),n.fsContainer=n.fsContainer||document.getElementsByTagName("body")[0],n.resultsPerPage=n.resultsPerPage||10,n.maxSubMatches=n.maxSubMatches||2,n.label=n.label||"Search this site",n.resultsLabel=n.resultsLabel||"Site results",n.fsInputLabel=n.fsInputLabel||"Search",n.fsPlaceholder=n.fsPlaceholder||"Search this site",n.fsCloseText=n.fsCloseText||"Close","fsScrollLock"in n||(n.fsScrollLock=!0),n.multiSelectFilters=n.multiSelectFilters||[],n.listItemRender=n.listItemRender||Ct,t.otherOptions=t.otherOptions||{}}(t);const{uiOptions:n}=t,{input:e,mode:i,dropdownAlignment:r,label:o,fsInputButtonText:s,fsInputLabel:a,fsScrollLock:u,target:l}=n,f=new P(t.searcherOptions),d=new Ht(t),[h,p,_,y]=function(t,n){const{fsPlaceholder:e,fsCloseText:i,fsContainer:r,label:o}=t.uiOptions,s=`infi-fs-label-${Wt}`,a=c("input",{class:"infi-fs-input",type:"search",placeholder:e,"aria-labelledby":s,enterkeyhint:"search"});a.onkeydown=t=>{"Escape"===t.key&&a.value&&t.stopPropagation()};const u=c("span",{class:"infi-fs-input-clear"});u.onclick=()=>{a.value&&(a.value="",a.dispatchEvent(new KeyboardEvent("input")),a.focus())};const l=c("button",{class:"infi-input-close-fs",type:"button"},i),f=c("div",{id:"infi-fs-list-"+Wt++,"aria-labelledby":s}),d=c("div",{class:"infi-list",tabindex:"-1"},...Ft(),f),h=c("div",{class:"infi-root infi-fs-root"},c("div",{class:"infi-fs-controls"},c("div",{class:"infi-fs-input-wrapper"},a,u),l),d);h.onclick=t=>t.stopPropagation(),h.onmousedown=t=>t.stopPropagation(),q(a,f,o);const p=c("div",{class:"infi-fs-backdrop"},h);function _(t){n(t),p.remove()}return p.onmousedown=()=>_(!1),p.onkeydown=t=>{"Escape"===t.code&&(t.stopPropagation(),_(!0))},l.onclick=t=>{t.preventDefault(),_(""===t.pointerType)},[d,a,function(){r.appendChild(p),a.focus();const t=f.querySelector(".focus");t&&d.scrollTo({top:t.offsetTop-d.offsetTop-30})},_]}(t,(t=>{t&&e&&e.focus(),d.rt=!1,u&&(document.body.style.overflow="")}));function m(){d.rt||(_(),d.rt=!0,u&&(document.body.style.overflow="hidden"))}function w(){y(!1),u&&(document.body.style.overflow="")}function b(){function t(){d.ot()||m()}e.addEventListener("click",t),e.addEventListener("keydown",(n=>{"Enter"===n.key&&t()}))}if(d.st(p,h,f,t),!e||i!==S.Auto&&i!==S.Dropdown)e&&i===S.Fullscreen?(Nt(e,s,a),b()):e&&i===S.Target&&(!function(t,n,e){e.classList.add("infi-root");const i=c("div",{id:"infi-target-list-"+Bt++});e.append(...Ft(),i),q(n,i,t.uiOptions.label)}(t,e,l),d.st(e,l,f,t));else{const g=e.getAttribute("placeholder")||"",v=e.parentElement,x=v.childNodes;let k=0;for(;k<x.length&&x[k]!==e;k+=1);e.remove();const[$,E]=function(t,n,e){const i=c("div",{id:"infi-dropdown-list-"+Bt++}),r=c("div",{class:"infi-list",tabindex:"-1"},...Ft(),i),o=c("div",{class:"infi-inner-root",style:"display: none;"},c("div",{class:"infi-input-dropdown-separator"}),r),s=c("div",{class:"infi-root infi-dropdown-root"},n,o);return o.onkeydown=t=>{"Escape"===t.code&&(t.stopPropagation(),n.focus(),e())},[s,r]}(0,e,(()=>{d.at()}));k<x.length?v.insertBefore($,x[k]):v.appendChild($),d.ct=()=>{e.value&&(!function(t,n,e,i){const r=n.children[1],o=r.firstElementChild;r.style.display="block",Et(t,r,{placement:i,middleware:[K({padding:10,mainAxis:!1}),Y({apply({availableWidth:t,availableHeight:n}){Object.assign(e.style,{maxWidth:`min(${t}px, var(--infi-dropdown-max-width))`,maxHeight:`min(${n}px, var(--infi-dropdown-max-height))`})},padding:10}),H({element:o})]}).then((({x:t,y:n,middlewareData:e})=>{Object.assign(r.style,{left:`${t}px`,top:`${n}px`});const{x:i}=e.arrow;Object.assign(o.style,{left:null!=i?`${i}px`:""})}))}(e,$,E,r),d.it=!0)},d.at=()=>{$.children[1].style.display="none",d.it=!1},d.st(e,E,f,t);const j=E.children[3];function O(){d.ot()?(w(),(d.it||document.activeElement===e)&&d.ct(),function(t,n,e,i){!function(t,n){t.removeAttribute("readonly"),t.removeAttribute("role"),t.removeAttribute("aria-label"),t.setAttribute("placeholder",n),t.classList.remove("infi-button-input")}(t,i),q(t,n,e)}(e,j,o,g)):(d.at(),function(t,n,e,i){n.removeAttribute("role"),n.removeAttribute("aria-label"),t.removeAttribute("role"),t.removeAttribute("aria-expanded"),t.removeAttribute("aria-autocomplete"),t.removeAttribute("aria-controls"),A(t),Nt(t,i,e)}(e,j,a,s))}let T;O(),window.addEventListener("resize",(()=>{clearTimeout(T),T=setTimeout(O,10)})),$.addEventListener("focusout",(()=>{d.ot()&&setTimeout((()=>{let t=document.activeElement;for(;t;)if(t=t.parentElement,t===$)return;d.at()}),100)})),e.addEventListener("focus",(()=>{!d.it&&d.ot()&&d.ct()})),b()}return{showFullscreen:m,hideFullscreen:w}},Vt={init:Qt,Searcher:P};return n=n.default})()));