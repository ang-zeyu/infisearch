!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.initMorsels=e():t.initMorsels=e()}(self,(()=>(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};t.d(e,{default:()=>zt});const n=class{constructor(t,e,n,r,o){this.query=t,this.resultsTotal=e,this.queryParts=n,this.getNextN=r,this.free=o}};function r(t,e,n){const{numDocsPerStore:r,numStoresPerDir:o,indexingConfig:i}=n,{numDocsPerBlock:s}=i,c=Math.floor(e/r),a=Math.floor(e/s);return`${t}field_store/${Math.floor(c/o)}/${c}--${a}.json`}var o=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{a(r.next(t))}catch(t){i(t)}}function c(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}a((r=r.apply(t,e||[])).next())}))};const i=class{constructor(t,e){this.t=t,this.i=e,this.l=Object.create(null)}u(t,e,n){return o(this,void 0,void 0,(function*(){const o=r(t,this.t,n);try{const t=yield e.getJson(o);let r=this.t%n.numDocsPerStore;const{numDocsPerBlock:i}=n.indexingConfig;i<n.numDocsPerStore&&(r%=i),this.l=t[r]}catch(t){console.log(t)}}))}getFields(){return this.l.map((([t,e])=>[this.i[t].name,e]))}};var s=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{a(r.next(t))}catch(t){i(t)}}function c(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}a((r=r.apply(t,e||[])).next())}))};let c=0;const a=[];function l(){a.length&&a.shift()().then(l)}function u(t){return s(this,void 0,void 0,(function*(){const e=()=>s(this,void 0,void 0,(function*(){c+=1,yield t(),c-=1}));c>=2?a.push(e):(yield e(),l())}))}class f{constructor(t){this.cache=t,this.h=Object.create(null)}p(t){return s(this,void 0,void 0,(function*(){if(this.cache){let e=yield this.cache.match(t);e?this.h[t]=e.json():u((()=>s(this,void 0,void 0,(function*(){yield this.cache.add(t),e=yield this.cache.match(t),this.h[t]=e.json()}))))}else u((()=>s(this,void 0,void 0,(function*(){const e=yield fetch(t);this.h[t]=e.json()}))))}))}m(t){return s(this,void 0,void 0,(function*(){if(this.cache){(yield this.cache.match(t))||u((()=>this.cache.add(t)))}}))}getJson(t){return this.h[t]||(this.h[t]=fetch(t).then((t=>t.json()))),this.h[t]}}var d=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{a(r.next(t))}catch(t){i(t)}}function c(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}a((r=r.apply(t,e||[])).next())}))};let h;if(document.currentScript)h=document.currentScript.src;else{const t=document.getElementsByTagName("script");h=t.length&&t[t.length-1].src}h=h.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/");const p={s:""};const m=class{constructor(t){if(this._=t,this.isSetupDone=!1,this.g=Object.create(null),this.id=0,"object"!=typeof WebAssembly||"function"!=typeof WebAssembly.instantiateStreaming)return void(this.setupPromise=Promise.reject("WA unsupported"));const e=this.v().then((()=>this.S(`morsels:${t.url}`)));this.setupPromise=Promise.all([e,new Promise((t=>{const n=URL.createObjectURL(new Blob([`const __morsWrkrUrl="${h}";${p.s}`],{type:"text/javascript"}));this.P=new Worker(n),this.P.onmessage=r=>{if(r.data.query){const{query:t,queryId:e,nextResults:n,resultsTotal:o,queryParts:i}=r.data,s=this.g[e];s&&s.resolve({query:t,nextResults:n,resultsTotal:o,queryParts:i})}else""===r.data?(e.then((()=>this.P.postMessage(this.cfg))),URL.revokeObjectURL(n)):r.data.isSetupDone&&(this.isSetupDone=!0,t(),this.k(),this.O())},this.P.onmessageerror=t=>{console.log(t)}}))])}S(t){return d(this,void 0,void 0,(function*(){try{const{indexVer:e}=this.cfg;let n=yield caches.open(t);const r=yield n.match("/index_ver");if(r){e!==(yield r.text())&&(yield caches.delete(t),n=yield caches.open(t))}yield n.put("/index_ver",new Response(e)),this.A=new f(n)}catch(t){this.A=new f(void 0)}}))}k(){if(!this._.cacheAllFieldStores)return;const{numDocsPerStore:t,indexingConfig:e,lastDocId:n}=this.cfg,o=Math.min(t,e.numDocsPerBlock);for(let t=0;t<n;t+=o)this.A.p(r(this._.url,t,this.cfg))}O(){this.cfg.indexingConfig.plNamesToCache.forEach((t=>{const e=Math.floor(t/this.cfg.indexingConfig.numPlsPerDir),n=`${this._.url}pl_${e}/pl_${t}.mls`;this.A.m(n)}))}v(){return d(this,void 0,void 0,(function*(){const t=this._;if(this.cfg=yield(yield fetch(`${t.url}morsels_config.json`)).json(),"0.6.2"!==this.cfg.ver)throw new Error("Morsels search !== indexer version!");"cacheAllFieldStores"in t||(t.cacheAllFieldStores=!!this.cfg.cacheAllFieldStores),t.useQueryTermProximity=t.useQueryTermProximity&&this.cfg.indexingConfig.withPositions,this.cfg.searcherOptions=t}))}getQuery(t){return d(this,void 0,void 0,(function*(){yield this.setupPromise;const e=this.id;this.id+=1;const r=this.g;r[e]={promise:void 0,resolve:void 0},r[e].promise=new Promise((n=>{r[e].resolve=n,this.P.postMessage({query:t,queryId:e})}));const o=yield r[e].promise;return new n(t,o.resultsTotal,o.queryParts,(n=>d(this,void 0,void 0,(function*(){if(!r[e])return[];if(yield r[e].promise,r[e].promise=new Promise((o=>{r[e].resolve=o,this.P.postMessage({query:t,queryId:e,isGetNextN:!0,n})})),!r[e])return[];const o=(yield r[e].promise).nextResults.map((t=>new i(t,this.cfg.fieldInfos)));return yield Promise.all(o.map((t=>t.u(this._.url,this.A,this.cfg)))),o}))),(()=>{delete r[e],this.P.postMessage({query:t,isFree:!0})}))}))}};var y;function _(t,e,...n){const r=document.createElement(t);return Object.entries(e).forEach((([t,e])=>{r.setAttribute(t,e)})),n.forEach((t=>{if("string"==typeof t){const e=document.createElement("span");e.textContent=t,r.appendChild(e)}else r.appendChild(t)})),r}p.s='(()=>{var t,n,e,r,o={899:(t,n,e)=>{e.p=__morsWrkrUrl},312:(t,n,e)=>{"use strict";e.a(t,(async(t,r)=>{try{e.d(n,{get_new_searcher:()=>o.qS,get_query:()=>o.R1});var o=e(440),i=t([o]);o=(i.then?(await i)():i)[0],r()}catch(t){r(t)}}))},440:(t,n,e)=>{"use strict";e.a(t,(async(r,o)=>{try{e.d(n,{G6:()=>I,JP:()=>V,Or:()=>H,QF:()=>C,R1:()=>U,UA:()=>G,VD:()=>W,XG:()=>Q,XP:()=>B,bj:()=>J,fP:()=>z,ff:()=>D,jp:()=>X,lB:()=>N,ll:()=>K,oH:()=>R,qS:()=>P,uG:()=>F,ug:()=>T});var i=e(118),c=e(926);t=e.hmd(t);var u=r([c]);c=(u.then?(await u)():u)[0];const s=new Array(32).fill(void 0);function a(t){return s[t]}s.push(void 0,null,!0,!1);let f=s.length;function _(t){t<36||(s[t]=f,f=t)}function l(t){const n=a(t);return _(t),n}function y(t){f===s.length&&s.push(s.length+1);const n=f;return f=s[n],s[n]=t,n}let d=new("undefined"==typeof TextDecoder?(0,t.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});d.decode();let w=new Uint8Array;function b(){return 0===w.byteLength&&(w=new Uint8Array(c.memory.buffer)),w}function h(t,n){return d.decode(b().subarray(t,t+n))}function v(t,n,e,r){const o={a:t,b:n,cnt:1,dtor:e},i=(...t)=>{o.cnt++;const n=o.a;o.a=0;try{return r(n,o.b,...t)}finally{0==--o.cnt?c.__wbindgen_export_0.get(o.dtor)(n,o.b):o.a=n}};return i.original=o,i}function g(t,n,e){c._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__hf06d5548831c85d9(t,n,y(e))}let p=new Int32Array;function m(){return 0===p.byteLength&&(p=new Int32Array(c.memory.buffer)),p}let x=new Uint32Array;let A=0;let j=new("undefined"==typeof TextEncoder?(0,t.require)("util").TextEncoder:TextEncoder)("utf-8");const q="function"==typeof j.encodeInto?function(t,n){return j.encodeInto(t,n)}:function(t,n){const e=j.encode(t);return n.set(e),{read:t.length,written:e.length}};function O(t,n,e){if(void 0===e){const e=j.encode(t),r=n(e.length);return b().subarray(r,r+e.length).set(e),A=e.length,r}let r=t.length,o=n(r);const i=b();let c=0;for(;c<r;c++){const n=t.charCodeAt(c);if(n>127)break;i[o+c]=n}if(c!==r){0!==c&&(t=t.slice(c)),o=e(o,r,r=c+3*t.length);const n=b().subarray(o+c,o+r);c+=q(t,n).written}return A=c,o}function S(t){return null==t}function P(t,n,e,r,o,i,u,s,a,f,_,l,d,w,b,h){const v=O(r,c.__wbindgen_malloc,c.__wbindgen_realloc),g=A;var p=S(u)?0:O(u,c.__wbindgen_malloc,c.__wbindgen_realloc),m=A;const x=O(_,c.__wbindgen_malloc,c.__wbindgen_realloc),j=A,q=c.get_new_searcher(y(t),n,e,v,g,y(o),S(i)?16777215:i?1:0,p,m,!S(s),S(s)?0:s,y(a),f,x,j,l,d,w,b,!S(h),S(h)?0:h);return $.__wrap(q)}function U(t,n){const e=O(n,c.__wbindgen_malloc,c.__wbindgen_realloc),r=A;return l(c.get_query(t,e,r))}function k(t,n){try{return t.apply(this,n)}catch(t){c.__wbindgen_exn_store(y(t))}}function E(t,n,e,r){c.wasm_bindgen__convert__closures__invoke2_mut__h668a0ca803c0613b(t,n,y(e),y(r))}class M{static __wrap(t){const n=Object.create(M.prototype);return n.ptr=t,n}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();c.__wbg_query_free(t)}get results_total(){return c.__wbg_get_query_results_total(this.ptr)>>>0}set results_total(t){c.__wbg_set_query_results_total(this.ptr,t)}get_next_n(t){try{const u=c.__wbindgen_add_to_stack_pointer(-16);c.query_get_next_n(u,this.ptr,t);var n=m()[u/4+0],e=m()[u/4+1],r=(o=n,i=e,(0===x.byteLength&&(x=new Uint32Array(c.memory.buffer)),x).subarray(o/4,o/4+i)).slice();return c.__wbindgen_free(n,4*e),r}finally{c.__wbindgen_add_to_stack_pointer(16)}var o,i}get_query_parts(){try{const e=c.__wbindgen_add_to_stack_pointer(-16);c.query_get_query_parts(e,this.ptr);var t=m()[e/4+0],n=m()[e/4+1];return h(t,n)}finally{c.__wbindgen_add_to_stack_pointer(16),c.__wbindgen_free(t,n)}}}class ${static __wrap(t){const n=Object.create($.prototype);return n.ptr=t,n}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();c.__wbg_searcher_free(t)}get_ptr(){return c.searcher_get_ptr(this.ptr)}}function T(t){l(t)}function I(t){const n=l(t).original;if(1==n.cnt--)return n.a=0,!0;return!1}function F(t,n,e,r,o){return y((0,i.T)(t>>>0,n>>>0,h(e,r),o>>>0))}function G(t,n,e){return y(a(t).then(a(n),a(e)))}function N(t){return y(new Uint8Array(a(t)))}function D(t){return y(M.__wrap(t))}function W(){return k((function(t,n,e){return y(a(t).call(a(n),a(e)))}),arguments)}function B(t){return void 0===a(t)}function C(t,n){try{var e={a:t,b:n};const r=new Promise(((t,n)=>{const r=e.a;e.a=0;try{return E(r,e.b,t,n)}finally{e.a=r}}));return y(r)}finally{e.a=e.b=0}}function J(t){return a(t).length}function R(){return y(c.memory)}function X(t){return y(a(t).buffer)}function z(t,n,e){a(t).set(a(n),e>>>0)}function H(t,n){throw new Error(h(t,n))}function Q(t,n){return y(a(t).then(a(n)))}function V(t){return y(Promise.resolve(a(t)))}function K(t,n,e){return y(v(t,n,15,g))}o()}catch(L){o(L)}}))},118:(t,n,e)=>{"use strict";async function r(t,n,e,r){const o=`${e}pl_${Math.floor(t/n)}/pl_${t}.mls`,i=`morsels:${e}`;function c(t){return fetch(t).then((t=>t.arrayBuffer()))}try{const t=await caches.open(i),n=await t.match(o);if(n)return await n.arrayBuffer();{const n=await c(o);return n.byteLength>=r&&t.add(o),n}}catch{return c(o)}}e.d(n,{T:()=>r})},926:(t,n,e)=>{"use strict";e.a(t,(async(r,o)=>{try{var i,c=r([i=e(440)]),[i]=c.then?(await c)():c;await e.v(n,t.id,"9120a39ba3649934c473",{"./index_bg.js":{__wbindgen_object_drop_ref:i.ug,__wbindgen_cb_drop:i.G6,__wbg_fetchPl_845319bee40c4cdb:i.uG,__wbg_then_cedad20fbbd9418a:i.UA,__wbg_new_8c3f0052272a457a:i.lB,__wbg_query_new:i.ff,__wbg_call_168da88779e35f61:i.VD,__wbindgen_is_undefined:i.XP,__wbg_new_9962f939219f1820:i.QF,__wbg_length_9e1ae1900cb0fbd5:i.bj,__wbindgen_memory:i.oH,__wbg_buffer_3f3d764d4747d564:i.jp,__wbg_set_83db9690f9353e79:i.fP,__wbindgen_throw:i.Or,__wbg_then_11f7a54d67b4bfad:i.XG,__wbg_resolve_99fe17964f31ffc0:i.JP,__wbindgen_closure_wrapper60:i.ll}}),o()}catch(t){o(t)}}),1)}},i={};function c(t){var n=i[t];if(void 0!==n)return n.exports;var e=i[t]={id:t,loaded:!1,exports:{}};return o[t](e,e.exports,c),e.loaded=!0,e.exports}t="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",n="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",e="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",r=t=>{t&&!t.d&&(t.d=1,t.forEach((t=>t.r--)),t.forEach((t=>t.r--?t.r++:t())))},c.a=(o,i,c)=>{var u;c&&((u=[]).d=1);var s,a,f,_=new Set,l=o.exports,y=new Promise(((t,n)=>{f=n,a=t}));y[n]=l,y[t]=t=>(u&&t(u),_.forEach(t),y.catch((t=>{}))),o.exports=y,i((o=>{var i;s=(o=>o.map((o=>{if(null!==o&&"object"==typeof o){if(o[t])return o;if(o.then){var i=[];i.d=0,o.then((t=>{c[n]=t,r(i)}),(t=>{c[e]=t,r(i)}));var c={};return c[t]=t=>t(i),c}}var u={};return u[t]=t=>{},u[n]=o,u})))(o);var c=()=>s.map((t=>{if(t[e])throw t[e];return t[n]})),a=new Promise((n=>{(i=()=>n(c)).r=0;var e=t=>t!==u&&!_.has(t)&&(_.add(t),t&&!t.d&&(i.r++,t.push(i)));s.map((n=>n[t](e)))}));return i.r?a:c()}),(t=>(t?f(y[e]=t):a(l),r(u)))),u&&(u.d=0)},c.d=(t,n)=>{for(var e in n)c.o(n,e)&&!c.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:n[e]})},c.hmd=t=>((t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t),c.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),c.v=(t,n,e,r)=>{var o=fetch(c.p+""+e+".module.wasm");return"function"==typeof WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(o,r).then((n=>Object.assign(t,n.instance.exports))):o.then((t=>t.arrayBuffer())).then((t=>WebAssembly.instantiate(t,r))).then((n=>Object.assign(t,n.instance.exports)))},c.p="/",(()=>{"use strict";c(899);class t{constructor(t,n,e){this.t=t,this.i=n,this.u=e}_(t){return Array.from(this.u.get_next_n(t))}l(){this.u.free()}}var n=function(t,n,e,r){return new(e||(e=Promise))((function(o,i){function c(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(c,u)}s((r=r.apply(t,n||[])).next())}))};const e=Object.create(null);let r,o;function i(i,c){return n(this,void 0,void 0,(function*(){const n=yield r.get_query(o.get_ptr(),i),u=n.get_query_parts();let s=[];try{s=JSON.parse(u)}catch(t){console.error(`Error deserializing query parts:\\n${u}\\n${t}`)}return e[c]=new t(s,n.results_total,n),e[c]}))}function u(t,e){return n(this,void 0,void 0,(function*(){const{indexingConfig:i,langConfig:{lang:c,options:u},fieldInfos:s,numScoredFields:a,searcherOptions:f}=t,_=function(t){return n(this,void 0,void 0,(function*(){let n;try{n=yield caches.open(`morsels:${t}`)}catch(t){}const e=`${t}metadata.json`;return(n?n.match(e).then((t=>!t&&n.add(e))).then((()=>n.match(e))):fetch(e)).then((t=>t.arrayBuffer()))}))}(f.url),l=new TextEncoder;let y;const d=u.stop_words;if(d){const t=d.map((t=>l.encode(t))).filter((t=>t.length<255)),n=t.length+t.reduce(((t,n)=>t+n.length),0);y=new Uint8Array(n);let e=0;t.forEach((t=>{y[e++]=t.length,y.set(t,e),e+=t.length}))}const w=s.map((t=>l.encode(t.name))),b=w.reduce(((t,n)=>t+n.length),0),h=new Uint8Array(13*w.length+b),v=new Float32Array(3);let g=0;s.forEach(((t,n)=>{const e=w[n].length;h[g++]=e,h.set(w[n],g),g+=e,v[0]=t.weight,v[1]=t.k,v[2]=t.b,h.set(new Uint8Array(v.buffer),g),g+=12})),r=yield e,o=r.get_new_searcher(yield _,i.numPlsPerDir,i.withPositions,c,y,u.ignore_stop_words,u.stemmer,u.max_term_len,h,a,f.url,f.maxAutoSuffixSearchTerms,f.maxSuffixSearchTerms,f.useQueryTermProximity,f.plLazyCacheThreshold,f.resultLimit)}))}var s=function(t,n,e,r){return new(e||(e=Promise))((function(o,i){function c(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(c,u)}s((r=r.apply(t,n||[])).next())}))};!function(t){onmessage=function(n){return s(this,void 0,void 0,(function*(){const r=n.data;if(r.searcherOptions)yield u(r,t),postMessage({isSetupDone:!0});else if(r.query){const{query:t,queryId:n,n:o,isFree:c,isGetNextN:u}=r;if(c)!function(t){e[t]&&(e[t].l(),delete e[t])}(n);else if(u){const r=function(t,n){var r;return(null===(r=e[t])||void 0===r?void 0:r._(n))||[]}(n,o);postMessage({query:t,queryId:n,nextResults:r})}else{const e=yield i(t,n);postMessage({query:t,queryId:n,resultsTotal:e.i,queryParts:e.t})}}}))},postMessage("")}(Promise.resolve().then(c.bind(c,312)))})()})();',function(t){t.Auto="auto",t.Dropdown="dropdown",t.Fullscreen="fullscreen",t.Target="target"}(y||(y={}));const w=_,b="data-morsels-loading-indicator";function g(){return _("div",{[b]:"true"})}function v(t){if("string"!=typeof t)throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function x(t){return t.startsWith("/")?new URL(new URL(window.location.href).origin+t):new URL(t)}function S(t,e){const n=e.map((e=>Array.from(t.matchAll(e))));if(!n.some((t=>t.length)))return{$:t,j:[],q:0};let r=e.map((()=>-1)),o=1e7,i=e.map((()=>0));const s=n.map((()=>0)),c=n.map((t=>!t.length)),a=n.map((()=>-1));for(;;){let t=1e7,e=1e7,l=-1,u=0;for(let r=0;r<s.length;r++){const o=n[r][s[r]];if(!o)continue;const i=o.index+o[1].length;!c[r]&&i<e&&(e=i,l=r),t=Math.min(t,i),u=Math.max(u,i),a[r]=i}if(-1===l)break;const f=u-t;if(f<o&&(o=f,r=[...a],i=s.map(((t,e)=>n[e][t]&&n[e][t][2].length+n[e][t][3].length))),s[l]+=1,s[l]>=n[l].length&&(c[l]=!0,s[l]-=1,c.every((t=>t))))break}const l=r.map(((t,e)=>({pos:t,len:i[e]}))).filter((t=>t.pos>=0)).sort(((t,e)=>t.pos-e.pos)),u=l.length;return{$:t,j:l,q:u}}function P(){return w("span",{class:"morsels-ellipsis"}," ... ")}function k(t,e,n){const{highlightRender:r}=n.uiOptions.resultsRenderOpts,{$:o,j:i}=t;if(!i.some((({pos:t})=>t>=0))){if(e){const t=o.trimStart().substring(0,80);return[80===t.length?t.replace(/\w+$/,""):t,P()]}return[o]}const s=[];let c=0;for(const{pos:t,len:a}of i){const i=t+a;if(t>c+80){e&&s.push(P());const c=o.substring(t-40,t);s.push(40===c.length?c.replace(/^\w+/,""):c),s.push(r(w,n,o.substring(t,i)))}else if(t>=c)s.pop(),s.push(o.substring(c,t)),s.push(r(w,n,o.substring(t,i)));else{if(!(i>c))continue;s.pop();s[s.length-1].textContent+=o.substring(c,i)}const l=o.substring(i,i+40);s.push(40===l.length?l.replace(/\w+$/,""):l),c=i}return e&&s.push(P()),s}var O;function A(t,e,n,r){const{maxSubMatches:o}=r.uiOptions;let i,s=-2,c="",a=[];for(let n=0;n<t.length;n+=1){const[r,o]=t[n];switch(r){case"headingLink":s=n,c=o;break;case"heading":i=S(o,e),i.T=n,i.M=s===n-1?c:"",a.push({$:"",j:[],q:0,R:i,M:i.M,T:n,D:O.HEADING_ONLY});break;case"body":{const t=S(o,e);i?(t.R=i,t.M=i.M,t.q+=i.q,t.D=O.HEADING_BODY):t.D=O.BODY_ONLY,a.push(t);break}}}a.sort(((t,e)=>0===t.q&&0===e.q?e.$.length-t.$.length:t.q===e.q?e.D-t.D:e.q-t.q));const l=[],u=Math.min(a.length,o);for(let t=0;t<u&&(a[t].q===a[0].q&&a[t].D===a[0].D);t+=1)l.push(a[t]);return l.map((t=>{const e={bodyMatches:k(t,!0,r)};if(t.R){const o=k(t.R,!1,r);e.headingMatches=o.length?o:[t.R.$],e.href=t.M?`${n}#${t.M}`:n}return e}))}!function(t){t[t.HEADING_BODY=2]="HEADING_BODY",t[t.BODY_ONLY=1]="BODY_ONLY",t[t.HEADING_ONLY=0]="HEADING_ONLY"}(O||(O={}));var $=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{a(r.next(t))}catch(t){i(t)}}function c(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}a((r=r.apply(t,e||[])).next())}))};const j=new DOMParser;function q(t,e,n,r,o,i){return $(this,void 0,void 0,(function*(){const{loaders:s}=n.indexingConfig,c=t.getFields();let a,l,u,f=!1;for(const t of c){const[e,n]=t;switch(e){case"link":a=a||n;break;case"_relative_fp":l=l||n;break;case"title":u=u||n;break;case"h1":f||(u=n,f=!0)}if(a&&l&&u&&f)break}const{useBreadcrumb:d,sourceFilesUrl:h,resultsRenderOpts:{addSearchedTerms:p,listItemRender:m}}=e.uiOptions,y=a||"string"==typeof h&&l&&`${h}${l}`||"";if(!u||d)if(l){const t=l.split("/").map((t=>t.split(/[\s_-]+/g).map((t=>t.replace(/([a-z])([A-Z])/g,"$1 $2"))).map((t=>t.charAt(0).toUpperCase()+t.slice(1))).join(" "))).join(" Â» ").split(".");let e=t.pop().toUpperCase();e="HTML"===e?"":"PDF"===e?" (PDF)":"."+e,u=t.join(".")+e}else u=a;let _=y;if(p&&y){const t=x(y);t.searchParams.append(p,o),_=t.toString()}let b=[];if(r)b=A(c,i,_,e);else if(y)if(y.endsWith(".html")&&s.HtmlLoader){const t=yield(yield fetch(y)).text(),n=j.parseFromString(t,"text/html"),{title:r,matches:o}=function(t,e,n,r,o){const i=[];if(e.exclude_selectors)for(const n of e.exclude_selectors){const e=t.querySelectorAll(n);for(let t=0;t<e.length;t+=1)e[t].remove()}e.selectors=e.selectors||[];const s=e.selectors.map((t=>t.selector)).join(",");!function t(n,r){for(const t of e.selectors)if(n.matches(t.selector)){Object.entries(t.attr_map).forEach((([t,e])=>{n.attributes[t]&&i.push([e,n.attributes[t].value])})),r=t.field_name;break}if(n.querySelector(s))for(let e=0;e<n.childNodes.length;e+=1){const o=n.childNodes[e];o.nodeType===Node.ELEMENT_NODE?t(o,r):o.nodeType===Node.TEXT_NODE&&r&&(i.length&&i[i.length-1][0]===r?i[i.length-1][1]+=o.data:i.push([r,o.data]))}else r&&(i.length&&i[i.length-1][0]===r?i[i.length-1][1]+=n.textContent:i.push([r,n.textContent||""]))}(t.documentElement,void 0);let c="",a=!1;for(const t of i){const[e,n]=t;if("title"===e?c=c||n:"h1"!==e||a||(c=n,a=!0),c&&a)break}return{title:c,matches:A(i,n,r,o)}}(n,s.HtmlLoader,i,_,e);u=r||u,b=o}else if(y.endsWith(".txt")&&s.TxtLoader){b=A([["body",yield(yield fetch(y)).text()]],i,_,e)}else{const t=x(y);if(t.pathname.endsWith(".json")&&s.JsonLoader){const n=yield(yield fetch(y)).json(),{title:r,matches:o}=function(t,e,n,r,o){const i=[],{field_map:s,field_order:c}=e,a=Object.entries(s).find((([,t])=>"title"===t)),l=a&&a[0];for(const e of c)e!==l&&t[e]&&i.push([s[e],t[e]]);const u=A(i,n,r,o);return{title:l&&t[l],matches:u}}(t.hash?n[t.hash.substring(1)]:n,s.JsonLoader,i,_,e);u=r||u,b=o}}else;return m(w,e,o,y,u,b,c)}))}function T(t,e,n){for(const r of t){const t=r.isSubtracted||r.isInverted?!n:n;r.termsSearched?t&&e.push([...r.termsSearched]):r.children&&T(r.children,e,t)}}function E(t,e,n,r,o){const i=[],s=[];T(o.queryParts,s,!0);const c=[];for(const t of s){const e=t.map((t=>(c.push(t),v(t)))).sort(((t,e)=>e.length-t.length)).join("|");if("latin"===n.langConfig.lang){const t=new RegExp(`(^|\\W|_)(${e})(\\w*?)(?=\\W|$)`,"gi");i.push(t)}else{const t=new RegExp(`(^|\\W|_)(${e})((?=\\W|$))`,"gi");i.push(t)}}const a=n.fieldInfos.find((t=>t.do_store&&("body"===t.name||"title"===t.name||"heading"===t.name)));return Promise.all(r.map((t=>q(t,e,n,a,JSON.stringify(c),i))))}function M(t,e,n,r,o,i){return $(this,void 0,void 0,(function*(){if(t.L)return!1;const{loadingIndicatorRender:s,headerRender:c,resultsPerPage:a,resultsRender:l,mode:u}=i.uiOptions,f=s(w,i,!1,!0);r||o.appendChild(f),t.I&&t.I.disconnect();const d=document.createDocumentFragment();if(r){const t=c(w,i,!1,!1,e);d.appendChild(t)}const h=yield e.getNextN(a);if(t.L)return!1;const p=yield l(w,i,n,h,e);if(t.L)return!1;p.forEach((t=>d.appendChild(t)));const m=d.lastElementChild;if(r?(o.innerHTML="",t.U=g(),o.append(t.U),o.append(d)):f.replaceWith(d),p.length){const r=u===y.Target?null:o;t.I=new IntersectionObserver((([r],s)=>$(this,void 0,void 0,(function*(){r.isIntersecting&&(s.unobserve(m),yield M(t,e,n,!1,o,i))}))),{root:r,rootMargin:"150px 0px"}),t.I.observe(m)}return!0}))}var R=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{a(r.next(t))}catch(t){i(t)}}function c(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}a((r=r.apply(t,e||[])).next())}))};class D{constructor(){this.W=!0,this.C=!1,this.U=g()}}function L(t,e,n,r,o,i){var s;return R(this,void 0,void 0,(function*(){const{uiOptions:c}=i;e.C=!0;const a=c.loadingIndicatorRender(w,i,!1,e.W);e.U.replaceWith(a),e.U=a;try{null===(s=e.currQuery)||void 0===s||s.free(),e.currQuery=yield n.getQuery(t);(yield M(e,e.currQuery,n.cfg,!0,o,i))&&(e.W=!1),r.scrollTo({top:0}),o.scrollTo({top:0})}catch(t){throw o.innerHTML="",o.appendChild(c.headerRender(w,i,!0,!1)),t}finally{if(e.L){const t=e.L;e.L=void 0,yield t()}else e.C=!1}}))}function I(t,e,n){const{addSearchedTerms:r}=t.uiOptions.resultsRenderOpts;if(r){const t=x(e);return t.searchParams.append(r,n),t.toString()}return e}function U(t){t.removeAttribute("aria-activedescendant")}function W(t){t.setAttribute("aria-expanded","false")}function C(t,e,n){t.setAttribute("role","combobox"),t.setAttribute("autocomplete","off"),t.setAttribute("aria-autocomplete","list");const r=e.getAttribute("id");t.setAttribute("aria-controls",r),W(t),e.setAttribute("role","listbox"),e.setAttribute("aria-label",n),e.setAttribute("aria-live","polite")}function B(t){return t.split("-")[0]}function F(t){return t.split("-")[1]}function N(t){return["top","bottom"].includes(B(t))?"x":"y"}function H(t){return"y"===t?"height":"width"}function G(t,e,n){let{reference:r,floating:o}=t;const i=r.x+r.width/2-o.width/2,s=r.y+r.height/2-o.height/2,c=N(e),a=H(c),l=r[a]/2-o[a]/2,u="x"===c;let f;switch(B(e)){case"top":f={x:i,y:r.y-o.height};break;case"bottom":f={x:i,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:s};break;case"left":f={x:r.x-o.width,y:s};break;default:f={x:r.x,y:r.y}}switch(F(e)){case"start":f[c]-=l*(n&&u?-1:1);break;case"end":f[c]+=l*(n&&u?-1:1)}return f}function z(t){return"number"!=typeof t?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}function J(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function Q(t,e){var n;void 0===e&&(e={});const{x:r,y:o,platform:i,rects:s,elements:c,strategy:a}=t,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=e,p=z(h),m=c[d?"floating"===f?"reference":"floating":f],y=J(await i.getClippingRect({element:null==(n=await(null==i.isElement?void 0:i.isElement(m)))||n?m:m.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(c.floating)),boundary:l,rootBoundary:u,strategy:a})),_=J(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:"floating"===f?{...s.floating,x:r,y:o}:s.reference,offsetParent:await(null==i.getOffsetParent?void 0:i.getOffsetParent(c.floating)),strategy:a}):s[f]);return{top:y.top-_.top+p.top,bottom:_.bottom-y.bottom+p.bottom,left:y.left-_.left+p.left,right:_.right-y.right+p.right}}const X=Math.min,V=Math.max;function Y(t,e,n){return V(t,X(e,n))}const K=t=>({name:"arrow",options:t,async fn(e){const{element:n,padding:r=0}=null!=t?t:{},{x:o,y:i,placement:s,rects:c,platform:a}=e;if(null==n)return{};const l=z(r),u={x:o,y:i},f=N(s),d=F(s),h=H(f),p=await a.getDimensions(n),m="y"===f?"top":"left",y="y"===f?"bottom":"right",_=c.reference[h]+c.reference[f]-u[f]-c.floating[h],w=u[f]-c.reference[f],b=await(null==a.getOffsetParent?void 0:a.getOffsetParent(n));let g=b?"y"===f?b.clientHeight||0:b.clientWidth||0:0;0===g&&(g=c.floating[h]);const v=_/2-w/2,x=l[m],S=g-p[h]-l[y],P=g/2-p[h]/2+v,k=Y(x,P,S),O=("start"===d?l[m]:l[y])>0&&P!==k&&c.reference[h]<=c.floating[h];return{[f]:u[f]-(O?P<x?x-P:S-P:0),data:{[f]:k,centerOffset:P-k}}}}),Z={left:"right",right:"left",bottom:"top",top:"bottom"};function tt(t){return t.replace(/left|right|bottom|top/g,(t=>Z[t]))}function et(t,e,n){void 0===n&&(n=!1);const r=F(t),o=N(t),i=H(o);let s="x"===o?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return e.reference[i]>e.floating[i]&&(s=tt(s)),{main:s,cross:tt(s)}}const nt={start:"end",end:"start"};function rt(t){return t.replace(/start|end/g,(t=>nt[t]))}const ot=["top","right","bottom","left"],it=(ot.reduce(((t,e)=>t.concat(e,e+"-start",e+"-end")),[]),function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(e){var n;const{placement:r,middlewareData:o,rects:i,initialPlacement:s,platform:c,elements:a}=e,{mainAxis:l=!0,crossAxis:u=!0,fallbackPlacements:f,fallbackStrategy:d="bestFit",flipAlignment:h=!0,...p}=t,m=B(r),y=f||(m!==s&&h?function(t){const e=tt(t);return[rt(t),e,rt(e)]}(s):[tt(s)]),_=[s,...y],w=await Q(e,p),b=[];let g=(null==(n=o.flip)?void 0:n.overflows)||[];if(l&&b.push(w[m]),u){const{main:t,cross:e}=et(r,i,await(null==c.isRTL?void 0:c.isRTL(a.floating)));b.push(w[t],w[e])}if(g=[...g,{placement:r,overflows:b}],!b.every((t=>t<=0))){var v,x;const t=(null!=(v=null==(x=o.flip)?void 0:x.index)?v:0)+1,e=_[t];if(e)return{data:{index:t,overflows:g},reset:{placement:e}};let n="bottom";switch(d){case"bestFit":{var S;const t=null==(S=g.map((t=>[t,t.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)])).sort(((t,e)=>t[1]-e[1]))[0])?void 0:S[0].placement;t&&(n=t);break}case"initialPlacement":n=s}if(r!==n)return{reset:{placement:n}}}return{}}}});const st=function(t){return void 0===t&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:r,platform:o,elements:i}=e,{apply:s=(()=>{}),...c}=t,a=await Q(e,c),l=B(n),u=F(n);let f,d;"top"===l||"bottom"===l?(f=l,d=u===(await(null==o.isRTL?void 0:o.isRTL(i.floating))?"start":"end")?"left":"right"):(d=l,f="end"===u?"top":"bottom");const h=V(a.left,0),p=V(a.right,0),m=V(a.top,0),y=V(a.bottom,0),_={availableHeight:r.floating.height-(["left","right"].includes(n)?2*(0!==m||0!==y?m+y:V(a.top,a.bottom)):a[f]),availableWidth:r.floating.width-(["top","bottom"].includes(n)?2*(0!==h||0!==p?h+p:V(a.left,a.right)):a[d])};await s({...e,..._});const w=await o.getDimensions(i.floating);return r.floating.width!==w.width||r.floating.height!==w.height?{reset:{rects:!0}}:{}}}};function ct(t){return t&&t.document&&t.location&&t.alert&&t.setInterval}function at(t){if(null==t)return window;if(!ct(t)){const e=t.ownerDocument;return e&&e.defaultView||window}return t}function lt(t){return at(t).getComputedStyle(t)}function ut(t){return ct(t)?"":t?(t.nodeName||"").toLowerCase():""}function ft(){const t=navigator.userAgentData;return null!=t&&t.brands?t.brands.map((t=>t.brand+"/"+t.version)).join(" "):navigator.userAgent}function dt(t){return t instanceof at(t).HTMLElement}function ht(t){return t instanceof at(t).Element}function pt(t){return"undefined"!=typeof ShadowRoot&&(t instanceof at(t).ShadowRoot||t instanceof ShadowRoot)}function mt(t){const{overflow:e,overflowX:n,overflowY:r}=lt(t);return/auto|scroll|overlay|hidden/.test(e+r+n)}function yt(t){return["table","td","th"].includes(ut(t))}function _t(t){const e=/firefox/i.test(ft()),n=lt(t);return"none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||["transform","perspective"].includes(n.willChange)||e&&"filter"===n.willChange||e&&!!n.filter&&"none"!==n.filter}function wt(){return!/^((?!chrome|android).)*safari/i.test(ft())}const bt=Math.min,gt=Math.max,vt=Math.round;function xt(t,e,n){var r,o,i,s;void 0===e&&(e=!1),void 0===n&&(n=!1);const c=t.getBoundingClientRect();let a=1,l=1;e&&dt(t)&&(a=t.offsetWidth>0&&vt(c.width)/t.offsetWidth||1,l=t.offsetHeight>0&&vt(c.height)/t.offsetHeight||1);const u=ht(t)?at(t):window,f=!wt()&&n,d=(c.left+(f&&null!=(r=null==(o=u.visualViewport)?void 0:o.offsetLeft)?r:0))/a,h=(c.top+(f&&null!=(i=null==(s=u.visualViewport)?void 0:s.offsetTop)?i:0))/l,p=c.width/a,m=c.height/l;return{width:p,height:m,top:h,right:d+p,bottom:h+m,left:d,x:d,y:h}}function St(t){return(e=t,(e instanceof at(e).Node?t.ownerDocument:t.document)||window.document).documentElement;var e}function Pt(t){return ht(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function kt(t){return xt(St(t)).left+Pt(t).scrollLeft}function Ot(t,e,n){const r=dt(e),o=St(e),i=xt(t,r&&function(t){const e=xt(t);return vt(e.width)!==t.offsetWidth||vt(e.height)!==t.offsetHeight}(e),"fixed"===n);let s={scrollLeft:0,scrollTop:0};const c={x:0,y:0};if(r||!r&&"fixed"!==n)if(("body"!==ut(e)||mt(o))&&(s=Pt(e)),dt(e)){const t=xt(e,!0);c.x=t.x+e.clientLeft,c.y=t.y+e.clientTop}else o&&(c.x=kt(o));return{x:i.left+s.scrollLeft-c.x,y:i.top+s.scrollTop-c.y,width:i.width,height:i.height}}function At(t){return"html"===ut(t)?t:t.assignedSlot||t.parentNode||(pt(t)?t.host:null)||St(t)}function $t(t){return dt(t)&&"fixed"!==lt(t).position?t.offsetParent:null}function jt(t){const e=at(t);let n=$t(t);for(;n&&yt(n)&&"static"===lt(n).position;)n=$t(n);return n&&("html"===ut(n)||"body"===ut(n)&&"static"===lt(n).position&&!_t(n))?e:n||function(t){let e=At(t);for(pt(e)&&(e=e.host);dt(e)&&!["html","body"].includes(ut(e));){if(_t(e))return e;{const t=e.parentNode;e=pt(t)?t.host:t}}return null}(t)||e}function qt(t){if(dt(t))return{width:t.offsetWidth,height:t.offsetHeight};const e=xt(t);return{width:e.width,height:e.height}}function Tt(t){const e=At(t);return["html","body","#document"].includes(ut(e))?t.ownerDocument.body:dt(e)&&mt(e)?e:Tt(e)}function Et(t,e){var n;void 0===e&&(e=[]);const r=Tt(t),o=r===(null==(n=t.ownerDocument)?void 0:n.body),i=at(r),s=o?[i].concat(i.visualViewport||[],mt(r)?r:[]):r,c=e.concat(s);return o?c:c.concat(Et(s))}function Mt(t,e,n){return"viewport"===e?J(function(t,e){const n=at(t),r=St(t),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,c=0,a=0;if(o){i=o.width,s=o.height;const t=wt();(t||!t&&"fixed"===e)&&(c=o.offsetLeft,a=o.offsetTop)}return{width:i,height:s,x:c,y:a}}(t,n)):ht(e)?function(t,e){const n=xt(t,!1,"fixed"===e),r=n.top+t.clientTop,o=n.left+t.clientLeft;return{top:r,left:o,x:o,y:r,right:o+t.clientWidth,bottom:r+t.clientHeight,width:t.clientWidth,height:t.clientHeight}}(e,n):J(function(t){var e;const n=St(t),r=Pt(t),o=null==(e=t.ownerDocument)?void 0:e.body,i=gt(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=gt(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0);let c=-r.scrollLeft+kt(t);const a=-r.scrollTop;return"rtl"===lt(o||n).direction&&(c+=gt(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:s,x:c,y:a}}(St(t)))}function Rt(t){const e=Et(t),n=["absolute","fixed"].includes(lt(t).position)&&dt(t)?jt(t):t;return ht(n)?e.filter((t=>ht(t)&&function(t,e){const n=null==e.getRootNode?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&pt(n)){let n=e;do{if(n&&t===n)return!0;n=n.parentNode||n.host}while(n)}return!1}(t,n)&&"body"!==ut(t))):[]}const Dt={getClippingRect:function(t){let{element:e,boundary:n,rootBoundary:r,strategy:o}=t;const i=[..."clippingAncestors"===n?Rt(e):[].concat(n),r],s=i[0],c=i.reduce(((t,n)=>{const r=Mt(e,n,o);return t.top=gt(r.top,t.top),t.right=bt(r.right,t.right),t.bottom=bt(r.bottom,t.bottom),t.left=gt(r.left,t.left),t}),Mt(e,s,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:n,strategy:r}=t;const o=dt(n),i=St(n);if(n===i)return e;let s={scrollLeft:0,scrollTop:0};const c={x:0,y:0};if((o||!o&&"fixed"!==r)&&(("body"!==ut(n)||mt(i))&&(s=Pt(n)),dt(n))){const t=xt(n,!0);c.x=t.x+n.clientLeft,c.y=t.y+n.clientTop}return{...e,x:e.x-s.scrollLeft+c.x,y:e.y-s.scrollTop+c.y}},isElement:ht,getDimensions:qt,getOffsetParent:jt,getDocumentElement:St,getElementRects:t=>{let{reference:e,floating:n,strategy:r}=t;return{reference:Ot(e,jt(n),r),floating:{...qt(n),x:0,y:0}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>"rtl"===lt(t).direction};const Lt=(t,e,n)=>(async(t,e,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,c=await(null==s.isRTL?void 0:s.isRTL(e));let a=await s.getElementRects({reference:t,floating:e,strategy:o}),{x:l,y:u}=G(a,r,c),f=r,d={},h=0;for(let n=0;n<i.length;n++){const{name:p,fn:m}=i[n],{x:y,y:_,data:w,reset:b}=await m({x:l,y:u,initialPlacement:r,placement:f,strategy:o,middlewareData:d,rects:a,platform:s,elements:{reference:t,floating:e}});l=null!=y?y:l,u=null!=_?_:u,d={...d,[p]:{...d[p],...w}},b&&h<=50&&(h++,"object"==typeof b&&(b.placement&&(f=b.placement),b.rects&&(a=!0===b.rects?await s.getElementRects({reference:t,floating:e,strategy:o}):b.rects),({x:l,y:u}=G(a,f,c))),n=-1)}return{x:l,y:u,placement:f,strategy:o,middlewareData:d}})(t,e,{platform:Dt,...n});function It(t,e){if(!1===t.tip)return"";function n(t){return w("code",{},t)}function r(...t){return w("tr",{class:"morsels-tip-item"},...t.map((t=>w("td",{},w("div",{},t)))))}const o=w("tbody",{},r("Require a term",n("+sunny weather")),r("Exclude a term",n("-cloudy sunny")),r("Flip search results",n("~rainy")),r("Group terms together",n("~(sunny warm cloudy)")),r("Search for prefixes",n("run*")),r("Search only specific sections",w("ul",{},w("li",{},n("title:forecast")),w("li",{},n("heading:sunny")),w("li",{},n("body:(rainy gloomy)"))))),i=w("table",{class:"morsels-tip-table"},w("thead",{class:"morsels-tip-table-header"},w("tr",{},w("th",{scope:"col"},"Tip"),w("th",{},"Example"))),o),s=w("div",{class:"morsels-tip-popup-root"},w("div",{class:"morsels-tip-popup"},w("div",{class:"morsels-tip-popup-title"},"ðŸ”Ž Advanced search tips"),i),w("div",{class:"morsels-tip-popup-separator"}));function c(){Object.assign(s.style,{left:"calc(var(--morsels-tip-icon-size) - 150px)",top:"-160px"}),s.classList.remove("shown")}c();const a=w("div",{class:"morsels-tip-root",tabindex:"0"},w("span",{class:"morsels-tip-icon"},"?"),s);function l(){Lt(a,s,{placement:"top-end",middleware:[it({crossAxis:!1,flipAlignment:!1,padding:10})]}).then((({x:t,y:e})=>{Object.assign(s.style,{left:`${t}px`,top:`${e}px`}),s.classList.add("shown")}))}return a.onmouseover=l,a.onfocus=l,a.onmouseleave=c,a.onblur=c,e.setupPromise.then((()=>{e.cfg.indexingConfig.withPositions&&o.prepend(r("Search for phrases",n('"for tomorrow"')))})),a}let Ut=0;function Wt(t,e,n){t.setAttribute("autocomplete","off"),t.setAttribute("readonly",""),t.setAttribute("role","button"),t.setAttribute("aria-label",n),e&&t.setAttribute("placeholder",e),t.classList.add("morsels-button-input")}let Ct=0;let Bt=!1;function Ft(t){return t.mode===y.Auto&&!Bt||t.mode===y.Dropdown}class Nt{constructor(){this.B=!1,this.F=!1}N(t,e,n,r,o){const{uiOptions:i}=o,s=new D;let c=!0;r.setupPromise.then((()=>{s.L&&(s.L(),s.L=void 0)})).catch((()=>{n.innerHTML="",n.appendChild(i.headerRender(w,o,!0,!1)),c=!1}));let a=-1;t.addEventListener("input",(l=>{if(!c)return;const u=i.preprocessQuery(l.target.value);if(clearTimeout(a),u.length)a=setTimeout((()=>{var c;if(s.W&&!(null===(c=n.firstElementChild)||void 0===c?void 0:c.getAttribute(b))){n.innerHTML="";const t=i.loadingIndicatorRender(w,o,!r.isSetupDone,!0);s.U=t,n.appendChild(t)}this.H&&this.H();const a=()=>L(u,s,r,e,n,o);s.C||!r.isSetupDone?s.L=a:a(),U(t),t.setAttribute("aria-expanded","true")}),i.inputDebounce);else{const e=()=>{n.innerHTML="",Ft(i)?this.G():i.mode!==y.Target&&n.appendChild(i.headerRender(w,o,!1,!0)),s.C=!1,s.W=!0,U(t),W(t)};s.C?s.L=e:e()}}))}}const Ht={};const Gt=function(t){const e=t.isMobileDevice||(()=>window.matchMedia("only screen and (max-width: 768px)").matches);Bt=e(),function(t){t.searcherOptions=t.searcherOptions||{};const{searcherOptions:e}=t;if(!("url"in e))throw new Error("Mandatory url parameter not specified");e.url.endsWith("/")||(e.url+="/"),e.url.startsWith("/")&&(e.url=window.location.origin+e.url),"maxAutoSuffixSearchTerms"in e||(e.maxAutoSuffixSearchTerms=3),"maxSuffixSearchTerms"in e||(e.maxSuffixSearchTerms=5),"useQueryTermProximity"in e||(e.useQueryTermProximity=!0),"plLazyCacheThreshold"in e||(e.plLazyCacheThreshold=0),"resultLimit"in e||(e.resultLimit=null),t.uiOptions=t.uiOptions||{};const{uiOptions:n}=t;if(n.sourceFilesUrl&&!n.sourceFilesUrl.endsWith("/")&&(n.sourceFilesUrl+="/"),n.mode=n.mode||y.Auto,n.mode===y.Target&&("string"==typeof n.target&&(n.target=document.getElementById(n.target)),!n.target))throw new Error("'target' mode specified but no valid target option specified");if("input"in n&&"string"!=typeof n.input||(n.input=document.getElementById(n.input||"morsels-search")),[y.Dropdown,y.Target].includes(n.mode)&&!n.input)throw new Error("'dropdown' or 'target' mode specified but no input element found");"inputDebounce"in n||(n.inputDebounce=100),n.preprocessQuery=n.preprocessQuery||(t=>t),n.dropdownAlignment=n.dropdownAlignment||"bottom-end","string"==typeof n.fsContainer&&(n.fsContainer=document.getElementById(n.fsContainer)),n.fsContainer=n.fsContainer||document.getElementsByTagName("body")[0],n.resultsPerPage=n.resultsPerPage||10,n.maxSubMatches=n.maxSubMatches||2,n.label=n.label||"Search this site",n.resultsLabel=n.resultsLabel||"Site results",n.fsInputLabel=n.fsInputLabel||"Search",n.fsPlaceholder=n.fsPlaceholder||"Search this site",n.fsCloseText=n.fsCloseText||"Close","fsScrollLock"in n||(n.fsScrollLock=!0),n.loadingIndicatorRender||(n.loadingIndicatorRender=(t,e,n,r)=>{const o=t("span",{class:"morsels-loading-indicator"});if(n){const e=t("div",{class:"morsels-initialising-text"},"... Initialising ...");return t("div",{class:"morsels-initialising"},e,o)}return r||o.classList.add("morsels-loading-indicator-subsequent"),o});const r=n.loadingIndicatorRender;n.loadingIndicatorRender=(...t)=>{const e=r(...t);return e.setAttribute(b,"true"),e},n.headerRender=n.headerRender||((t,e,n,r,o)=>n?t("div",{class:"morsels-header morsels-error"},"Oops! Something went wrong... ðŸ™"):r?t("div",{class:"morsels-header morsels-fs-blank"},"Start Searching Above!"):t("div",{class:"morsels-header"},`${o.resultsTotal} results found`)),n.resultsRender=n.resultsRender||E,n.resultsRenderOpts=n.resultsRenderOpts||{};const{resultsRenderOpts:o}=n;o.listItemRender=o.listItemRender||((t,e,n,r,o,i)=>{const s=i.filter((t=>!t.headingMatches)),c=i.filter((t=>t.headingMatches)),a=t("a",{class:"morsels-title-link",role:"option"},t("div",{class:"morsels-title"},o),...s.map((({bodyMatches:e})=>t("div",{class:"morsels-body"},...e))));r&&a.setAttribute("href",I(e,r,n));const l=c.map((({href:r,bodyMatches:o,headingMatches:i})=>{const s=t("a",{class:"morsels-heading-link",role:"option"},t("div",{class:"morsels-heading"},...i),t("div",{class:"morsels-body"},...o));return r&&s.setAttribute("href",I(e,r,n)),s}));return t("div",{class:"morsels-list-item",role:"group","aria-label":o},a,...l)}),o.highlightRender=o.highlightRender||((t,e,n)=>t("span",{class:"morsels-highlight"},n)),t.otherOptions=t.otherOptions||{}}(t);const{uiOptions:n,searcherOptions:r}=t,{input:o,mode:i,dropdownAlignment:s,label:c,fsInputButtonText:a,fsInputLabel:l,fsScrollLock:u,target:f}=n,{url:d}=r;Ht[d]||(Ht[d]=new m(t.searcherOptions));const h=Ht[d],p=new Nt,[_,g,v,x,S]=function(t,e,n){const{uiOptions:r}=t,o=`morsels-fs-label-${Ct}`,i=w("input",{class:"morsels-fs-input",type:"search",placeholder:r.fsPlaceholder,"aria-labelledby":o,enterkeyhint:"search"});i.onkeydown=t=>{"Escape"===t.key&&i.value&&t.stopPropagation()};const s=w("span",{class:"morsels-fs-input-clear"});s.onclick=()=>{i.value&&(i.value="",i.dispatchEvent(new KeyboardEvent("input")),i.focus())};const c=w("button",{class:"morsels-input-close-fs"},r.fsCloseText),a=w("div",{id:"morsels-fs-list-"+Ct++,class:"morsels-list","aria-labelledby":o}),l=w("div",{class:"morsels-root morsels-fs-root"},w("form",{class:"morsels-fs-controls"},w("label",{id:o,for:"morsels-fs-input",style:"display: none"},r.label),w("div",{class:"morsels-fs-input-wrapper"},i,s),c),It(r,e),a);l.onclick=t=>t.stopPropagation(),l.onmousedown=t=>t.stopPropagation(),C(i,a,r.label);const u=w("div",{class:"morsels-fs-backdrop"},l);function f(t){n(t),u.remove()}return u.onmousedown=()=>f(!1),u.onkeydown=t=>{"Escape"===t.code&&(t.stopPropagation(),f(!0))},c.onclick=t=>{t.preventDefault(),f(""===t.pointerType)},[u,a,i,function(){r.fsContainer.appendChild(u);const t=u.querySelector("input.morsels-fs-input");t&&t.focus();const e=a.querySelector(".focus");e&&a.scrollTo({top:e.offsetTop-a.offsetTop-30})},f]}(t,h,(t=>{t&&o&&o.focus(),p.F=!1,u&&(document.body.style.overflow="")}));function P(){p.F||(x(),p.F=!0,u&&(document.body.style.overflow="hidden"))}function k(){S(!1),u&&(document.body.style.overflow="")}function O(){function t(){Ft(n)||P()}o.addEventListener("click",t),o.addEventListener("keydown",(e=>{"Enter"===e.key&&t()}))}let A;if(p.N(v,_,g,h,t),g.appendChild(n.headerRender(w,t,!1,!0)),!o||i!==y.Auto&&i!==y.Dropdown){if(o&&i===y.Fullscreen)Wt(o,a,l),O();else if(o&&i===y.Target){f.classList.add("morsels-root"),p.N(o,f,f,h,t);let j=f.getAttribute("id");j||(f.setAttribute("id","morsels-target-list"),j="morsels-target-list"),C(o,f,n.label)}}else{const q=o.getAttribute("placeholder")||"",T=o.parentElement,M=T.childNodes;let R=0;for(;R<M.length&&M[R]!==o;R+=1);o.remove();const[D,L]=function(t,e,n,r){const o=w("div",{id:"morsels-dropdown-list-"+Ut++,class:"morsels-list",tabindex:"-1"}),i=w("div",{class:"morsels-inner-root",style:"display: none;"},w("div",{class:"morsels-input-dropdown-separator"}),It(t,e),o),s=w("div",{class:"morsels-root morsels-dropdown-root"},n,i);return i.onkeyup=t=>{"Escape"===t.code&&(t.stopPropagation(),n.focus(),r())},[s,o]}(n,h,o,(()=>{p.G()}));function B(){i!==y.Dropdown&&(Bt=e())?(p.G(),function(t,e,n,r){e.removeAttribute("role"),e.removeAttribute("aria-label"),e.removeAttribute("aria-live"),t.removeAttribute("role"),W(t),t.removeAttribute("aria-autocomplete"),t.removeAttribute("aria-controls"),U(t),Wt(t,r,n)}(o,A,l,a)):(k(),p.G(),document.activeElement===o&&p.H(),function(t,e,n,r){!function(t,e){t.removeAttribute("readonly"),t.removeAttribute("role"),t.removeAttribute("aria-label"),t.setAttribute("placeholder",e),t.classList.remove("morsels-button-input")}(t,r),C(t,e,n)}(o,A,c,q))}let F;A=L,R<M.length?T.insertBefore(D,M[R]):T.appendChild(D),p.H=()=>{!p.B&&Ft(n)&&A.childElementCount&&(!function(t,e,n){const r=t.children[1],o=r.firstElementChild;r.style.display="block",Lt(t,r,{placement:n,middleware:[it({padding:10,mainAxis:!1}),st({apply({availableWidth:t,availableHeight:n}){Object.assign(e.style,{maxWidth:`min(${t}px, var(--morsels-dropdown-max-width))`,maxHeight:`min(${n}px, var(--morsels-dropdown-max-height))`})},padding:10}),K({element:o})]}).then((({x:t,y:e,middlewareData:n})=>{Object.assign(r.style,{left:`${t}px`,top:`${e}px`});const{x:i}=n.arrow;Object.assign(o.style,{left:null!=i?`${i}px`:""})}))}(D,A,s),p.B=!0)},p.G=()=>{D.children[1].style.display="none",p.B=!1},p.N(o,D,A,h,t),B(),window.addEventListener("resize",(()=>{clearTimeout(F),F=setTimeout(B,10)})),D.addEventListener("focusout",(()=>{Ft(n)&&setTimeout((()=>{let t=document.activeElement;for(;t;)if(t=t.parentElement,t===D)return;p.G()}),100)})),o.addEventListener("focus",p.H),O()}function $(t){t.addEventListener("keydown",(e=>{var r;const{key:o}=e;if(!["ArrowDown","ArrowUp","Home","End","Enter"].includes(o))return;let s,c=t=>{const e=t.offsetTop-s.offsetTop-s.clientHeight/2+t.clientHeight/2;s.scrollTo({top:e})};if(Ft(n)){if(!p.B)return;s=A}else if(i===y.Target)s=f,c=t=>{t.scrollIntoView({block:"center"})};else{if(!p.F)return;s=g}const a=s.querySelector("#morsels-list-selected");function l(e){return!!e&&(a&&(a.classList.remove("focus"),a.removeAttribute("aria-selected"),a.removeAttribute("id")),e.classList.add("focus"),e.setAttribute("aria-selected","true"),e.setAttribute("id","morsels-list-selected"),c(e),function(t){t.setAttribute("aria-activedescendant","morsels-list-selected")}(t),!0)}const u=s.querySelectorAll('[role="option"]'),d=u[u.length-1];let h=-1;if(u.forEach(((t,e)=>{t===a&&(h=e)})),"ArrowDown"===o)l(u[(h+1)%u.length]);else if("ArrowUp"===o)l(h>0?u[h-1]:d);else if("Home"===o)t.focus(),t.setSelectionRange(0,0);else if("End"===o)t.focus(),t.setSelectionRange(t.value.length,t.value.length);else if("Enter"===o&&a){const t=a.getAttribute("href")||(null===(r=a.querySelector("a[href]"))||void 0===r?void 0:r.getAttribute("href"));t&&(window.location.href=t)}e.preventDefault()}))}return o&&$(o),$(v),{showFullscreen:P,hideFullscreen:k}},zt=Gt;return e=e.default})()));