!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.initMorsels=n():t.initMorsels=n()}(self,(function(){return(()=>{"use strict";var t={34:t=>{t.exports='(()=>{var n,t,e,r,o,i={899:(n,t,e)=>{e.p=__morsWrkrUrl},312:(n,t,e)=>{"use strict";e.a(n,(async n=>{e.d(t,{get_new_searcher:()=>r.qS,get_query:()=>r.R1});var r=e(440),o=n([r]);r=(o.then?await o:o)[0]}))},440:(n,t,e)=>{"use strict";e.a(n,(async r=>{e.d(t,{qS:()=>$,R1:()=>q,ug:()=>E,G6:()=>T,ff:()=>I,TR:()=>N,xe:()=>k,XP:()=>F,iw:()=>R,Mt:()=>W,g8:()=>D,uV:()=>G,oH:()=>J,$r:()=>C,Rh:()=>B,fY:()=>H,Or:()=>V,Ry:()=>X,jI:()=>Y,mv:()=>z});var o=e(459),i=e(926);n=e.hmd(n);var c=r([i]);i=(c.then?await c:c)[0];const u=new Array(32).fill(void 0);function s(n){return u[n]}u.push(void 0,null,!0,!1);let f=u.length;function a(n){const t=s(n);return function(n){n<36||(u[n]=f,f=n)}(n),t}function _(n){f===u.length&&u.push(u.length+1);const t=f;return f=u[t],u[t]=n,t}function l(n){const t=typeof n;if("number"==t||"boolean"==t||null==n)return`${n}`;if("string"==t)return`"${n}"`;if("symbol"==t){const t=n.description;return null==t?"Symbol":`Symbol(${t})`}if("function"==t){const t=n.name;return"string"==typeof t&&t.length>0?`Function(${t})`:"Function"}if(Array.isArray(n)){const t=n.length;let e="[";t>0&&(e+=l(n[0]));for(let r=1;r<t;r++)e+=", "+l(n[r]);return e+="]",e}const e=/\\[object ([^\\]]+)\\]/.exec(toString.call(n));let r;if(!(e.length>1))return toString.call(n);if(r=e[1],"Object"==r)try{return"Object("+JSON.stringify(n)+")"}catch(n){return"Object"}return n instanceof Error?`${n.name}: ${n.message}\\n${n.stack}`:r}let y,b=0;function d(){return 0===y.byteLength&&(y=new Uint8Array(i.memory.buffer)),y}let w=new("undefined"==typeof TextEncoder?(0,n.require)("util").TextEncoder:TextEncoder)("utf-8");const h="function"==typeof w.encodeInto?function(n,t){return w.encodeInto(n,t)}:function(n,t){const e=w.encode(n);return t.set(e),{read:n.length,written:e.length}};function g(n,t,e){if(void 0===e){const e=w.encode(n),r=t(e.length);return d().subarray(r,r+e.length).set(e),b=e.length,r}let r=n.length,o=t(r);const i=d();let c=0;for(;c<r;c++){const t=n.charCodeAt(c);if(t>127)break;i[o+c]=t}if(c!==r){0!==c&&(n=n.slice(c)),o=e(o,r,r=c+3*n.length);const t=d().subarray(o+c,o+r);c+=h(n,t).written}return b=c,o}let v;function m(){return 0===v.byteLength&&(v=new Int32Array(i.memory.buffer)),v}let p,x=new("undefined"==typeof TextDecoder?(0,n.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});function j(n,t){return x.decode(d().subarray(n,n+t))}function O(n,t,e){i._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__hf0c3446b9226a7d1(n,t,_(e))}function A(n,t){return(0===p.byteLength&&(p=new Uint32Array(i.memory.buffer)),p).subarray(n/4,n/4+t)}function S(n){return null==n}function $(n,t,e,r,o,c,u,s,f,a,l,y,d,w,h){const v=g(r,i.__wbindgen_malloc,i.__wbindgen_realloc),m=b;var p=S(u)?0:g(u,i.__wbindgen_malloc,i.__wbindgen_realloc),x=b;const j=g(l,i.__wbindgen_malloc,i.__wbindgen_realloc),O=b,A=i.get_new_searcher(_(n),t,e,v,m,_(o),S(c)?16777215:c?1:0,p,x,!S(s),S(s)?0:s,_(f),a,j,O,y,d,w,!S(h),S(h)?0:h);return M.__wrap(A)}function q(n,t){const e=g(t,i.__wbindgen_malloc,i.__wbindgen_realloc),r=b;return a(i.get_query(n,e,r))}function P(n,t){try{return n.apply(this,t)}catch(n){i.__wbindgen_exn_store(_(n))}}x.decode();class U{static __wrap(n){const t=Object.create(U.prototype);return t.ptr=n,t}__destroy_into_raw(){const n=this.ptr;return this.ptr=0,n}free(){const n=this.__destroy_into_raw();i.__wbg_query_free(n)}get_next_n(n){try{const o=i.__wbindgen_add_to_stack_pointer(-16);i.query_get_next_n(o,this.ptr,n);var t=m()[o/4+0],e=m()[o/4+1],r=A(t,e).slice();return i.__wbindgen_free(t,4*e),r}finally{i.__wbindgen_add_to_stack_pointer(16)}}get_query_parts(){try{const e=i.__wbindgen_add_to_stack_pointer(-16);i.query_get_query_parts(e,this.ptr);var n=m()[e/4+0],t=m()[e/4+1];return j(n,t)}finally{i.__wbindgen_add_to_stack_pointer(16),i.__wbindgen_free(n,t)}}get_searched_terms(){try{const e=i.__wbindgen_add_to_stack_pointer(-16);i.query_get_searched_terms(e,this.ptr);var n=m()[e/4+0],t=m()[e/4+1];return j(n,t)}finally{i.__wbindgen_add_to_stack_pointer(16),i.__wbindgen_free(n,t)}}}class M{static __wrap(n){const t=Object.create(M.prototype);return t.ptr=n,t}__destroy_into_raw(){const n=this.ptr;return this.ptr=0,n}free(){const n=this.__destroy_into_raw();i.__wbg_searcher_free(n)}get_ptr(){return i.searcher_get_ptr(this.ptr)}}function E(n){a(n)}function T(n){const t=a(n).original;if(1==t.cnt--)return t.a=0,!0;return!1}function I(n){return _(U.__wrap(n))}function N(){return P((function(n,t,e){return _(s(n).call(s(t),s(e)))}),arguments)}function k(n){return _(new Uint8Array(s(n)))}function F(n){return void 0===s(n)}function R(n,t,e,r,i){return _((0,o.T)(n>>>0,t>>>0,j(e,r),i>>>0))}function W(n,t,e){return _(s(n).then(s(t),s(e)))}function D(n,t){try{var e={a:n,b:t};const r=new Promise(((n,t)=>{const r=e.a;e.a=0;try{return function(n,t,e,r){i.wasm_bindgen__convert__closures__invoke2_mut__h9258c6f257dd2a69(n,t,_(e),_(r))}(r,e.b,n,t)}finally{e.a=r}}));return _(r)}finally{e.a=e.b=0}}function G(n){return s(n).length}function J(){return _(i.memory)}function C(n){return _(s(n).buffer)}function B(n,t,e){s(n).set(s(t),e>>>0)}function H(n,t){const e=g(l(s(t)),i.__wbindgen_malloc,i.__wbindgen_realloc),r=b;m()[n/4+1]=r,m()[n/4+0]=e}function V(n,t){throw new Error(j(n,t))}function X(n){return _(Promise.resolve(s(n)))}function Y(n,t){return _(s(n).then(s(t)))}function z(n,t,e){const r=function(n,t,e,r){const o={a:n,b:t,cnt:1,dtor:e},c=(...n)=>{o.cnt++;const t=o.a;o.a=0;try{return r(t,o.b,...n)}finally{0==--o.cnt?i.__wbindgen_export_2.get(o.dtor)(t,o.b):o.a=t}};return c.original=o,c}(n,t,32,O);return _(r)}v=new Int32Array(i.memory.buffer),p=new Uint32Array(i.memory.buffer),y=new Uint8Array(i.memory.buffer)}))},459:(n,t,e)=>{"use strict";async function r(n,t,e,r){const o=`${e}pl_${Math.floor(n/t)}/pl_${n}.json`,i=`morsels:${e}`;function c(n){return fetch(n).then((n=>n.arrayBuffer()))}try{const n=await caches.open(i),t=await n.match(o);if(t)return await t.arrayBuffer();{const t=await c(o);return t.byteLength>=r&&n.add(o),t}}catch{return c(o)}}e.d(t,{T:()=>r})},926:(n,t,e)=>{"use strict";var r=([r])=>e.v(t,n.id,"90fb4caf98a1d221be63",{"./index_bg.js":{__wbindgen_object_drop_ref:r.ug,__wbindgen_cb_drop:r.G6,__wbg_query_new:r.ff,__wbg_call_9855a4612eb496cb:r.TR,__wbg_new_97cf52648830a70d:r.xe,__wbindgen_is_undefined:r.XP,__wbg_fetchPl_ff60278bba20718a:r.iw,__wbg_then_4debc41d4fc92ce5:r.Mt,__wbg_new_78403b138428b684:r.g8,__wbg_length_e09c0b925ab8de5d:r.uV,__wbindgen_memory:r.oH,__wbg_buffer_de1150f91b23aa89:r.$r,__wbg_set_a0172b213e2469e9:r.Rh,__wbindgen_debug_string:r.fY,__wbindgen_throw:r.Or,__wbg_resolve_f269ce174f88b294:r.Ry,__wbg_then_1c698eedca15eed6:r.jI,__wbindgen_closure_wrapper110:r.mv}});e.a(n,(n=>{var t=n([e(440)]);return t.then?t.then(r):r(t)}),1)}},c={};function u(n){var t=c[n];if(void 0!==t)return t.exports;var e=c[n]={id:n,loaded:!1,exports:{}};return i[n](e,e.exports,u),e.loaded=!0,e.exports}n="function"==typeof Symbol?Symbol("webpack then"):"__webpack_then__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",e=n=>{n&&(n.forEach((n=>n.r--)),n.forEach((n=>n.r--?n.r++:n())))},r=n=>!--n.r&&n(),o=(n,t)=>n?n.push(t):r(t),u.a=(i,c,u)=>{var s,f,a,_=u&&[],l=i.exports,y=!0,b=!1,d=(t,e,r)=>{b||(b=!0,e.r+=t.length,t.map(((t,o)=>t[n](e,r))),b=!1)},w=new Promise(((n,t)=>{a=t,f=()=>(n(l),e(_),_=0)}));w[t]=l,w[n]=(n,t)=>{if(y)return r(n);s&&d(s,n,t),o(_,n),w.catch(t)},i.exports=w,c((i=>{if(!i)return f();var c,u;s=(i=>i.map((i=>{if(null!==i&&"object"==typeof i){if(i[n])return i;if(i.then){var c=[];i.then((n=>{u[t]=n,e(c),c=0}));var u={};return u[n]=(n,t)=>(o(c,n),i.catch(t)),u}}var s={};return s[n]=n=>r(n),s[t]=i,s})))(i);var a=new Promise(((n,e)=>{(c=()=>n(u=s.map((n=>n[t])))).r=0,d(s,c,e)}));return c.r?a:u})).then(f,a),y=!1},u.d=(n,t)=>{for(var e in t)u.o(t,e)&&!u.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:t[e]})},u.hmd=n=>((n=Object.create(n)).children||(n.children=[]),Object.defineProperty(n,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+n.id)}}),n),u.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t),u.v=(n,t,e,r)=>{var o=fetch(u.p+""+e+".module.wasm");return"function"==typeof WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(o,r).then((t=>Object.assign(n,t.instance.exports))):o.then((n=>n.arrayBuffer())).then((n=>WebAssembly.instantiate(n,r))).then((t=>Object.assign(n,t.instance.exports)))},u.p="/",(()=>{"use strict";u(899);class n{constructor(n,t,e){this.t=n,this.i=t,this.u=e}_(n){return Array.from(this.u.get_next_n(n))}l(){this.u.free()}}var t=function(n,t,e,r){return new(e||(e=Promise))((function(o,i){function c(n){try{s(r.next(n))}catch(n){i(n)}}function u(n){try{s(r.throw(n))}catch(n){i(n)}}function s(n){var t;n.done?o(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(c,u)}s((r=r.apply(n,t||[])).next())}))};const e=Object.create(null);let r,o;function i(i,c){return t(this,void 0,void 0,(function*(){const t=yield r.get_query(o.get_ptr(),i);return e[c]=new n(JSON.parse(t.get_searched_terms()),JSON.parse(t.get_query_parts()),t),e[c]}))}function c(n,e){return t(this,void 0,void 0,(function*(){const{indexingConfig:i,langConfig:{lang:c,options:u},fieldInfos:s,numScoredFields:f,searcherOptions:a}=n,_=function(n){return t(this,void 0,void 0,(function*(){let t;try{t=yield caches.open(`morsels:${n}`)}catch(n){}const e=`${n}metadata.json`;return(t?t.match(e).then((n=>!n&&t.add(e))).then((()=>t.match(e))):fetch(e)).then((n=>n.arrayBuffer()))}))}(a.url),l=new TextEncoder;let y;const b=u.stop_words;if(b){const n=b.map((n=>l.encode(n))).filter((n=>n.length<255)),t=n.length+n.reduce(((n,t)=>n+t.length),0);y=new Uint8Array(t);let e=0;n.forEach((n=>{y[e++]=n.length,y.set(n,e),e+=n.length}))}const d=s.map((n=>l.encode(n.name))),w=d.reduce(((n,t)=>n+t.length),0),h=new Uint8Array(13*d.length+w),g=new Float32Array(3);let v=0;s.forEach(((n,t)=>{const e=d[t].length;h[v++]=e,h.set(d[t],v),v+=e,g[0]=n.weight,g[1]=n.k,g[2]=n.b,h.set(new Uint8Array(g.buffer),v),v+=12})),r=yield e,o=r.get_new_searcher(yield _,i.numPlsPerDir,i.withPositions,c,y,u.ignore_stop_words,u.stemmer,u.max_term_len,h,f,a.url,a.numberOfExpandedTerms,a.useQueryTermProximity,a.plLazyCacheThreshold,a.resultLimit)}))}var s=function(n,t,e,r){return new(e||(e=Promise))((function(o,i){function c(n){try{s(r.next(n))}catch(n){i(n)}}function u(n){try{s(r.throw(n))}catch(n){i(n)}}function s(n){var t;n.done?o(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(c,u)}s((r=r.apply(n,t||[])).next())}))};!function(n){onmessage=function(t){return s(this,void 0,void 0,(function*(){const r=t.data;if(r.searcherOptions)yield c(r,n),postMessage({isSetupDone:!0});else if(r.query){const{query:n,queryId:t,n:o,isFree:c,isGetNextN:u}=r;if(c)!function(n){e[n]&&(e[n].l(),delete e[n])}(t);else if(u){const r=function(n,t){var r;return(null===(r=e[n])||void 0===r?void 0:r._(t))||[]}(t,o);postMessage({query:n,queryId:t,nextResults:r})}else{const e=yield i(n,t);postMessage({query:n,queryId:t,searchedTerms:e.t,queryParts:e.i})}}}))},postMessage("")}(Promise.resolve().then(u.bind(u,312)))})()})();'}},n={};function e(r){var o=n[r];if(void 0!==o)return o.exports;var i=n[r]={exports:{}};return t[r](i,i.exports,e),i.exports}e.d=(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},e.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n);var r={};return(()=>{e.d(r,{default:()=>Wt});var t=e(34);const n=class{constructor(t,n,e,r,o){this.query=t,this.searchedTerms=n,this.queryParts=e,this.getNextN=r,this.free=o}};function o(t,n,e){const{fieldStoreBlockSize:r,numStoresPerDir:o,indexingConfig:i}=e,{numDocsPerBlock:s}=i,c=Math.floor(n/r),l=Math.floor(n/s);return`${t}field_store/${Math.floor(c/o)}/${c}--${l}.json`}var i=function(t,n,e,r){return new(e||(e=Promise))((function(o,i){function s(t){try{l(r.next(t))}catch(t){i(t)}}function c(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(s,c)}l((r=r.apply(t,n||[])).next())}))};const s=class{constructor(t,n){this.t=t,this.i=n,this.l=Object.create(null)}u(t,n,e){return i(this,void 0,void 0,(function*(){const r=o(t,this.t,e);try{const t=yield n.getJson(r);let o=this.t%e.fieldStoreBlockSize;const{numDocsPerBlock:i}=e.indexingConfig;i<e.fieldStoreBlockSize&&(o%=i),this.l=t[o]}catch(t){console.log(t)}}))}getFields(){return this.l.map((([t,n])=>[this.i[t].name,n]))}};var c=function(t,n,e,r){return new(e||(e=Promise))((function(o,i){function s(t){try{l(r.next(t))}catch(t){i(t)}}function c(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(s,c)}l((r=r.apply(t,n||[])).next())}))};let l=0;const a=[];function u(){a.length&&a.shift()().then(u)}function f(t){return c(this,void 0,void 0,(function*(){const n=()=>c(this,void 0,void 0,(function*(){l+=1,yield t(),l-=1}));l>=2?a.push(n):(yield n(),u())}))}class d{constructor(t){this.cache=t,this.h=Object.create(null)}m(t){return c(this,void 0,void 0,(function*(){if(this.cache){let n=yield this.cache.match(t);n?this.h[t]=n.json():f((()=>c(this,void 0,void 0,(function*(){yield this.cache.add(t),n=yield this.cache.match(t),this.h[t]=n.json()}))))}else f((()=>c(this,void 0,void 0,(function*(){const n=yield fetch(t);this.h[t]=n.json()}))))}))}p(t){return c(this,void 0,void 0,(function*(){if(this.cache){(yield this.cache.match(t))||f((()=>this.cache.add(t)))}}))}getJson(t){return this.h[t]||(this.h[t]=fetch(t).then((t=>t.json()))),this.h[t]}}var h=function(t,n,e,r){return new(e||(e=Promise))((function(o,i){function s(t){try{l(r.next(t))}catch(t){i(t)}}function c(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(s,c)}l((r=r.apply(t,n||[])).next())}))};let m;if(document.currentScript)m=document.currentScript.src;else{const t=document.getElementsByTagName("script");m=t.length&&t[t.length-1].src}m=m.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/");const p={s:""};const _=class{constructor(t){if(this._=t,this.isSetupDone=!1,this.g=Object.create(null),this.id=0,"object"!=typeof WebAssembly||"function"!=typeof WebAssembly.instantiateStreaming)return void(this.setupPromise=Promise.reject("WA unsupported"));const n=this.v().then((()=>this.O(`morsels:${t.url}`)));this.setupPromise=Promise.all([n,new Promise((t=>{const e=URL.createObjectURL(new Blob([`const __morsWrkrUrl="${m}";${p.s}`],{type:"text/javascript"}));this.S=new Worker(e),this.S.onmessage=r=>{if(r.data.query){const{query:t,queryId:n,nextResults:e,searchedTerms:o,queryParts:i}=r.data,s=this.g[n];s&&s.resolve({query:t,nextResults:e,searchedTerms:o,queryParts:i})}else""===r.data?(n.then((()=>this.S.postMessage(this.cfg))),URL.revokeObjectURL(e)):r.data.isSetupDone&&(this.isSetupDone=!0,t(),this.k(),this.P())},this.S.onmessageerror=t=>{console.log(t)}}))])}O(t){return h(this,void 0,void 0,(function*(){try{const{indexVer:n}=this.cfg;let e=yield caches.open(t);const r=yield e.match("/index_ver");if(r){n!==(yield r.text())&&(yield caches.delete(t),e=yield caches.open(t))}yield e.put("/index_ver",new Response(n)),this.$=new d(e)}catch(t){this.$=new d(void 0)}}))}k(){if(!this._.cacheAllFieldStores)return;const{fieldStoreBlockSize:t,indexingConfig:n,lastDocId:e}=this.cfg,r=Math.min(t,n.numDocsPerBlock);for(let t=0;t<e;t+=r)this.$.m(o(this._.url,t,this.cfg))}P(){this.cfg.indexingConfig.plNamesToCache.forEach((t=>{const n=Math.floor(t/this.cfg.indexingConfig.numPlsPerDir),e=`${this._.url}pl_${n}/pl_${t}.json`;this.$.p(e)}))}v(){return h(this,void 0,void 0,(function*(){const t=this._;if(this.cfg=yield(yield fetch(`${t.url}morsels_config.json`)).json(),"0.3.3"!==this.cfg.ver)throw new Error("Morsels search !== indexer version!");"cacheAllFieldStores"in t||(t.cacheAllFieldStores=!!this.cfg.cacheAllFieldStores),t.useQueryTermProximity=t.useQueryTermProximity&&this.cfg.indexingConfig.withPositions,this.cfg.searcherOptions=t}))}getQuery(t){return h(this,void 0,void 0,(function*(){yield this.setupPromise;const e=this.id;this.id+=1;const r=this.g;r[e]={promise:void 0,resolve:void 0},r[e].promise=new Promise((n=>{r[e].resolve=n,this.S.postMessage({query:t,queryId:e})}));const o=yield r[e].promise;return new n(t,o.searchedTerms,o.queryParts,(n=>h(this,void 0,void 0,(function*(){if(!r[e])return[];if(yield r[e].promise,r[e].promise=new Promise((o=>{r[e].resolve=o,this.S.postMessage({query:t,queryId:e,isGetNextN:!0,n})})),!r[e])return[];const o=(yield r[e].promise).nextResults.map((t=>new s(t,this.cfg.fieldInfos)));return yield Promise.all(o.map((t=>t.u(this._.url,this.$,this.cfg)))),o}))),(()=>{delete r[e],this.S.postMessage({query:t,isFree:!0})}))}))}};function y(t){if("string"!=typeof t)throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}var b;function w(t,n,...e){const r=document.createElement(t);return Object.entries(n).forEach((([t,n])=>{r.setAttribute(t,n)})),e.forEach((t=>{if("string"==typeof t){const n=document.createElement("span");n.textContent=t,r.appendChild(n)}else r.appendChild(t)})),r}p.s=t,function(t){t.Auto="auto",t.Dropdown="dropdown",t.Fullscreen="fullscreen",t.Target="target"}(b||(b={}));const g=w,v="data-morsels-loading-indicator";function x(){return w("div",{[v]:"true"})}function O(t){return t.startsWith("/")?new URL(new URL(window.location.href).origin+t):new URL(t)}function S(t,n){const e=n.map((n=>Array.from(t.matchAll(n))));if(!e.some((t=>t.length)))return{j:t,A:[],R:0};let r=n.map((()=>-1)),o=1e7,i=n.map((()=>0));const s=e.map((()=>0)),c=e.map((t=>!t.length)),l=e.map((()=>-1));for(;;){let t=1e7,n=1e7,a=-1,u=0;for(let r=0;r<s.length;r++){const o=e[r][s[r]];if(!o)continue;const i=o.index+o[1].length;!c[r]&&i<n&&(n=i,a=r),t=Math.min(t,i),u=Math.max(u,i),l[r]=i}if(-1===a)break;const f=u-t;if(f<o&&(o=f,r=[...l],i=s.map(((t,n)=>e[n][t]&&e[n][t][2].length+e[n][t][3].length))),s[a]+=1,s[a]>=e[a].length&&(c[a]=!0,s[a]-=1,c.every((t=>t))))break}const a=r.map(((t,n)=>({pos:t,len:i[n]}))).filter((t=>t.pos>=0)).sort(((t,n)=>t.pos-n.pos)),u=a.length;return{j:t,A:a,R:u}}function k(){return g("span",{class:"morsels-ellipsis","aria-label":"ellipses"}," ... ")}function P(t,n,e){const{highlightRender:r}=e.uiOptions.resultsRenderOpts,{j:o,A:i}=t;if(!i.some((({pos:t})=>t>=0))){if(n){const t=o.trimStart().substring(0,80);return[80===t.length?t.replace(/\w+$/,""):t,k()]}return[o]}const s=[];let c=0;for(const{pos:t,len:l}of i){const i=t+l;if(t>c+80){n&&s.push(k());const c=o.substring(t-40,t);s.push(40===c.length?c.replace(/^\w+/,""):c),s.push(r(g,e,o.substring(t,i)))}else if(t>=c)s.pop(),s.push(o.substring(c,t)),s.push(r(g,e,o.substring(t,i)));else{if(!(i>c))continue;s.pop();s[s.length-1].textContent+=o.substring(c,i)}const a=o.substring(i,i+40);s.push(40===a.length?a.replace(/\w+$/,""):a),c=i}return n&&s.push(k()),s}var $;function j(t,n,e,r){const{maxSubMatches:o,resultsRenderOpts:i}=r.uiOptions,{bodyOnlyRender:s,headingBodyRender:c}=i;let l,a=-2,u="",f=[];for(let e=0;e<t.length;e+=1){const[r,o]=t[e];switch(r){case"headingLink":a=e,u=o;break;case"heading":l=S(o,n),l.T=e,l.q=a===e-1?u:"",f.push({j:"",A:[],R:0,M:l,q:l.q,T:e,D:$.HEADING_ONLY});break;case"body":{const t=S(o,n);l?(t.M=l,t.q=l.q,t.R+=l.R,t.D=$.HEADING_BODY):t.D=$.BODY_ONLY,f.push(t);break}}}f.sort(((t,n)=>0===t.R&&0===n.R?n.j.length-t.j.length:t.R===n.R?n.D-t.D:n.R-t.R));const d=[],h=Math.min(f.length,o);for(let t=0;t<h&&(f[t].R===f[0].R&&f[t].D===f[0].D);t+=1)d.push(f[t]);return d.map((t=>{const n=P(t,!0,r);if(t.M){const o=P(t.M,!1,r),i=o.length?o:[t.M.j],s=t.q&&`${e}#${t.q}`;return c(g,r,i,n,s)}return s(g,r,n)}))}!function(t){t[t.HEADING_BODY=2]="HEADING_BODY",t[t.BODY_ONLY=1]="BODY_ONLY",t[t.HEADING_ONLY=0]="HEADING_ONLY"}($||($={}));var A=function(t,n,e,r){return new(e||(e=Promise))((function(o,i){function s(t){try{l(r.next(t))}catch(t){i(t)}}function c(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(s,c)}l((r=r.apply(t,n||[])).next())}))};const R=new DOMParser;function T(t,n,e,r,o,i){return A(this,void 0,void 0,(function*(){const{loaderConfigs:s}=e.indexingConfig,c=t.getFields();let l,a,u,f=!1;for(const t of c){const[n,e]=t;switch(n){case"link":l=l||e;break;case"_relative_fp":a=a||e;break;case"title":u=u||e;break;case"h1":f||(u=e,f=!0)}if(l&&a&&u&&f)break}const{sourceFilesUrl:d,resultsRenderOpts:{addSearchedTerms:h,listItemRender:m}}=n.uiOptions,p=l||"string"==typeof d&&a&&`${d}${a}`||"";if(!u)if(a){const t=a.split("/").join(" Â» ").split(".");let n=t.pop().toUpperCase();n="HTML"===n?"":"PDF"===n?" (PDF)":"."+n,u=t.join(".")+n}else u=l;let _,y=p;if(h&&p){const t=O(p);t.searchParams.append(h,o),y=t.toString()}if(r)_=j(c,i,y,n);else if(p)if(p.endsWith(".html")&&s.HtmlLoader){const t=yield(yield fetch(p)).text(),e=R.parseFromString(t,"text/html"),{title:r,bodies:o}=function(t,n,e,r,o){const i=[];if(n.exclude_selectors)for(const e of n.exclude_selectors){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t+=1)n[t].remove()}n.selectors=n.selectors||[];const s=n.selectors.map((t=>t.selector)).join(",");!function t(e,r){for(const t of n.selectors)if(e.matches(t.selector)){Object.entries(t.attr_map).forEach((([t,n])=>{e.attributes[t]&&i.push([n,e.attributes[t].value])})),r=t.field_name;break}if(e.querySelector(s))for(let n=0;n<e.childNodes.length;n+=1){const o=e.childNodes[n];o.nodeType===Node.ELEMENT_NODE?t(o,r):o.nodeType===Node.TEXT_NODE&&r&&(i.length&&i[i.length-1][0]===r?i[i.length-1][1]+=o.data:i.push([r,o.data]))}else r&&(i.length&&i[i.length-1][0]===r?i[i.length-1][1]+=e.textContent:i.push([r,e.textContent||""]))}(t.documentElement,void 0);let c="",l=!1;for(const t of i){const[n,e]=t;if("title"===n?c=c||e:"h1"!==n||l||(c=e,l=!0),c&&l)break}return{title:c,bodies:j(i,e,r,o)}}(e,s.HtmlLoader,i,y,n);u=r||u,_=o}else if(p.endsWith(".txt")&&s.TxtLoader){_=j([["body",yield(yield fetch(p)).text()]],i,y,n)}else{const t=O(p);if(t.pathname.endsWith(".json")&&s.JsonLoader){const e=yield(yield fetch(p)).json(),{title:r,bodies:o}=function(t,n,e,r,o){const i=[],{field_map:s,field_order:c}=n,l=Object.entries(s).find((([,t])=>"title"===t)),a=l&&l[0];for(const n of c)n!==a&&t[n]&&i.push([s[n],t[n]]);return{title:a&&t[a],bodies:j(i,e,r,o)}}(t.hash?e[t.hash.substring(1)]:e,s.JsonLoader,i,y,n);u=r||u,_=o}}else _=[];return m(g,n,o,p,u,_,c)}))}function E(t,n,e,r,o){const i=[],s=[];for(const t of o.searchedTerms){const n=t.map((t=>(s.push(t),y(t)))).sort(((t,n)=>n.length-t.length)).join("|");if("ascii"===e.langConfig.lang){const t=new RegExp(`(^|\\W|_)(${n})((?=\\W|$))`,"gi");i.push(t)}else if("latin"===e.langConfig.lang){const t=new RegExp(`(^|\\W|_)(${n})(\\w*?)(?=\\W|$)`,"gi");i.push(t)}else if("chinese"===e.langConfig.lang){const t=new RegExp(`()(${n})()`,"gi");i.push(t)}}const c=e.fieldInfos.find((t=>t.do_store&&("body"===t.name||"title"===t.name||"heading"===t.name)));return Promise.all(r.map((t=>T(t,n,e,c,JSON.stringify(s),i))))}function q(t,n,e,r,o,i){return A(this,void 0,void 0,(function*(){if(t.I)return!1;const{loadingIndicatorRender:s,termInfoRender:c,resultsPerPage:l,resultsRender:a,noResultsRender:u,mode:f}=i.uiOptions,d=s(g,i,!1,!0);r||o.appendChild(d),t.C&&t.C.disconnect();const h=document.createDocumentFragment();(r?c(g,i,n.queryParts):[]).forEach((t=>h.appendChild(t)));const m=yield n.getNextN(l);if(t.I)return!1;const p=yield a(g,i,e,m,n);if(t.I)return!1;p.length?p.forEach((t=>h.appendChild(t))):r&&h.appendChild(u(g,i));const _=h.lastElementChild;if(r?(o.innerHTML="",t.L=x(),o.append(t.L),o.append(h)):d.replaceWith(h),p.length){const r=f===b.Target?null:o;t.C=new IntersectionObserver((([r],s)=>A(this,void 0,void 0,(function*(){r.isIntersecting&&(s.unobserve(_),yield q(t,n,e,!1,o,i))}))),{root:r,rootMargin:"150px 0px"}),t.C.observe(_)}return!0}))}class M{constructor(){this.N=!0,this.U=!1,this.L=x()}}function D(t,n,e){t.setAttribute("role","combobox"),t.setAttribute("aria-expanded","true"),t.setAttribute("aria-owns",n.getAttribute("id")),n.setAttribute("role","listbox"),n.setAttribute("aria-label",e),n.setAttribute("aria-live","polite")}function I(t,n){t.setAttribute("autocomplete","off"),t.setAttribute("aria-autocomplete","list"),t.setAttribute("aria-controls",n),t.setAttribute("aria-activedescendant","morsels-list-selected")}function C(t){return t.split("-")[0]}function L(t){return t.split("-")[1]}function N(t){return["top","bottom"].includes(C(t))?"x":"y"}function U(t){return"y"===t?"height":"width"}function W(t,n,e){let{reference:r,floating:o}=t;const i=r.x+r.width/2-o.width/2,s=r.y+r.height/2-o.height/2,c=N(n),l=U(c),a=r[l]/2-o[l]/2,u="x"===c;let f;switch(C(n)){case"top":f={x:i,y:r.y-o.height};break;case"bottom":f={x:i,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:s};break;case"left":f={x:r.x-o.width,y:s};break;default:f={x:r.x,y:r.y}}switch(L(n)){case"start":f[c]-=a*(e&&u?-1:1);break;case"end":f[c]+=a*(e&&u?-1:1)}return f}function B(t){return"number"!=typeof t?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}function F(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function H(t,n){var e;void 0===n&&(n={});const{x:r,y:o,platform:i,rects:s,elements:c,strategy:l}=t,{boundary:a="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=n,m=B(h),p=c[d?"floating"===f?"reference":"floating":f],_=F(await i.getClippingRect({element:null==(e=await(null==i.isElement?void 0:i.isElement(p)))||e?p:p.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(c.floating)),boundary:a,rootBoundary:u,strategy:l})),y=F(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:"floating"===f?{...s.floating,x:r,y:o}:s.reference,offsetParent:await(null==i.getOffsetParent?void 0:i.getOffsetParent(c.floating)),strategy:l}):s[f]);return{top:_.top-y.top+m.top,bottom:y.bottom-_.bottom+m.bottom,left:_.left-y.left+m.left,right:y.right-_.right+m.right}}const z=Math.min,G=Math.max;function Y(t,n,e){return G(t,z(n,e))}const J=t=>({name:"arrow",options:t,async fn(n){const{element:e,padding:r=0}=null!=t?t:{},{x:o,y:i,placement:s,rects:c,platform:l}=n;if(null==e)return{};const a=B(r),u={x:o,y:i},f=N(s),d=U(f),h=await l.getDimensions(e),m="y"===f?"top":"left",p="y"===f?"bottom":"right",_=c.reference[d]+c.reference[f]-u[f]-c.floating[d],y=u[f]-c.reference[f],b=await(null==l.getOffsetParent?void 0:l.getOffsetParent(e));let w=b?"y"===f?b.clientHeight||0:b.clientWidth||0:0;0===w&&(w=c.floating[d]);const g=_/2-y/2,v=a[m],x=w-h[d]-a[p],O=w/2-h[d]/2+g,S=Y(v,O,x);return{data:{[f]:S,centerOffset:O-S}}}}),V={left:"right",right:"left",bottom:"top",top:"bottom"};function X(t){return t.replace(/left|right|bottom|top/g,(t=>V[t]))}function Q(t,n,e){void 0===e&&(e=!1);const r=L(t),o=N(t),i=U(o);let s="x"===o?r===(e?"end":"start")?"right":"left":"start"===r?"bottom":"top";return n.reference[i]>n.floating[i]&&(s=X(s)),{main:s,cross:X(s)}}const K={start:"end",end:"start"};function Z(t){return t.replace(/start|end/g,(t=>K[t]))}const tt=["top","right","bottom","left"],nt=(tt.reduce(((t,n)=>t.concat(n,n+"-start",n+"-end")),[]),function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(n){var e;const{placement:r,middlewareData:o,rects:i,initialPlacement:s,platform:c,elements:l}=n,{mainAxis:a=!0,crossAxis:u=!0,fallbackPlacements:f,fallbackStrategy:d="bestFit",flipAlignment:h=!0,...m}=t,p=C(r),_=f||(p!==s&&h?function(t){const n=X(t);return[Z(t),n,Z(n)]}(s):[X(s)]),y=[s,..._],b=await H(n,m),w=[];let g=(null==(e=o.flip)?void 0:e.overflows)||[];if(a&&w.push(b[p]),u){const{main:t,cross:n}=Q(r,i,await(null==c.isRTL?void 0:c.isRTL(l.floating)));w.push(b[t],b[n])}if(g=[...g,{placement:r,overflows:w}],!w.every((t=>t<=0))){var v,x;const t=(null!=(v=null==(x=o.flip)?void 0:x.index)?v:0)+1,n=y[t];if(n)return{data:{index:t,overflows:g},reset:{placement:n}};let e="bottom";switch(d){case"bestFit":{var O;const t=null==(O=g.map((t=>[t,t.overflows.filter((t=>t>0)).reduce(((t,n)=>t+n),0)])).sort(((t,n)=>t[1]-n[1]))[0])?void 0:O[0].placement;t&&(e=t);break}case"initialPlacement":e=s}if(r!==e)return{reset:{placement:e}}}return{}}}});const et=function(t){return void 0===t&&(t={}),{name:"size",options:t,async fn(n){const{placement:e,rects:r,platform:o,elements:i}=n,{apply:s,...c}=t,l=await H(n,c),a=C(e),u=L(e);let f,d;"top"===a||"bottom"===a?(f=a,d=u===(await(null==o.isRTL?void 0:o.isRTL(i.floating))?"start":"end")?"left":"right"):(d=a,f="end"===u?"top":"bottom");const h=G(l.left,0),m=G(l.right,0),p=G(l.top,0),_=G(l.bottom,0),y={availableHeight:r.floating.height-(["left","right"].includes(e)?2*(0!==p||0!==_?p+_:G(l.top,l.bottom)):l[f]),availableWidth:r.floating.width-(["top","bottom"].includes(e)?2*(0!==h||0!==m?h+m:G(l.left,l.right)):l[d])},b=await o.getDimensions(i.floating);null==s||s({...n,...y});const w=await o.getDimensions(i.floating);return b.width!==w.width||b.height!==w.height?{reset:{rects:!0}}:{}}}};function rt(t){return t&&t.document&&t.location&&t.alert&&t.setInterval}function ot(t){if(null==t)return window;if(!rt(t)){const n=t.ownerDocument;return n&&n.defaultView||window}return t}function it(t){return ot(t).getComputedStyle(t)}function st(t){return rt(t)?"":t?(t.nodeName||"").toLowerCase():""}function ct(){const t=navigator.userAgentData;return null!=t&&t.brands?t.brands.map((t=>t.brand+"/"+t.version)).join(" "):navigator.userAgent}function lt(t){return t instanceof ot(t).HTMLElement}function at(t){return t instanceof ot(t).Element}function ut(t){return"undefined"!=typeof ShadowRoot&&(t instanceof ot(t).ShadowRoot||t instanceof ShadowRoot)}function ft(t){const{overflow:n,overflowX:e,overflowY:r}=it(t);return/auto|scroll|overlay|hidden/.test(n+r+e)}function dt(t){return["table","td","th"].includes(st(t))}function ht(t){const n=/firefox/i.test(ct()),e=it(t);return"none"!==e.transform||"none"!==e.perspective||"paint"===e.contain||["transform","perspective"].includes(e.willChange)||n&&"filter"===e.willChange||n&&!!e.filter&&"none"!==e.filter}function mt(){return!/^((?!chrome|android).)*safari/i.test(ct())}const pt=Math.min,_t=Math.max,yt=Math.round;function bt(t,n,e){var r,o,i,s;void 0===n&&(n=!1),void 0===e&&(e=!1);const c=t.getBoundingClientRect();let l=1,a=1;n&&lt(t)&&(l=t.offsetWidth>0&&yt(c.width)/t.offsetWidth||1,a=t.offsetHeight>0&&yt(c.height)/t.offsetHeight||1);const u=at(t)?ot(t):window,f=!mt()&&e,d=(c.left+(f&&null!=(r=null==(o=u.visualViewport)?void 0:o.offsetLeft)?r:0))/l,h=(c.top+(f&&null!=(i=null==(s=u.visualViewport)?void 0:s.offsetTop)?i:0))/a,m=c.width/l,p=c.height/a;return{width:m,height:p,top:h,right:d+m,bottom:h+p,left:d,x:d,y:h}}function wt(t){return(n=t,(n instanceof ot(n).Node?t.ownerDocument:t.document)||window.document).documentElement;var n}function gt(t){return at(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function vt(t){return bt(wt(t)).left+gt(t).scrollLeft}function xt(t,n,e){const r=lt(n),o=wt(n),i=bt(t,r&&function(t){const n=bt(t);return yt(n.width)!==t.offsetWidth||yt(n.height)!==t.offsetHeight}(n),"fixed"===e);let s={scrollLeft:0,scrollTop:0};const c={x:0,y:0};if(r||!r&&"fixed"!==e)if(("body"!==st(n)||ft(o))&&(s=gt(n)),lt(n)){const t=bt(n,!0);c.x=t.x+n.clientLeft,c.y=t.y+n.clientTop}else o&&(c.x=vt(o));return{x:i.left+s.scrollLeft-c.x,y:i.top+s.scrollTop-c.y,width:i.width,height:i.height}}function Ot(t){return"html"===st(t)?t:t.assignedSlot||t.parentNode||(ut(t)?t.host:null)||wt(t)}function St(t){return lt(t)&&"fixed"!==getComputedStyle(t).position?t.offsetParent:null}function kt(t){const n=ot(t);let e=St(t);for(;e&&dt(e)&&"static"===getComputedStyle(e).position;)e=St(e);return e&&("html"===st(e)||"body"===st(e)&&"static"===getComputedStyle(e).position&&!ht(e))?n:e||function(t){let n=Ot(t);for(ut(n)&&(n=n.host);lt(n)&&!["html","body"].includes(st(n));){if(ht(n))return n;n=n.parentNode}return null}(t)||n}function Pt(t){if(lt(t))return{width:t.offsetWidth,height:t.offsetHeight};const n=bt(t);return{width:n.width,height:n.height}}function $t(t){const n=Ot(t);return["html","body","#document"].includes(st(n))?t.ownerDocument.body:lt(n)&&ft(n)?n:$t(n)}function jt(t,n){var e;void 0===n&&(n=[]);const r=$t(t),o=r===(null==(e=t.ownerDocument)?void 0:e.body),i=ot(r),s=o?[i].concat(i.visualViewport||[],ft(r)?r:[]):r,c=n.concat(s);return o?c:c.concat(jt(s))}function At(t,n,e){return"viewport"===n?F(function(t,n){const e=ot(t),r=wt(t),o=e.visualViewport;let i=r.clientWidth,s=r.clientHeight,c=0,l=0;if(o){i=o.width,s=o.height;const t=mt();(t||!t&&"fixed"===n)&&(c=o.offsetLeft,l=o.offsetTop)}return{width:i,height:s,x:c,y:l}}(t,e)):at(n)?function(t,n){const e=bt(t,!1,"fixed"===n),r=e.top+t.clientTop,o=e.left+t.clientLeft;return{top:r,left:o,x:o,y:r,right:o+t.clientWidth,bottom:r+t.clientHeight,width:t.clientWidth,height:t.clientHeight}}(n,e):F(function(t){var n;const e=wt(t),r=gt(t),o=null==(n=t.ownerDocument)?void 0:n.body,i=_t(e.scrollWidth,e.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=_t(e.scrollHeight,e.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0);let c=-r.scrollLeft+vt(t);const l=-r.scrollTop;return"rtl"===it(o||e).direction&&(c+=_t(e.clientWidth,o?o.clientWidth:0)-i),{width:i,height:s,x:c,y:l}}(wt(t)))}function Rt(t){const n=jt(t),e=["absolute","fixed"].includes(it(t).position)&&lt(t)?kt(t):t;return at(e)?n.filter((t=>at(t)&&function(t,n){const e=null==n||null==n.getRootNode?void 0:n.getRootNode();if(null!=t&&t.contains(n))return!0;if(e&&ut(e)){let e=n;do{if(e&&t===e)return!0;e=e.parentNode||e.host}while(e)}return!1}(t,e)&&"body"!==st(t))):[]}const Tt={getClippingRect:function(t){let{element:n,boundary:e,rootBoundary:r,strategy:o}=t;const i=[..."clippingAncestors"===e?Rt(n):[].concat(e),r],s=i[0],c=i.reduce(((t,e)=>{const r=At(n,e,o);return t.top=_t(r.top,t.top),t.right=pt(r.right,t.right),t.bottom=pt(r.bottom,t.bottom),t.left=_t(r.left,t.left),t}),At(n,s,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:n,offsetParent:e,strategy:r}=t;const o=lt(e),i=wt(e);if(e===i)return n;let s={scrollLeft:0,scrollTop:0};const c={x:0,y:0};if((o||!o&&"fixed"!==r)&&(("body"!==st(e)||ft(i))&&(s=gt(e)),lt(e))){const t=bt(e,!0);c.x=t.x+e.clientLeft,c.y=t.y+e.clientTop}return{...n,x:n.x-s.scrollLeft+c.x,y:n.y-s.scrollTop+c.y}},isElement:at,getDimensions:Pt,getOffsetParent:kt,getDocumentElement:wt,getElementRects:t=>{let{reference:n,floating:e,strategy:r}=t;return{reference:xt(n,kt(e),r),floating:{...Pt(e),x:0,y:0}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>"rtl"===it(t).direction};const Et=(t,n,e)=>(async(t,n,e)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=e,c=await(null==s.isRTL?void 0:s.isRTL(n));let l=await s.getElementRects({reference:t,floating:n,strategy:o}),{x:a,y:u}=W(l,r,c),f=r,d={};for(let e=0;e<i.length;e++){const{name:h,fn:m}=i[e],{x:p,y:_,data:y,reset:b}=await m({x:a,y:u,initialPlacement:r,placement:f,strategy:o,middlewareData:d,rects:l,platform:s,elements:{reference:t,floating:n}});a=null!=p?p:a,u=null!=_?_:u,d={...d,[h]:{...d[h],...y}},b&&("object"==typeof b&&(b.placement&&(f=b.placement),b.rects&&(l=!0===b.rects?await s.getElementRects({reference:t,floating:n,strategy:o}):b.rects),({x:a,y:u}=W(l,f,c))),e=-1)}return{x:a,y:u,placement:f,strategy:o,middlewareData:d}})(t,n,{platform:Tt,...e});function qt(t,n){if(!1===t.tip)return;function e(t){return g("code",{},t)}function r(...t){return g("tr",{class:"morsels-tip-item"},...t.map((t=>g("td",{},g("div",{},t)))))}const o=g("tbody",{},r("Require all terms to match",e("weather AND forecast AND sunny")),r("Flip search results",e("NOT rainy")),r("Group terms together",e("forecast AND (sunny warm)")),r("Match specific areas",g("ul",{},g("li",{},e("title:forecast")),g("li",{},e("heading:sunny")),g("li",{},e("body:(rainy gloomy)"))))),i=g("table",{class:"morsels-tip-table"},g("thead",{class:"morsels-tip-table-header"},g("tr",{},g("th",{scope:"col"},"Tip"),g("th",{},"Example"))),o),s=g("div",{class:"morsels-tip-popup-root"},g("div",{class:"morsels-tip-popup"},g("div",{class:"morsels-tip-popup-title"},"ðŸ”Ž Didn't find what you needed?"),i),g("div",{class:"morsels-tip-popup-separator"}));function c(){Object.assign(s.style,{left:"calc(var(--morsels-tip-icon-size) - 150px)",top:"-160px"}),s.classList.remove("shown")}c();const l=g("div",{class:"morsels-tip-root",tabindex:"0"},g("span",{class:"morsels-tip-icon"},"?"),s);function a(){Et(l,s,{placement:"top-end",middleware:[nt({crossAxis:!1,flipAlignment:!1,padding:10})]}).then((({x:t,y:n})=>{Object.assign(s.style,{left:`${t}px`,top:`${n}px`}),s.classList.add("shown")}))}return l.onmouseover=a,l.onfocus=a,l.onmouseleave=c,l.onblur=c,n.setupPromise.then((()=>{n.cfg.indexingConfig.withPositions&&o.prepend(r("Search for phrases",e('"for tomorrow"')))})),l}function Mt(t,n,e){t.setAttribute("autocomplete","off"),t.setAttribute("readonly",""),t.setAttribute("role","button"),t.setAttribute("aria-label",e),n&&t.setAttribute("placeholder",n),t.classList.add("morsels-button-input")}var Dt=function(t,n,e,r){return new(e||(e=Promise))((function(o,i){function s(t){try{l(r.next(t))}catch(t){i(t)}}function c(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(s,c)}l((r=r.apply(t,n||[])).next())}))};let It=!1;function Ct(t){return t.mode===b.Auto&&!It||t.mode===b.Dropdown}class Lt{constructor(){this.W=!1,this.B=!1}F(t,n,e,r){const{uiOptions:o}=r,i=new M;function s(s){var c;return Dt(this,void 0,void 0,(function*(){i.U=!0;const l=o.loadingIndicatorRender(g,r,!1,i.N);i.L.replaceWith(l),i.L=l;try{null===(c=i.currQuery)||void 0===c||c.free(),i.currQuery=yield e.getQuery(s);(yield q(i,i.currQuery,e.cfg,!0,n,r))&&(i.N=!1),t.scrollTo({top:0}),n.scrollTo({top:0})}catch(t){throw n.innerHTML="",n.appendChild(o.errorRender(g,r)),t}finally{if(i.I){const t=i.I;i.I=void 0,yield t()}else i.U=!1}}))}let c=!0;e.setupPromise.then((()=>{i.I&&(i.I(),i.I=void 0)})).catch((()=>{n.innerHTML="",n.appendChild(o.errorRender(g,r)),c=!1}));let l=-1;return t=>{if(!c)return;const a=o.preprocessQuery(t.target.value);if(clearTimeout(l),a.length)l=setTimeout((()=>{var t;if(i.N&&!(null===(t=n.firstElementChild)||void 0===t?void 0:t.getAttribute(v))){n.innerHTML="";const t=o.loadingIndicatorRender(g,r,!e.isSetupDone,!0);i.L=t,n.appendChild(t),Ct(o)&&this.H()}i.U||!e.isSetupDone?i.I=()=>s(a):s(a)}),o.inputDebounce);else{const t=()=>{n.innerHTML="",Ct(o)?this.G():o.mode!==b.Target&&n.appendChild(o.fsBlankRender(g,r)),i.U=!1,i.N=!0};i.U?i.I=t:t()}}}}const Nt={};const Ut=function(t){const n=t.isMobileDevice||(()=>window.matchMedia("only screen and (max-width: 1024px)").matches);It=n(),function(t){t.searcherOptions=t.searcherOptions||{};const{searcherOptions:n}=t;if(!("url"in n))throw new Error("Mandatory url parameter not specified");n.url.endsWith("/")||(n.url+="/"),n.url.startsWith("/")&&(n.url=window.location.origin+n.url),"numberOfExpandedTerms"in n||(n.numberOfExpandedTerms=3),"useQueryTermProximity"in n||(n.useQueryTermProximity=!0),"plLazyCacheThreshold"in n||(n.plLazyCacheThreshold=0),"resultLimit"in n||(n.resultLimit=null),t.uiOptions=t.uiOptions||{};const{uiOptions:e}=t;if(e.sourceFilesUrl&&!e.sourceFilesUrl.endsWith("/")&&(e.sourceFilesUrl+="/"),e.mode=e.mode||b.Auto,e.mode===b.Target&&("string"==typeof e.target&&(e.target=document.getElementById(e.target)),!e.target))throw new Error("'target' mode specified but no valid target option specified");if("input"in e&&"string"!=typeof e.input||(e.input=document.getElementById(e.input||"morsels-search")),[b.Dropdown,b.Target].includes(e.mode)&&!e.input)throw new Error("'dropdown' or 'target' mode specified but no input element found");"inputDebounce"in e||(e.inputDebounce=100),e.preprocessQuery=e.preprocessQuery||(t=>t),e.dropdownAlignment=e.dropdownAlignment||"bottom-end","string"==typeof e.fsContainer&&(e.fsContainer=document.getElementById(e.fsContainer)),e.fsContainer=e.fsContainer||document.getElementsByTagName("body")[0],e.resultsPerPage=e.resultsPerPage||8,e.maxSubMatches=e.maxSubMatches||2,e.label=e.label||"Search this site",e.resultsLabel=e.resultsLabel||"Site results",e.fsInputLabel=e.fsInputLabel||"Search",e.fsPlaceholder=e.fsPlaceholder||"Search this site...",e.fsCloseText=e.fsCloseText||"Close",e.errorRender=e.errorRender||(t=>t("div",{class:"morsels-error"},"Oops! Something went wrong... ðŸ™")),e.noResultsRender=e.noResultsRender||(t=>t("div",{class:"morsels-no-results"},"No results found")),e.fsBlankRender=e.fsBlankRender||(t=>t("div",{class:"morsels-fs-blank"},"Start Searching Above!")),e.loadingIndicatorRender||(e.loadingIndicatorRender=(t,n,e,r)=>{const o=t("span",{class:"morsels-loading-indicator"});if(e){const n=t("div",{class:"morsels-initialising-text"},"... Initialising ...");return t("div",{class:"morsels-initialising"},n,o)}return r||o.classList.add("morsels-loading-indicator-subsequent"),o});const r=e.loadingIndicatorRender;e.loadingIndicatorRender=(...t)=>{const n=r(...t);return n.setAttribute(v,"true"),n},e.termInfoRender=e.termInfoRender||(()=>[]),e.resultsRender=e.resultsRender||E,e.resultsRenderOpts=e.resultsRenderOpts||{};const{resultsRenderOpts:o}=e;o.listItemRender=o.listItemRender||((t,n,e,r,i,s)=>{const c=t("a",{class:"morsels-link"},t("div",{class:"morsels-title"},i),...s);if(r){let t=r;const{addSearchedTerms:n}=o;if(n){const o=O(r);o.searchParams.append(n,e),t=o.toString()}c.setAttribute("href",t)}return t("li",{class:"morsels-list-item",role:"option"},c)}),o.headingBodyRender=o.headingBodyRender||((t,n,e,r,o)=>{const i=t("a",{class:"morsels-heading-body"},t("div",{class:"morsels-heading"},...e),t("div",{class:"morsels-bodies"},t("div",{class:"morsels-body"},...r)));return o&&i.setAttribute("href",o),i}),o.bodyOnlyRender=o.bodyOnlyRender||((t,n,e)=>t("div",{class:"morsels-body"},...e)),o.highlightRender=o.highlightRender||((t,n,e)=>t("span",{class:"morsels-highlight"},e)),t.otherOptions=t.otherOptions||{}}(t);const{uiOptions:e,searcherOptions:r}=t,{input:o,mode:i,dropdownAlignment:s,label:c,fsInputButtonText:l,fsInputLabel:a,target:u}=e,{url:f}=r;Nt[f]||(Nt[f]=new _(t.searcherOptions));const d=Nt[f],h=new Lt,[m,p,y,w,x]=function(t,n,e){const{uiOptions:r}=t,o=g("input",{class:"morsels-fs-input",type:"search",placeholder:r.fsPlaceholder,"aria-labelledby":"morsels-fs-label",enterkeyhint:"search"});I(o,"morsels-fs-list");const i=g("button",{class:"morsels-input-close-fs"},r.fsCloseText),s=g("ul",{id:"morsels-fs-list",class:"morsels-list","aria-labelledby":"morsels-fs-label"}),c=g("div",{class:"morsels-root morsels-fs-root"},g("form",{class:"morsels-fs-input-button-wrapper"},g("label",{id:"morsels-fs-label",for:"morsels-fs-input",style:"display: none"},r.label),o,i),qt(r,n),s);c.onclick=t=>t.stopPropagation(),c.onmousedown=t=>t.stopPropagation(),D(c,s,r.label);const l=g("div",{class:"morsels-fs-backdrop"},c);function a(t){e(t),l.remove()}return l.onmousedown=()=>a(!1),l.onkeyup=t=>{"Escape"===t.code&&(t.stopPropagation(),a(!0))},i.onclick=t=>{t.preventDefault(),a(""===t.pointerType)},[l,s,o,function(){r.fsContainer.appendChild(l);const t=l.querySelector("input.morsels-fs-input");t&&t.focus();const n=s.querySelector(".focus");n&&s.scrollTo({top:n.offsetTop-s.offsetTop-30})},a]}(t,d,(t=>{t&&o&&o.focus(),h.B=!1}));function S(){h.B||(w(),h.B=!0)}function k(){x(!1)}function P(){function t(){Ct(e)||S()}o.addEventListener("click",t),o.addEventListener("keydown",(n=>{"Enter"===n.key&&t()}))}let $;if(y.addEventListener("input",h.F(m,p,d,t)),p.appendChild(e.fsBlankRender(g,t)),!o||i!==b.Auto&&i!==b.Dropdown){if(o&&i===b.Fullscreen)Mt(o,l,a),P();else if(o&&i===b.Target){u.classList.add("morsels-root"),o.addEventListener("input",h.F(u,u,d,t));let n=u.getAttribute("id");n||(u.setAttribute("id","morsels-target-list"),n="morsels-target-list"),I(o,n),D(o,u,e.label)}}else{const r=o.getAttribute("placeholder")||"",u=o.parentElement,f=u.childNodes;let m=0;for(;m<f.length&&f[m]!==o;m+=1);o.remove();const[p,_]=function(t,n,e,r){const o=g("ul",{id:"morsels-dropdown-list",class:"morsels-list",tabindex:"-1"}),i=g("div",{class:"morsels-inner-root",style:"display: none;"},g("div",{class:"morsels-input-dropdown-separator"}),qt(t,n),o),s=g("div",{class:"morsels-root morsels-dropdown-root"},e,i);return i.onkeyup=t=>{"Escape"===t.code&&(t.stopPropagation(),r())},[s,o]}(e,d,o,(()=>{h.G()}));function y(){i!==b.Dropdown&&(It=n())?(h.G(),function(t,n,e,r,o){t.removeAttribute("role"),t.removeAttribute("aria-expanded"),t.removeAttribute("aria-owns"),n.removeAttribute("role"),n.removeAttribute("aria-label"),n.removeAttribute("aria-live"),e.removeAttribute("aria-autocomplete"),e.removeAttribute("aria-controls"),e.removeAttribute("aria-activedescendant"),Mt(e,o,r)}(p,$,o,a,l)):(k(),h.G(),document.activeElement===o&&h.H(),function(t,n,e,r,o){!function(t,n){t.removeAttribute("readonly"),t.removeAttribute("role"),t.removeAttribute("aria-label"),t.setAttribute("placeholder",n),t.classList.remove("morsels-button-input")}(t,o),I(t,"morsels-dropdown-list"),D(n,e,r)}(o,p,$,c,r))}let w;$=_,m<f.length?u.insertBefore(p,f[m]):u.appendChild(p),h.H=()=>{!function(t,n,e){if(n.childElementCount){const r=t.children[1],o=r.firstElementChild;r.style.display="block",Et(t,r,{placement:e,middleware:[nt({padding:10,mainAxis:!1}),et({apply({availableWidth:t,availableHeight:e}){Object.assign(n.style,{maxWidth:`min(${t}px, var(--morsels-dropdown-max-width))`,maxHeight:`min(${e}px, var(--morsels-dropdown-max-height))`})},padding:10}),J({element:o})]}).then((({x:t,y:n,middlewareData:e})=>{Object.assign(r.style,{left:`${t}px`,top:`${n}px`});const{x:i}=e.arrow;Object.assign(o.style,{left:null!=i?`${i}px`:""})}))}}(p,$,s),h.W=!0},h.G=()=>{p.children[1].style.display="none",h.W=!1},o.addEventListener("input",h.F(p,$,d,t)),y(),window.addEventListener("resize",(()=>{clearTimeout(w),w=setTimeout(y,10)})),p.addEventListener("focusout",(()=>{Ct(e)&&setTimeout((()=>{let t=document.activeElement;for(;t;)if(t=t.parentElement,t===p)return;h.G()}),100)})),o.addEventListener("focus",(()=>Ct(e)&&h.H())),P()}function j(t){if(!["ArrowDown","ArrowUp","Home","End","Enter"].includes(t.key))return;let n,r=t=>{const e=t.offsetTop-n.offsetTop-n.clientHeight/2+t.clientHeight/2;n.scrollTo({top:e})};if(Ct(e)){if(!h.W)return;n=$}else if(i===b.Target)n=u,r=t=>{t.scrollIntoView({block:"center"})};else{if(!h.B)return;n=p}const o=n.querySelector(".focus");function s(t){o&&(o.classList.remove("focus"),o.removeAttribute("aria-selected"),o.removeAttribute("id")),t.classList.add("focus"),t.setAttribute("aria-selected","true"),t.setAttribute("id","morsels-list-selected"),r(t)}function c(t,n){t&&!t.getAttribute(v)?s(t):n&&!n.getAttribute(v)&&s(n)}const l=n.firstElementChild,a=n.lastElementChild;if("ArrowDown"===t.key)o?c(o.nextElementSibling,null):c(l,null==l?void 0:l.nextElementSibling);else if("ArrowUp"===t.key)o&&c(o.previousElementSibling,null);else if("Home"===t.key)c(l,null==l?void 0:l.nextElementSibling);else if("End"===t.key)c(a,null==a?void 0:a.previousElementSibling);else if("Enter"===t.key&&o){const t=o.querySelector("a[href]");t&&(window.location.href=t.getAttribute("href"))}t.preventDefault()}return null==o||o.addEventListener("keydown",j),y.addEventListener("keydown",j),{showFullscreen:S,hideFullscreen:k}},Wt=Ut})(),r=r.default})()}));