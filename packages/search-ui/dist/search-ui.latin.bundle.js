!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.initMorsels=n():t.initMorsels=n()}(self,(function(){return(()=>{"use strict";var t={547:t=>{t.exports='(()=>{var n,t,e,r,o,i={899:(n,t,e)=>{e.p=__morsWrkrUrl},777:(n,t,e)=>{"use strict";e.a(n,(async n=>{e.d(t,{get_new_searcher:()=>r.qS,get_query:()=>r.R1});var r=e(686),o=n([r]);r=(o.then?await o:o)[0]}))},686:(n,t,e)=>{"use strict";e.a(n,(async r=>{e.d(t,{qS:()=>$,R1:()=>U,ug:()=>E,G6:()=>I,ff:()=>T,TR:()=>N,g:()=>k,Mt:()=>F,xe:()=>R,XP:()=>W,g8:()=>D,uV:()=>G,oH:()=>J,$r:()=>C,Rh:()=>B,fY:()=>H,Or:()=>V,Ry:()=>X,jI:()=>Y,Ip:()=>z});var o=e(531),i=e(945);n=e.hmd(n);var c=r([i]);i=(c.then?await c:c)[0];const u=new Array(32).fill(void 0);function s(n){return u[n]}u.push(void 0,null,!0,!1);let f=u.length;function a(n){const t=s(n);return function(n){n<36||(u[n]=f,f=n)}(n),t}function _(n){f===u.length&&u.push(u.length+1);const t=f;return f=u[t],u[t]=n,t}function l(n){const t=typeof n;if("number"==t||"boolean"==t||null==n)return`${n}`;if("string"==t)return`"${n}"`;if("symbol"==t){const t=n.description;return null==t?"Symbol":`Symbol(${t})`}if("function"==t){const t=n.name;return"string"==typeof t&&t.length>0?`Function(${t})`:"Function"}if(Array.isArray(n)){const t=n.length;let e="[";t>0&&(e+=l(n[0]));for(let r=1;r<t;r++)e+=", "+l(n[r]);return e+="]",e}const e=/\\[object ([^\\]]+)\\]/.exec(toString.call(n));let r;if(!(e.length>1))return toString.call(n);if(r=e[1],"Object"==r)try{return"Object("+JSON.stringify(n)+")"}catch(n){return"Object"}return n instanceof Error?`${n.name}: ${n.message}\\n${n.stack}`:r}let y,d=0;function b(){return 0===y.byteLength&&(y=new Uint8Array(i.memory.buffer)),y}let w=new("undefined"==typeof TextEncoder?(0,n.require)("util").TextEncoder:TextEncoder)("utf-8");const g="function"==typeof w.encodeInto?function(n,t){return w.encodeInto(n,t)}:function(n,t){const e=w.encode(n);return t.set(e),{read:n.length,written:e.length}};function h(n,t,e){if(void 0===e){const e=w.encode(n),r=t(e.length);return b().subarray(r,r+e.length).set(e),d=e.length,r}let r=n.length,o=t(r);const i=b();let c=0;for(;c<r;c++){const t=n.charCodeAt(c);if(t>127)break;i[o+c]=t}if(c!==r){0!==c&&(n=n.slice(c)),o=e(o,r,r=c+3*n.length);const t=b().subarray(o+c,o+r);c+=g(n,t).written}return d=c,o}let v;function p(){return 0===v.byteLength&&(v=new Int32Array(i.memory.buffer)),v}let m,x=new("undefined"==typeof TextDecoder?(0,n.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});function j(n,t){return x.decode(b().subarray(n,n+t))}function O(n,t,e){i._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__hf0c3446b9226a7d1(n,t,_(e))}function A(n,t){return(0===m.byteLength&&(m=new Uint32Array(i.memory.buffer)),m).subarray(n/4,n/4+t)}function S(n){return null==n}function $(n,t,e,r,o,c,u,s,f,a,l,y,b,w,g){const v=h(r,i.__wbindgen_malloc,i.__wbindgen_realloc),p=d;var m=S(u)?0:h(u,i.__wbindgen_malloc,i.__wbindgen_realloc),x=d;const j=h(l,i.__wbindgen_malloc,i.__wbindgen_realloc),O=d,A=i.get_new_searcher(_(n),t,e,v,p,_(o),S(c)?16777215:c?1:0,m,x,!S(s),S(s)?0:s,_(f),a,j,O,y,b,w,!S(g),S(g)?0:g);return M.__wrap(A)}function U(n,t){const e=h(t,i.__wbindgen_malloc,i.__wbindgen_realloc),r=d;return a(i.get_query(n,e,r))}function q(n,t){try{return n.apply(this,t)}catch(n){i.__wbindgen_exn_store(_(n))}}x.decode();class P{static __wrap(n){const t=Object.create(P.prototype);return t.ptr=n,t}__destroy_into_raw(){const n=this.ptr;return this.ptr=0,n}free(){const n=this.__destroy_into_raw();i.__wbg_query_free(n)}get_next_n(n){try{const o=i.__wbindgen_add_to_stack_pointer(-16);i.query_get_next_n(o,this.ptr,n);var t=p()[o/4+0],e=p()[o/4+1],r=A(t,e).slice();return i.__wbindgen_free(t,4*e),r}finally{i.__wbindgen_add_to_stack_pointer(16)}}get_query_parts(){try{const e=i.__wbindgen_add_to_stack_pointer(-16);i.query_get_query_parts(e,this.ptr);var n=p()[e/4+0],t=p()[e/4+1];return j(n,t)}finally{i.__wbindgen_add_to_stack_pointer(16),i.__wbindgen_free(n,t)}}get_searched_terms(){try{const e=i.__wbindgen_add_to_stack_pointer(-16);i.query_get_searched_terms(e,this.ptr);var n=p()[e/4+0],t=p()[e/4+1];return j(n,t)}finally{i.__wbindgen_add_to_stack_pointer(16),i.__wbindgen_free(n,t)}}}class M{static __wrap(n){const t=Object.create(M.prototype);return t.ptr=n,t}__destroy_into_raw(){const n=this.ptr;return this.ptr=0,n}free(){const n=this.__destroy_into_raw();i.__wbg_searcher_free(n)}get_ptr(){return i.searcher_get_ptr(this.ptr)}}function E(n){a(n)}function I(n){const t=a(n).original;if(1==t.cnt--)return t.a=0,!0;return!1}function T(n){return _(P.__wrap(n))}function N(){return q((function(n,t,e){return _(s(n).call(s(t),s(e)))}),arguments)}function k(n,t,e,r,i){return _((0,o.T)(n>>>0,t>>>0,j(e,r),i>>>0))}function F(n,t,e){return _(s(n).then(s(t),s(e)))}function R(n){return _(new Uint8Array(s(n)))}function W(n){return void 0===s(n)}function D(n,t){try{var e={a:n,b:t};const r=new Promise(((n,t)=>{const r=e.a;e.a=0;try{return function(n,t,e,r){i.wasm_bindgen__convert__closures__invoke2_mut__h9258c6f257dd2a69(n,t,_(e),_(r))}(r,e.b,n,t)}finally{e.a=r}}));return _(r)}finally{e.a=e.b=0}}function G(n){return s(n).length}function J(){return _(i.memory)}function C(n){return _(s(n).buffer)}function B(n,t,e){s(n).set(s(t),e>>>0)}function H(n,t){const e=h(l(s(t)),i.__wbindgen_malloc,i.__wbindgen_realloc),r=d;p()[n/4+1]=r,p()[n/4+0]=e}function V(n,t){throw new Error(j(n,t))}function X(n){return _(Promise.resolve(s(n)))}function Y(n,t){return _(s(n).then(s(t)))}function z(n,t,e){const r=function(n,t,e,r){const o={a:n,b:t,cnt:1,dtor:e},c=(...n)=>{o.cnt++;const t=o.a;o.a=0;try{return r(t,o.b,...n)}finally{0==--o.cnt?i.__wbindgen_export_2.get(o.dtor)(t,o.b):o.a=t}};return c.original=o,c}(n,t,40,O);return _(r)}v=new Int32Array(i.memory.buffer),m=new Uint32Array(i.memory.buffer),y=new Uint8Array(i.memory.buffer)}))},531:(n,t,e)=>{"use strict";async function r(n,t,e,r){const o=`${e}pl_${Math.floor(n/t)}/pl_${n}.json`,i=`morsels:${e}`;function c(n){return fetch(n).then((n=>n.arrayBuffer()))}try{const n=await caches.open(i),t=await n.match(o);if(t)return await t.arrayBuffer();{const t=await c(o);return t.byteLength>=r&&n.add(o),t}}catch{return c(o)}}e.d(t,{T:()=>r})},945:(n,t,e)=>{"use strict";var r=([r])=>e.v(t,n.id,"b08f141ce92d636a952e",{"./index_bg.js":{__wbindgen_object_drop_ref:r.ug,__wbindgen_cb_drop:r.G6,__wbg_query_new:r.ff,__wbg_call_9855a4612eb496cb:r.TR,__wbg_fetchPl_b53f7032208023da:r.g,__wbg_then_4debc41d4fc92ce5:r.Mt,__wbg_new_97cf52648830a70d:r.xe,__wbindgen_is_undefined:r.XP,__wbg_new_78403b138428b684:r.g8,__wbg_length_e09c0b925ab8de5d:r.uV,__wbindgen_memory:r.oH,__wbg_buffer_de1150f91b23aa89:r.$r,__wbg_set_a0172b213e2469e9:r.Rh,__wbindgen_debug_string:r.fY,__wbindgen_throw:r.Or,__wbg_resolve_f269ce174f88b294:r.Ry,__wbg_then_1c698eedca15eed6:r.jI,__wbindgen_closure_wrapper91:r.Ip}});e.a(n,(n=>{var t=n([e(686)]);return t.then?t.then(r):r(t)}),1)}},c={};function u(n){var t=c[n];if(void 0!==t)return t.exports;var e=c[n]={id:n,loaded:!1,exports:{}};return i[n](e,e.exports,u),e.loaded=!0,e.exports}n="function"==typeof Symbol?Symbol("webpack then"):"__webpack_then__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",e=n=>{n&&(n.forEach((n=>n.r--)),n.forEach((n=>n.r--?n.r++:n())))},r=n=>!--n.r&&n(),o=(n,t)=>n?n.push(t):r(t),u.a=(i,c,u)=>{var s,f,a,_=u&&[],l=i.exports,y=!0,d=!1,b=(t,e,r)=>{d||(d=!0,e.r+=t.length,t.map(((t,o)=>t[n](e,r))),d=!1)},w=new Promise(((n,t)=>{a=t,f=()=>(n(l),e(_),_=0)}));w[t]=l,w[n]=(n,t)=>{if(y)return r(n);s&&b(s,n,t),o(_,n),w.catch(t)},i.exports=w,c((i=>{if(!i)return f();var c,u;s=(i=>i.map((i=>{if(null!==i&&"object"==typeof i){if(i[n])return i;if(i.then){var c=[];i.then((n=>{u[t]=n,e(c),c=0}));var u={};return u[n]=(n,t)=>(o(c,n),i.catch(t)),u}}var s={};return s[n]=n=>r(n),s[t]=i,s})))(i);var a=new Promise(((n,e)=>{(c=()=>n(u=s.map((n=>n[t])))).r=0,b(s,c,e)}));return c.r?a:u})).then(f,a),y=!1},u.d=(n,t)=>{for(var e in t)u.o(t,e)&&!u.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:t[e]})},u.hmd=n=>((n=Object.create(n)).children||(n.children=[]),Object.defineProperty(n,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+n.id)}}),n),u.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t),u.v=(n,t,e,r)=>{var o=fetch(u.p+""+e+".module.wasm");return"function"==typeof WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(o,r).then((t=>Object.assign(n,t.instance.exports))):o.then((n=>n.arrayBuffer())).then((n=>WebAssembly.instantiate(n,r))).then((t=>Object.assign(n,t.instance.exports)))},u.p="/",(()=>{"use strict";u(899);class n{constructor(n,t,e){this.t=n,this.i=t,this.u=e}_(n){return Array.from(this.u.get_next_n(n))}l(){this.u.free()}}var t=function(n,t,e,r){return new(e||(e=Promise))((function(o,i){function c(n){try{s(r.next(n))}catch(n){i(n)}}function u(n){try{s(r.throw(n))}catch(n){i(n)}}function s(n){var t;n.done?o(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(c,u)}s((r=r.apply(n,t||[])).next())}))};const e=Object.create(null);let r,o;function i(i,c){return t(this,void 0,void 0,(function*(){const t=yield r.get_query(o.get_ptr(),i);return e[i]=e[i]||{},e[i][c]=new n(JSON.parse(t.get_searched_terms()),JSON.parse(t.get_query_parts()),t),e[i][c]}))}function c(n,e,i){return t(this,void 0,void 0,(function*(){const{indexingConfig:t,langConfig:{lang:c,options:u},fieldInfos:s,numScoredFields:f,searcherOptions:a}=n,_=new TextEncoder;let l;const y=u.stop_words;if(y){const n=y.map((n=>_.encode(n))).filter((n=>n.length<255)),t=n.length+n.reduce(((n,t)=>n+t.length),0);l=new Uint8Array(t);let e=0;n.forEach((n=>{l[e++]=n.length,l.set(n,e),e+=n.length}))}const d=s.map((n=>_.encode(n.name))),b=d.reduce(((n,t)=>n+t.length),0),w=new Uint8Array(13*d.length+b),g=new Float32Array(3);let h=0;s.forEach(((n,t)=>{const e=d[t].length;w[h++]=e,w.set(d[t],h),h+=e,g[0]=n.weight,g[1]=n.k,g[2]=n.b,w.set(new Uint8Array(g.buffer),h),h+=12})),r=yield i,o=r.get_new_searcher(yield e,t.numPlsPerDir,t.withPositions,c,l,u.ignore_stop_words,u.stemmer,u.max_term_len,w,f,a.url,a.numberOfExpandedTerms,a.useQueryTermProximity,a.plLazyCacheThreshold,a.resultLimit)}))}var s=function(n,t,e,r){return new(e||(e=Promise))((function(o,i){function c(n){try{s(r.next(n))}catch(n){i(n)}}function u(n){try{s(r.throw(n))}catch(n){i(n)}}function s(n){var t;n.done?o(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(c,u)}s((r=r.apply(n,t||[])).next())}))};!function(n){const t=function(){return s(this,void 0,void 0,(function*(){let n;try{n=yield caches.open(`morsels:${__indexUrl}`)}catch(n){}const t=`${__indexUrl}metadata.json`;return(n?n.match(t).then((e=>!e&&n.add(t))).then((()=>n.match(t))):fetch(t)).then((n=>n.arrayBuffer()))}))}();onmessage=function(r){return s(this,void 0,void 0,(function*(){const o=r.data;if(o.searcherOptions)yield c(o,t,n),postMessage({isSetupDone:!0});else if(o.query){const{query:n,queryId:t,n:r,isFree:c,isGetNextN:u}=o;if(c)!function(n,t){e[n][t]&&e[n][t].l(),delete e[n][t],0===Object.keys(e[n]).length&&delete e[n]}(n,t);else if(u){const o=function(n,t,r){return e[n][t]._(r)}(n,t,r);postMessage({query:n,queryId:t,nextResults:o})}else{const e=yield i(n,t);postMessage({query:n,queryId:t,searchedTerms:e.t,queryParts:e.i})}}}))},postMessage("")}(Promise.resolve().then(u.bind(u,777)))})()})();'}},n={};function e(r){var o=n[r];if(void 0!==o)return o.exports;var i=n[r]={exports:{}};return t[r](i,i.exports,e),i.exports}e.d=(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},e.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n);var r={};return(()=>{e.d(r,{default:()=>Ft});var t=e(547);const n=class{constructor(t,n,e,r,o){this.query=t,this.searchedTerms=n,this.queryParts=e,this.getNextN=r,this.free=o}};function o(t,n,e){const{fieldStoreBlockSize:r,numStoresPerDir:o,indexingConfig:i}=e,{numDocsPerBlock:s}=i,c=Math.floor(n/r),l=Math.floor(n/s);return`${t}field_store/${Math.floor(c/o)}/${c}--${l}.json`}var i=function(t,n,e,r){return new(e||(e=Promise))((function(o,i){function s(t){try{l(r.next(t))}catch(t){i(t)}}function c(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(s,c)}l((r=r.apply(t,n||[])).next())}))};const s=class{constructor(t,n){this.t=t,this.i=n,this.l=Object.create(null)}u(t,n,e){return i(this,void 0,void 0,(function*(){const r=o(t,this.t,e);try{const t=yield n.getJson(r);let o=this.t%e.fieldStoreBlockSize;const{numDocsPerBlock:i}=e.indexingConfig;i<e.fieldStoreBlockSize&&(o%=i),this.l=t[o]}catch(t){console.log(t)}}))}getFields(){return this.l.map((([t,n])=>[this.i[t].name,n]))}};var c=function(t,n,e,r){return new(e||(e=Promise))((function(o,i){function s(t){try{l(r.next(t))}catch(t){i(t)}}function c(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(s,c)}l((r=r.apply(t,n||[])).next())}))};let l=0;const a=[];function u(){a.length&&a.shift()().then(u)}function f(t){return c(this,void 0,void 0,(function*(){const n=()=>c(this,void 0,void 0,(function*(){l+=1,yield t(),l-=1}));l>=2?a.push(n):(yield n(),u())}))}class d{constructor(t){this.cache=t,this.h=Object.create(null)}p(t){return c(this,void 0,void 0,(function*(){if(this.cache){let n=yield this.cache.match(t);n?this.h[t]=n.json():f((()=>c(this,void 0,void 0,(function*(){yield this.cache.add(t),n=yield this.cache.match(t),this.h[t]=n.json()}))))}else f((()=>c(this,void 0,void 0,(function*(){const n=yield fetch(t);this.h[t]=n.json()}))))}))}m(t){return c(this,void 0,void 0,(function*(){if(this.cache){(yield this.cache.match(t))||f((()=>this.cache.add(t)))}}))}getJson(t){return this.h[t]||(this.h[t]=fetch(t).then((t=>t.json()))),this.h[t]}}var h=function(t,n,e,r){return new(e||(e=Promise))((function(o,i){function s(t){try{l(r.next(t))}catch(t){i(t)}}function c(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(s,c)}l((r=r.apply(t,n||[])).next())}))};let p;if(document.currentScript)p=document.currentScript.src;else{const t=document.getElementsByTagName("script");p=t.length&&t[t.length-1].src}p=p.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/");const m={s:""};const _=class{constructor(t){this._=t,this.isSetupDone=!1,this.g=Object.create(null),this.id=0;const n=this.v();this.setupPromise=Promise.all([n,new Promise((e=>{const r=URL.createObjectURL(new Blob([`const __morsWrkrUrl="${p}";const __indexUrl="${t.url}";${m.s}`],{type:"text/javascript"}));this.O=new Worker(r);const o=this.S(`morsels:${t.url}`);this.O.onmessage=t=>{if(t.data.query){const{query:n,queryId:e,nextResults:r,searchedTerms:o,queryParts:i}=t.data;this.g[e].resolve({query:n,nextResults:r,searchedTerms:o,queryParts:i})}else""===t.data?(Promise.all([n,o]).then((()=>this.O.postMessage(this.cfg))),URL.revokeObjectURL(r)):t.data.isSetupDone&&(this.isSetupDone=!0,e(),this.k(),this.P())},this.O.onmessageerror=t=>{console.log(t)}}))])}S(t){return h(this,void 0,void 0,(function*(){try{const{indexVer:n}=this.cfg;let e=yield caches.open(t);const r=yield e.match("/index_ver");if(r){n!==(yield r.text())&&(yield caches.delete(t),e=yield caches.open(t))}yield e.put("/index_ver",new Response(n)),this.$=new d(e)}catch(t){this.$=new d(void 0)}}))}k(){if(!this._.cacheAllFieldStores)return;const{fieldStoreBlockSize:t,indexingConfig:n,lastDocId:e}=this.cfg,r=Math.min(t,n.numDocsPerBlock);for(let t=0;t<e;t+=r)this.$.p(o(this._.url,t,this.cfg))}P(){this.cfg.indexingConfig.plNamesToCache.forEach((t=>{const n=Math.floor(t/this.cfg.indexingConfig.numPlsPerDir),e=`${this._.url}pl_${n}/pl_${t}.json`;this.$.m(e)}))}v(){return h(this,void 0,void 0,(function*(){const t=this._;if(this.cfg=yield(yield fetch(`${t.url}morsels_config.json`)).json(),"0.3.0"!==this.cfg.ver)throw new Error("Morsels search !== indexer version!");"cacheAllFieldStores"in t||(t.cacheAllFieldStores=!!this.cfg.cacheAllFieldStores),t.useQueryTermProximity=t.useQueryTermProximity&&this.cfg.indexingConfig.withPositions,this.cfg.searcherOptions=t}))}getQuery(t){return h(this,void 0,void 0,(function*(){yield this.setupPromise;const e=this.id;this.id+=1;const r=this.g;r[e]={promise:void 0,resolve:void 0},r[e].promise=new Promise((n=>{r[e].resolve=n,this.O.postMessage({query:t,queryId:e})}));const o=yield r[e].promise;return new n(t,o.searchedTerms,o.queryParts,(n=>h(this,void 0,void 0,(function*(){if(!r[e])return[];if(yield r[e].promise,r[e].promise=new Promise((o=>{r[e].resolve=o,this.O.postMessage({query:t,queryId:e,isGetNextN:!0,n})})),!r[e])return[];const o=(yield r[e].promise).nextResults.map((t=>new s(t,this.cfg.fieldInfos)));return yield Promise.all(o.map((t=>t.u(this._.url,this.$,this.cfg)))),o}))),(()=>{delete r[e],this.O.postMessage({query:t,isFree:!0})}))}))}};function y(t){if("string"!=typeof t)throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}var w;function g(t,n,...e){const r=document.createElement(t);return Object.entries(n).forEach((([t,n])=>{r.setAttribute(t,n)})),e.forEach((t=>{if("string"==typeof t){const n=document.createElement("span");n.textContent=t,r.appendChild(n)}else r.appendChild(t)})),r}m.s=t,function(t){t.Auto="auto",t.Dropdown="dropdown",t.Fullscreen="fullscreen",t.Target="target"}(w||(w={}));const b=g,v="data-morsels-loading-indicator";function x(){return g("div",{[v]:"true"})}function O(t){return t.startsWith("/")?new URL(new URL(window.location.href).origin+t):new URL(t)}function S(t,n){const e=n.map((n=>Array.from(t.matchAll(n))));if(!e.some((t=>t.length)))return{j:t,R:[],A:0};let r=n.map((()=>-1)),o=1e7,i=n.map((()=>0));const s=e.map((()=>0)),c=e.map((t=>!t.length)),l=e.map((()=>-1));for(;;){let t=1e7,n=1e7,a=-1,u=0;for(let r=0;r<s.length;r++){const o=e[r][s[r]];if(!o)continue;const i=o.index+o[1].length;!c[r]&&i<n&&(n=i,a=r),t=Math.min(t,i),u=Math.max(u,i),l[r]=i}if(-1===a)break;const f=u-t;if(f<o&&(o=f,r=[...l],i=s.map(((t,n)=>e[n][t]&&e[n][t][2].length+e[n][t][3].length))),s[a]+=1,s[a]>=e[a].length&&(c[a]=!0,s[a]-=1,c.every((t=>t))))break}const a=r.map(((t,n)=>({pos:t,len:i[n]}))).filter((t=>t.pos>=0)).sort(((t,n)=>t.pos-n.pos)),u=a.length;return{j:t,R:a,A:u}}function k(){return b("span",{class:"morsels-ellipsis","aria-label":"ellipses"}," ... ")}function P(t,n,e){const{highlightRender:r}=e.uiOptions.resultsRenderOpts,{j:o,R:i}=t;if(!i.some((({pos:t})=>t>=0))){if(n){const t=o.trimStart().substring(0,80);return[80===t.length?t.replace(/\w+$/,""):t,k()]}return[o]}const s=[];let c=0;for(const{pos:t,len:l}of i){const i=t+l;if(t>c+80){n&&s.push(k());const c=o.substring(t-40,t);s.push(40===c.length?c.replace(/^\w+/,""):c),s.push(r(b,e,o.substring(t,i)))}else if(t>=c)s.pop(),s.push(o.substring(c,t)),s.push(r(b,e,o.substring(t,i)));else{if(!(i>c))continue;s.pop();s[s.length-1].textContent+=o.substring(c,i)}const a=o.substring(i,i+40);s.push(40===a.length?a.replace(/\w+$/,""):a),c=i}return n&&s.push(k()),s}function $(t,n,e,r){const{maxSubMatches:o,resultsRenderOpts:i}=r.uiOptions,{bodyOnlyRender:s,headingBodyRender:c}=i;let l,a=-2,u="",f=[];for(let e=0;e<t.length;e+=1){const[r,o]=t[e];switch(r){case"headingLink":a=e,u=o;break;case"heading":l=S(o,n),l.T=e,l.q=a===l.T-1?u:"",f.push({j:"",R:[],A:-2e3,M:l,q:l.q,T:e});break;case"body":{const t=S(o,n);l?(t.M=l,t.q=l.q,t.A+=l.A):t.A-=1e3,f.push(t);break}}}f.sort(((t,n)=>0===t.A&&0===n.A?n.j.length-t.j.length:n.A-t.A));const d=[],h=Math.min(f.length,o);for(let t=0;t<h&&f[t].A===f[0].A;t+=1)d.push(f[t]);return d.map((t=>{const n=P(t,!0,r);if(t.M){const o=P(t.M,!1,r),i=o.length?o:[t.M.j],s=t.q&&`${e}#${t.q}`;return c(b,r,i,n,s)}return s(b,r,n)}))}var j=function(t,n,e,r){return new(e||(e=Promise))((function(o,i){function s(t){try{l(r.next(t))}catch(t){i(t)}}function c(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(s,c)}l((r=r.apply(t,n||[])).next())}))};const R=new DOMParser;function A(t,n,e,r,o,i){return j(this,void 0,void 0,(function*(){const{loaderConfigs:s}=e.indexingConfig,c=t.getFields();let l,a,u,f=!1;for(const t of c){const[n,e]=t;switch(n){case"link":l=l||e;break;case"_relative_fp":a=a||e;break;case"title":u=u||e;break;case"h1":f||(u=e,f=!0)}if(l&&a&&u&&f)break}const{sourceFilesUrl:d,resultsRenderOpts:{addSearchedTerms:h,listItemRender:p}}=n.uiOptions,m=l||"string"==typeof d&&a&&`${d}${a}`||"";if(!u)if(a){const t=a.split("/").join(" Â» ").split(".");let n=t.pop().toUpperCase();n="HTML"===n?"":"PDF"===n?" (PDF)":"."+n,u=t.join(".")+n}else u=l;let _,y=m;if(h&&m){const t=O(m);t.searchParams.append(h,o),y=t.toString()}if(r)_=$(c,i,y,n);else if(m)if(m.endsWith(".html")&&s.HtmlLoader){const t=yield(yield fetch(m)).text(),e=R.parseFromString(t,"text/html"),{title:r,bodies:o}=function(t,n,e,r,o){const i=[];if(n.exclude_selectors)for(const e of n.exclude_selectors){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t+=1)n[t].remove()}n.selectors=n.selectors||[];const s=n.selectors.map((t=>t.selector)).join(",");!function t(e,r){for(const t of n.selectors)if(e.matches(t.selector)){Object.entries(t.attr_map).forEach((([t,n])=>{e.attributes[t]&&i.push([n,e.attributes[t].value])})),r=t.field_name;break}if(e.querySelector(s))for(let n=0;n<e.childNodes.length;n+=1){const o=e.childNodes[n];o.nodeType===Node.ELEMENT_NODE?t(o,r):o.nodeType===Node.TEXT_NODE&&r&&(i.length&&i[i.length-1][0]===r?i[i.length-1][1]+=o.data:i.push([r,o.data]))}else r&&(i.length&&i[i.length-1][0]===r?i[i.length-1][1]+=e.textContent:i.push([r,e.textContent||""]))}(t.documentElement,void 0);let c="",l=!1;for(const t of i){const[n,e]=t;if("title"===n?c=c||e:"h1"!==n||l||(c=e,l=!0),c&&l)break}return{title:c,bodies:$(i,e,r,o)}}(e,s.HtmlLoader,i,y,n);u=r||u,_=o}else if(m.endsWith(".txt")&&s.TxtLoader){_=$([["body",yield(yield fetch(m)).text()]],i,y,n)}else{const t=O(m);if(t.pathname.endsWith(".json")&&s.JsonLoader){const e=yield(yield fetch(m)).json(),{title:r,bodies:o}=function(t,n,e,r,o){const i=[],{field_map:s,field_order:c}=n,l=Object.entries(s).find((([,t])=>"title"===t)),a=l&&l[0];for(const n of c)n!==a&&t[n]&&i.push([s[n],t[n]]);return{title:a&&t[a],bodies:$(i,e,r,o)}}(t.hash?e[t.hash.substring(1)]:e,s.JsonLoader,i,y,n);u=r||u,_=o}}else _=[];return p(b,n,o,m,u,_,c)}))}function T(t,n,e,r,o){const i=[],s=[];for(const t of o.searchedTerms){const n=t.map((t=>(s.push(t),y(t)))).sort(((t,n)=>n.length-t.length)).join("|");if("ascii"===e.langConfig.lang){const t=new RegExp(`(^|\\W|_)(${n})((?=\\W|$))`,"gi");i.push(t)}else if("latin"===e.langConfig.lang){const t=new RegExp(`(^|\\W|_)(${n})(\\w*?)(?=\\W|$)`,"gi");i.push(t)}else if("chinese"===e.langConfig.lang){const t=new RegExp(`()(${n})()`,"gi");i.push(t)}}const c=e.fieldInfos.find((t=>t.do_store&&("body"===t.name||"title"===t.name||"heading"===t.name)));return Promise.all(r.map((t=>A(t,n,e,c,JSON.stringify(s),i))))}function q(t,n,e,r,o,i){return j(this,void 0,void 0,(function*(){if(t.I)return!1;const{loadingIndicatorRender:s,termInfoRender:c,resultsPerPage:l,resultsRender:a,noResultsRender:u,mode:f}=i.uiOptions,d=s(b,i,!1,!0);r||o.appendChild(d),t.D&&t.D.disconnect();const h=document.createDocumentFragment();(r?c(b,i,n.queryParts):[]).forEach((t=>h.appendChild(t)));const p=yield n.getNextN(l);if(t.I)return!1;const m=yield a(b,i,e,p,n);if(t.I)return!1;m.length?m.forEach((t=>h.appendChild(t))):r&&h.appendChild(u(b,i));const _=h.lastElementChild;if(r?(o.innerHTML="",t.C=x(),o.append(t.C),o.append(h)):d.replaceWith(h),m.length){const r=f===w.Target?null:o;t.D=new IntersectionObserver((([r],s)=>j(this,void 0,void 0,(function*(){r.isIntersecting&&(s.unobserve(_),yield q(t,n,e,!1,o,i))}))),{root:r,rootMargin:"150px 0px"}),t.D.observe(_)}return!0}))}class E{constructor(){this.U=!0,this.L=!1,this.C=x()}}function M(t,n,e){t.setAttribute("role","combobox"),t.setAttribute("aria-expanded","true"),t.setAttribute("aria-owns",n.getAttribute("id")),n.setAttribute("role","listbox"),n.setAttribute("aria-label",e),n.setAttribute("aria-live","polite")}function I(t,n){t.setAttribute("autocomplete","off"),t.setAttribute("aria-autocomplete","list"),t.setAttribute("aria-controls",n),t.setAttribute("aria-activedescendant","morsels-list-selected")}function D(t){return t.split("-")[0]}function C(t){return t.split("-")[1]}function U(t){return["top","bottom"].includes(D(t))?"x":"y"}function L(t){return"y"===t?"height":"width"}function F(t,n,e){let{reference:r,floating:o}=t;const i=r.x+r.width/2-o.width/2,s=r.y+r.height/2-o.height/2,c=U(n),l=L(c),a=r[l]/2-o[l]/2,u="x"===c;let f;switch(D(n)){case"top":f={x:i,y:r.y-o.height};break;case"bottom":f={x:i,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:s};break;case"left":f={x:r.x-o.width,y:s};break;default:f={x:r.x,y:r.y}}switch(C(n)){case"start":f[c]-=a*(e&&u?-1:1);break;case"end":f[c]+=a*(e&&u?-1:1)}return f}function N(t){return"number"!=typeof t?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}function W(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function B(t,n){var e;void 0===n&&(n={});const{x:r,y:o,platform:i,rects:s,elements:c,strategy:l}=t,{boundary:a="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=n,p=N(h),m=c[d?"floating"===f?"reference":"floating":f],_=W(await i.getClippingRect({element:null==(e=await(null==i.isElement?void 0:i.isElement(m)))||e?m:m.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(c.floating)),boundary:a,rootBoundary:u,strategy:l})),y=W(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:"floating"===f?{...s.floating,x:r,y:o}:s.reference,offsetParent:await(null==i.getOffsetParent?void 0:i.getOffsetParent(c.floating)),strategy:l}):s[f]);return{top:_.top-y.top+p.top,bottom:y.bottom-_.bottom+p.bottom,left:_.left-y.left+p.left,right:y.right-_.right+p.right}}const H=Math.min,z=Math.max;function J(t,n,e){return z(t,H(n,e))}const G=t=>({name:"arrow",options:t,async fn(n){const{element:e,padding:r=0}=null!=t?t:{},{x:o,y:i,placement:s,rects:c,platform:l}=n;if(null==e)return{};const a=N(r),u={x:o,y:i},f=U(s),d=L(f),h=await l.getDimensions(e),p="y"===f?"top":"left",m="y"===f?"bottom":"right",_=c.reference[d]+c.reference[f]-u[f]-c.floating[d],y=u[f]-c.reference[f],w=await(null==l.getOffsetParent?void 0:l.getOffsetParent(e));let g=w?"y"===f?w.clientHeight||0:w.clientWidth||0:0;0===g&&(g=c.floating[d]);const b=_/2-y/2,v=a[p],x=g-h[d]-a[m],O=g/2-h[d]/2+b,S=J(v,O,x);return{data:{[f]:S,centerOffset:O-S}}}}),V={left:"right",right:"left",bottom:"top",top:"bottom"};function X(t){return t.replace(/left|right|bottom|top/g,(t=>V[t]))}function Y(t,n,e){void 0===e&&(e=!1);const r=C(t),o=U(t),i=L(o);let s="x"===o?r===(e?"end":"start")?"right":"left":"start"===r?"bottom":"top";return n.reference[i]>n.floating[i]&&(s=X(s)),{main:s,cross:X(s)}}const Q={start:"end",end:"start"};function K(t){return t.replace(/start|end/g,(t=>Q[t]))}const Z=["top","right","bottom","left"],tt=(Z.reduce(((t,n)=>t.concat(n,n+"-start",n+"-end")),[]),function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(n){var e;const{placement:r,middlewareData:o,rects:i,initialPlacement:s,platform:c,elements:l}=n,{mainAxis:a=!0,crossAxis:u=!0,fallbackPlacements:f,fallbackStrategy:d="bestFit",flipAlignment:h=!0,...p}=t,m=D(r),_=f||(m!==s&&h?function(t){const n=X(t);return[K(t),n,K(n)]}(s):[X(s)]),y=[s,..._],w=await B(n,p),g=[];let b=(null==(e=o.flip)?void 0:e.overflows)||[];if(a&&g.push(w[m]),u){const{main:t,cross:n}=Y(r,i,await(null==c.isRTL?void 0:c.isRTL(l.floating)));g.push(w[t],w[n])}if(b=[...b,{placement:r,overflows:g}],!g.every((t=>t<=0))){var v,x;const t=(null!=(v=null==(x=o.flip)?void 0:x.index)?v:0)+1,n=y[t];if(n)return{data:{index:t,overflows:b},reset:{placement:n}};let e="bottom";switch(d){case"bestFit":{var O;const t=null==(O=b.map((t=>[t,t.overflows.filter((t=>t>0)).reduce(((t,n)=>t+n),0)])).sort(((t,n)=>t[1]-n[1]))[0])?void 0:O[0].placement;t&&(e=t);break}case"initialPlacement":e=s}if(r!==e)return{reset:{placement:e}}}return{}}}});const nt=function(t){return void 0===t&&(t={}),{name:"size",options:t,async fn(n){const{placement:e,rects:r,platform:o,elements:i}=n,{apply:s,...c}=t,l=await B(n,c),a=D(e),u=C(e);let f,d;"top"===a||"bottom"===a?(f=a,d=u===(await(null==o.isRTL?void 0:o.isRTL(i.floating))?"start":"end")?"left":"right"):(d=a,f="end"===u?"top":"bottom");const h=z(l.left,0),p=z(l.right,0),m=z(l.top,0),_=z(l.bottom,0),y={availableHeight:r.floating.height-(["left","right"].includes(e)?2*(0!==m||0!==_?m+_:z(l.top,l.bottom)):l[f]),availableWidth:r.floating.width-(["top","bottom"].includes(e)?2*(0!==h||0!==p?h+p:z(l.left,l.right)):l[d])},w=await o.getDimensions(i.floating);null==s||s({...n,...y});const g=await o.getDimensions(i.floating);return w.width!==g.width||w.height!==g.height?{reset:{rects:!0}}:{}}}};function et(t){return t&&t.document&&t.location&&t.alert&&t.setInterval}function rt(t){if(null==t)return window;if(!et(t)){const n=t.ownerDocument;return n&&n.defaultView||window}return t}function ot(t){return rt(t).getComputedStyle(t)}function it(t){return et(t)?"":t?(t.nodeName||"").toLowerCase():""}function st(){const t=navigator.userAgentData;return null!=t&&t.brands?t.brands.map((t=>t.brand+"/"+t.version)).join(" "):navigator.userAgent}function ct(t){return t instanceof rt(t).HTMLElement}function lt(t){return t instanceof rt(t).Element}function at(t){return"undefined"!=typeof ShadowRoot&&(t instanceof rt(t).ShadowRoot||t instanceof ShadowRoot)}function ut(t){const{overflow:n,overflowX:e,overflowY:r}=ot(t);return/auto|scroll|overlay|hidden/.test(n+r+e)}function ft(t){return["table","td","th"].includes(it(t))}function dt(t){const n=/firefox/i.test(st()),e=ot(t);return"none"!==e.transform||"none"!==e.perspective||"paint"===e.contain||["transform","perspective"].includes(e.willChange)||n&&"filter"===e.willChange||n&&!!e.filter&&"none"!==e.filter}function ht(){return!/^((?!chrome|android).)*safari/i.test(st())}const pt=Math.min,mt=Math.max,_t=Math.round;function yt(t,n,e){var r,o,i,s;void 0===n&&(n=!1),void 0===e&&(e=!1);const c=t.getBoundingClientRect();let l=1,a=1;n&&ct(t)&&(l=t.offsetWidth>0&&_t(c.width)/t.offsetWidth||1,a=t.offsetHeight>0&&_t(c.height)/t.offsetHeight||1);const u=lt(t)?rt(t):window,f=!ht()&&e,d=(c.left+(f&&null!=(r=null==(o=u.visualViewport)?void 0:o.offsetLeft)?r:0))/l,h=(c.top+(f&&null!=(i=null==(s=u.visualViewport)?void 0:s.offsetTop)?i:0))/a,p=c.width/l,m=c.height/a;return{width:p,height:m,top:h,right:d+p,bottom:h+m,left:d,x:d,y:h}}function wt(t){return(n=t,(n instanceof rt(n).Node?t.ownerDocument:t.document)||window.document).documentElement;var n}function gt(t){return lt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function bt(t){return yt(wt(t)).left+gt(t).scrollLeft}function vt(t,n,e){const r=ct(n),o=wt(n),i=yt(t,r&&function(t){const n=yt(t);return _t(n.width)!==t.offsetWidth||_t(n.height)!==t.offsetHeight}(n),"fixed"===e);let s={scrollLeft:0,scrollTop:0};const c={x:0,y:0};if(r||!r&&"fixed"!==e)if(("body"!==it(n)||ut(o))&&(s=gt(n)),ct(n)){const t=yt(n,!0);c.x=t.x+n.clientLeft,c.y=t.y+n.clientTop}else o&&(c.x=bt(o));return{x:i.left+s.scrollLeft-c.x,y:i.top+s.scrollTop-c.y,width:i.width,height:i.height}}function xt(t){return"html"===it(t)?t:t.assignedSlot||t.parentNode||(at(t)?t.host:null)||wt(t)}function Ot(t){return ct(t)&&"fixed"!==getComputedStyle(t).position?t.offsetParent:null}function St(t){const n=rt(t);let e=Ot(t);for(;e&&ft(e)&&"static"===getComputedStyle(e).position;)e=Ot(e);return e&&("html"===it(e)||"body"===it(e)&&"static"===getComputedStyle(e).position&&!dt(e))?n:e||function(t){let n=xt(t);for(at(n)&&(n=n.host);ct(n)&&!["html","body"].includes(it(n));){if(dt(n))return n;n=n.parentNode}return null}(t)||n}function kt(t){if(ct(t))return{width:t.offsetWidth,height:t.offsetHeight};const n=yt(t);return{width:n.width,height:n.height}}function Pt(t){const n=xt(t);return["html","body","#document"].includes(it(n))?t.ownerDocument.body:ct(n)&&ut(n)?n:Pt(n)}function $t(t,n){var e;void 0===n&&(n=[]);const r=Pt(t),o=r===(null==(e=t.ownerDocument)?void 0:e.body),i=rt(r),s=o?[i].concat(i.visualViewport||[],ut(r)?r:[]):r,c=n.concat(s);return o?c:c.concat($t(s))}function jt(t,n,e){return"viewport"===n?W(function(t,n){const e=rt(t),r=wt(t),o=e.visualViewport;let i=r.clientWidth,s=r.clientHeight,c=0,l=0;if(o){i=o.width,s=o.height;const t=ht();(t||!t&&"fixed"===n)&&(c=o.offsetLeft,l=o.offsetTop)}return{width:i,height:s,x:c,y:l}}(t,e)):lt(n)?function(t,n){const e=yt(t,!1,"fixed"===n),r=e.top+t.clientTop,o=e.left+t.clientLeft;return{top:r,left:o,x:o,y:r,right:o+t.clientWidth,bottom:r+t.clientHeight,width:t.clientWidth,height:t.clientHeight}}(n,e):W(function(t){var n;const e=wt(t),r=gt(t),o=null==(n=t.ownerDocument)?void 0:n.body,i=mt(e.scrollWidth,e.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=mt(e.scrollHeight,e.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0);let c=-r.scrollLeft+bt(t);const l=-r.scrollTop;return"rtl"===ot(o||e).direction&&(c+=mt(e.clientWidth,o?o.clientWidth:0)-i),{width:i,height:s,x:c,y:l}}(wt(t)))}function Rt(t){const n=$t(t),e=["absolute","fixed"].includes(ot(t).position)&&ct(t)?St(t):t;return lt(e)?n.filter((t=>lt(t)&&function(t,n){const e=null==n||null==n.getRootNode?void 0:n.getRootNode();if(null!=t&&t.contains(n))return!0;if(e&&at(e)){let e=n;do{if(e&&t===e)return!0;e=e.parentNode||e.host}while(e)}return!1}(t,e)&&"body"!==it(t))):[]}const At={getClippingRect:function(t){let{element:n,boundary:e,rootBoundary:r,strategy:o}=t;const i=[..."clippingAncestors"===e?Rt(n):[].concat(e),r],s=i[0],c=i.reduce(((t,e)=>{const r=jt(n,e,o);return t.top=mt(r.top,t.top),t.right=pt(r.right,t.right),t.bottom=pt(r.bottom,t.bottom),t.left=mt(r.left,t.left),t}),jt(n,s,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:n,offsetParent:e,strategy:r}=t;const o=ct(e),i=wt(e);if(e===i)return n;let s={scrollLeft:0,scrollTop:0};const c={x:0,y:0};if((o||!o&&"fixed"!==r)&&(("body"!==it(e)||ut(i))&&(s=gt(e)),ct(e))){const t=yt(e,!0);c.x=t.x+e.clientLeft,c.y=t.y+e.clientTop}return{...n,x:n.x-s.scrollLeft+c.x,y:n.y-s.scrollTop+c.y}},isElement:lt,getDimensions:kt,getOffsetParent:St,getDocumentElement:wt,getElementRects:t=>{let{reference:n,floating:e,strategy:r}=t;return{reference:vt(n,St(e),r),floating:{...kt(e),x:0,y:0}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>"rtl"===ot(t).direction};const Tt=(t,n,e)=>(async(t,n,e)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=e,c=await(null==s.isRTL?void 0:s.isRTL(n));let l=await s.getElementRects({reference:t,floating:n,strategy:o}),{x:a,y:u}=F(l,r,c),f=r,d={};for(let e=0;e<i.length;e++){const{name:h,fn:p}=i[e],{x:m,y:_,data:y,reset:w}=await p({x:a,y:u,initialPlacement:r,placement:f,strategy:o,middlewareData:d,rects:l,platform:s,elements:{reference:t,floating:n}});a=null!=m?m:a,u=null!=_?_:u,d={...d,[h]:{...d[h],...y}},w&&("object"==typeof w&&(w.placement&&(f=w.placement),w.rects&&(l=!0===w.rects?await s.getElementRects({reference:t,floating:n,strategy:o}):w.rects),({x:a,y:u}=F(l,f,c))),e=-1)}return{x:a,y:u,placement:f,strategy:o,middlewareData:d}})(t,n,{platform:At,...e});function qt(t,n){if(!1===t.tip)return;function e(t){return b("code",{},t)}function r(...t){return b("tr",{class:"morsels-tip-item"},...t.map((t=>b("td",{},b("div",{},t)))))}const o=b("tbody",{},r("Require all terms to match",e("weather AND forecast AND sunny")),r("Flip search results",e("NOT rainy")),r("Group terms together",e("forecast AND (sunny warm)")),r("Match specific areas",b("ul",{},b("li",{},e("title:forecast")),b("li",{},e("heading:sunny")),b("li",{},e("body:(rainy gloomy)"))))),i=b("table",{class:"morsels-tip-table"},b("thead",{class:"morsels-tip-table-header"},b("tr",{},b("th",{scope:"col"},"Tip"),b("th",{},"Example"))),o),s=b("div",{class:"morsels-tip-popup-root"},b("div",{class:"morsels-tip-popup"},b("div",{class:"morsels-tip-popup-title"},"ðŸ”Ž Didn't find what you needed?"),i),b("div",{class:"morsels-tip-popup-separator"}));function c(){Object.assign(s.style,{left:"calc(var(--morsels-tip-icon-size) - 150px)",top:"-160px"}),s.classList.remove("shown")}c();const l=b("div",{class:"morsels-tip-root",tabindex:"0"},b("span",{class:"morsels-tip-icon"},"?"),s);function a(){Tt(l,s,{placement:"top-end",middleware:[tt({crossAxis:!1,flipAlignment:!1,padding:10})]}).then((({x:t,y:n})=>{Object.assign(s.style,{left:`${t}px`,top:`${n}px`}),s.classList.add("shown")}))}return l.onmouseover=a,l.onfocus=a,l.onmouseleave=c,l.onblur=c,n.setupPromise.then((()=>{n.cfg.indexingConfig.withPositions&&o.prepend(r("Search for phrases",e('"for tomorrow"')))})),l}function Et(t,n,e){t.setAttribute("autocomplete","off"),t.setAttribute("readonly",""),t.setAttribute("role","button"),t.setAttribute("aria-label",e),n&&t.setAttribute("placeholder",n),t.classList.add("morsels-button-input")}var Mt=function(t,n,e,r){return new(e||(e=Promise))((function(o,i){function s(t){try{l(r.next(t))}catch(t){i(t)}}function c(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(s,c)}l((r=r.apply(t,n||[])).next())}))};let It=!1;function Dt(t){return t.mode===w.Auto&&!It||t.mode===w.Dropdown}class Ct{constructor(){this.F=!1,this.N=!1}W(t,n,e,r){const{uiOptions:o}=r,i=new E;function s(s){var c;return Mt(this,void 0,void 0,(function*(){i.L=!0;const l=o.loadingIndicatorRender(b,r,!1,i.U);i.C.replaceWith(l),i.C=l;try{null===(c=i.currQuery)||void 0===c||c.free(),i.currQuery=yield e.getQuery(s);(yield q(i,i.currQuery,e.cfg,!0,n,r))&&(i.U=!1),t.scrollTo({top:0}),n.scrollTo({top:0})}catch(t){throw console.error(t),n.innerHTML="",n.appendChild(o.errorRender(b,r)),t}finally{if(i.I){const t=i.I;i.I=void 0,yield t()}else i.L=!1}}))}e.setupPromise.then((()=>{i.I&&(i.I(),i.I=void 0)}));let c=-1;return t=>{const l=o.preprocessQuery(t.target.value);if(clearTimeout(c),l.length)c=setTimeout((()=>{var t;if(i.U&&!(null===(t=n.firstElementChild)||void 0===t?void 0:t.getAttribute(v))){n.innerHTML="";const t=o.loadingIndicatorRender(b,r,!e.isSetupDone,!0);i.C=t,n.appendChild(t),Dt(o)&&this.B()}i.L||!e.isSetupDone?i.I=()=>s(l):s(l)}),o.inputDebounce);else{const t=()=>{n.innerHTML="",Dt(o)?this.H():o.mode!==w.Target&&n.appendChild(o.fsBlankRender(b,r)),i.L=!1,i.U=!0};i.L?i.I=t:t()}}}}const Ut={};const Lt=function(t){const n=t.isMobileDevice||(()=>window.matchMedia("only screen and (max-width: 1024px)").matches);It=n(),function(t){t.searcherOptions=t.searcherOptions||{};const{searcherOptions:n}=t;if(!("url"in n))throw new Error("Mandatory url parameter not specified");n.url.endsWith("/")||(n.url+="/"),n.url.startsWith("/")&&(n.url=window.location.origin+n.url),"numberOfExpandedTerms"in n||(n.numberOfExpandedTerms=3),"useQueryTermProximity"in n||(n.useQueryTermProximity=!0),"plLazyCacheThreshold"in n||(n.plLazyCacheThreshold=0),"resultLimit"in n||(n.resultLimit=null),t.uiOptions=t.uiOptions||{};const{uiOptions:e}=t;if(e.sourceFilesUrl&&!e.sourceFilesUrl.endsWith("/")&&(e.sourceFilesUrl+="/"),e.mode=e.mode||w.Auto,e.mode===w.Target&&("string"==typeof e.target&&(e.target=document.getElementById(e.target)),!e.target))throw new Error("'target' mode specified but no valid target option specified");if("input"in e&&"string"!=typeof e.input||(e.input=document.getElementById(e.input||"morsels-search")),[w.Dropdown,w.Target].includes(e.mode)&&!e.input)throw new Error("'dropdown' or 'target' mode specified but no input element found");"inputDebounce"in e||(e.inputDebounce=100),e.preprocessQuery=e.preprocessQuery||(t=>t),e.dropdownAlignment=e.dropdownAlignment||"bottom-end","string"==typeof e.fsContainer&&(e.fsContainer=document.getElementById(e.fsContainer)),e.fsContainer=e.fsContainer||document.getElementsByTagName("body")[0],e.resultsPerPage=e.resultsPerPage||8,e.maxSubMatches=e.maxSubMatches||2,e.label=e.label||"Search this site",e.resultsLabel=e.resultsLabel||"Site results",e.fsInputLabel=e.fsInputLabel||"Search",e.fsPlaceholder=e.fsPlaceholder||"Search this site...",e.fsCloseText=e.fsCloseText||"Close",e.errorRender=e.errorRender||(t=>t("div",{class:"morsels-error"},"Oops! Something went wrong... ðŸ™")),e.noResultsRender=e.noResultsRender||(t=>t("div",{class:"morsels-no-results"},"No results found")),e.fsBlankRender=e.fsBlankRender||(t=>t("div",{class:"morsels-fs-blank"},"Start Searching Above!")),e.loadingIndicatorRender||(e.loadingIndicatorRender=(t,n,e,r)=>{const o=t("span",{class:"morsels-loading-indicator"});if(e){const n=t("div",{class:"morsels-initialising-text"},"... Initialising ...");return t("div",{class:"morsels-initialising"},n,o)}return r||o.classList.add("morsels-loading-indicator-subsequent"),o});const r=e.loadingIndicatorRender;e.loadingIndicatorRender=(...t)=>{const n=r(...t);return n.setAttribute(v,"true"),n},e.termInfoRender=e.termInfoRender||(()=>[]),e.resultsRender=e.resultsRender||T,e.resultsRenderOpts=e.resultsRenderOpts||{};const{resultsRenderOpts:o}=e;o.listItemRender=o.listItemRender||((t,n,e,r,i,s)=>{const c=t("a",{class:"morsels-link"},t("div",{class:"morsels-title"},i),...s);if(r){let t=r;const{addSearchedTerms:n}=o;if(n){const o=O(r);o.searchParams.append(n,e),t=o.toString()}c.setAttribute("href",t)}return t("li",{class:"morsels-list-item",role:"option"},c)}),o.headingBodyRender=o.headingBodyRender||((t,n,e,r,o)=>{const i=t("a",{class:"morsels-heading-body"},t("div",{class:"morsels-heading"},...e),t("div",{class:"morsels-bodies"},t("div",{class:"morsels-body"},...r)));return o&&i.setAttribute("href",o),i}),o.bodyOnlyRender=o.bodyOnlyRender||((t,n,e)=>t("div",{class:"morsels-body"},...e)),o.highlightRender=o.highlightRender||((t,n,e)=>t("span",{class:"morsels-highlight"},e)),t.otherOptions=t.otherOptions||{}}(t);const{uiOptions:e,searcherOptions:r}=t,{input:o,mode:i,dropdownAlignment:s,label:c,fsInputButtonText:l,fsInputLabel:a,target:u}=e,{url:f}=r;Ut[f]||(Ut[f]=new _(t.searcherOptions));const d=Ut[f],h=new Ct,[p,m,y,g,x]=function(t,n,e){const{uiOptions:r}=t,o=b("input",{class:"morsels-fs-input",type:"search",placeholder:r.fsPlaceholder,"aria-labelledby":"morsels-fs-label",enterkeyhint:"search"});I(o,"morsels-fs-list");const i=b("button",{class:"morsels-input-close-fs"},r.fsCloseText),s=b("ul",{id:"morsels-fs-list",class:"morsels-list","aria-labelledby":"morsels-fs-label"}),c=b("div",{class:"morsels-root morsels-fs-root"},b("form",{class:"morsels-fs-input-button-wrapper"},b("label",{id:"morsels-fs-label",for:"morsels-fs-input",style:"display: none"},r.label),o,i),qt(r,n),s);c.onclick=t=>t.stopPropagation(),c.onmousedown=t=>t.stopPropagation(),M(c,s,r.label);const l=b("div",{class:"morsels-fs-backdrop"},c);function a(t){e(t),l.remove()}return l.onmousedown=()=>a(!1),l.onkeyup=t=>{"Escape"===t.code&&(t.stopPropagation(),a(!0))},i.onclick=t=>{t.preventDefault(),a(""===t.pointerType)},[l,s,o,function(){r.fsContainer.appendChild(l);const t=l.querySelector("input.morsels-fs-input");t&&t.focus();const n=s.querySelector(".focus");n&&s.scrollTo({top:n.offsetTop-s.offsetTop-30})},a]}(t,d,(t=>{t&&o&&o.focus(),h.N=!1}));function S(){h.N||(g(),h.N=!0)}function k(){x(!1)}function P(){function t(){Dt(e)||S()}o.addEventListener("click",t),o.addEventListener("keydown",(n=>{"Enter"===n.key&&t()}))}let $;if(y.addEventListener("input",h.W(p,m,d,t)),m.appendChild(e.fsBlankRender(b,t)),!o||i!==w.Auto&&i!==w.Dropdown){if(o&&i===w.Fullscreen)Et(o,l,a),P();else if(o&&i===w.Target){u.classList.add("morsels-root"),o.addEventListener("input",h.W(u,u,d,t));let n=u.getAttribute("id");n||(u.setAttribute("id","morsels-target-list"),n="morsels-target-list"),I(o,n),M(o,u,e.label)}}else{const r=o.getAttribute("placeholder")||"",u=o.parentElement,f=u.childNodes;let p=0;for(;p<f.length&&f[p]!==o;p+=1);o.remove();const[m,_]=function(t,n,e,r){const o=b("ul",{id:"morsels-dropdown-list",class:"morsels-list",tabindex:"-1"}),i=b("div",{class:"morsels-inner-root",style:"display: none;"},b("div",{class:"morsels-input-dropdown-separator"}),qt(t,n),o),s=b("div",{class:"morsels-root morsels-dropdown-root"},e,i);return i.onkeyup=t=>{"Escape"===t.code&&(t.stopPropagation(),r())},[s,o]}(e,d,o,(()=>{h.H()}));function y(){i!==w.Dropdown&&(It=n())?(h.H(),function(t,n,e,r,o){t.removeAttribute("role"),t.removeAttribute("aria-expanded"),t.removeAttribute("aria-owns"),n.removeAttribute("role"),n.removeAttribute("aria-label"),n.removeAttribute("aria-live"),e.removeAttribute("aria-autocomplete"),e.removeAttribute("aria-controls"),e.removeAttribute("aria-activedescendant"),Et(e,o,r)}(m,$,o,a,l)):(k(),h.H(),document.activeElement===o&&h.B(),function(t,n,e,r,o){!function(t,n){t.removeAttribute("readonly"),t.removeAttribute("role"),t.removeAttribute("aria-label"),t.setAttribute("placeholder",n),t.classList.remove("morsels-button-input")}(t,o),I(t,"morsels-dropdown-list"),M(n,e,r)}(o,m,$,c,r))}let g;$=_,p<f.length?u.insertBefore(m,f[p]):u.appendChild(m),h.B=()=>{!function(t,n,e){if(n.childElementCount){const r=t.children[1],o=r.firstElementChild;r.style.display="block",Tt(t,r,{placement:e,middleware:[tt({padding:10,mainAxis:!1}),nt({apply({availableWidth:t,availableHeight:e}){Object.assign(n.style,{maxWidth:`min(${t}px, var(--morsels-dropdown-max-width))`,maxHeight:`min(${e}px, var(--morsels-dropdown-max-height))`})},padding:10}),G({element:o})]}).then((({x:t,y:n,middlewareData:e})=>{Object.assign(r.style,{left:`${t}px`,top:`${n}px`});const{x:i}=e.arrow;Object.assign(o.style,{left:null!=i?`${i}px`:""})}))}}(m,$,s),h.F=!0},h.H=()=>{m.children[1].style.display="none",h.F=!1},o.addEventListener("input",h.W(m,$,d,t)),y(),window.addEventListener("resize",(()=>{clearTimeout(g),g=setTimeout(y,10)})),m.addEventListener("focusout",(()=>{Dt(e)&&setTimeout((()=>{let t=document.activeElement;for(;t;)if(t=t.parentElement,t===m)return;h.H()}),100)})),o.addEventListener("focus",(()=>Dt(e)&&h.B())),P()}function j(t){if(!["ArrowDown","ArrowUp","Home","End","Enter"].includes(t.key))return;let n,r=t=>{const e=t.offsetTop-n.offsetTop-n.clientHeight/2+t.clientHeight/2;n.scrollTo({top:e})};if(Dt(e)){if(!h.F)return;n=$}else if(i===w.Target)n=u,r=t=>{t.scrollIntoView({block:"center"})};else{if(!h.N)return;n=m}const o=n.querySelector(".focus");function s(t){o&&(o.classList.remove("focus"),o.removeAttribute("aria-selected"),o.removeAttribute("id")),t.classList.add("focus"),t.setAttribute("aria-selected","true"),t.setAttribute("id","morsels-list-selected"),r(t)}function c(t,n){t&&!t.getAttribute(v)?s(t):n&&!n.getAttribute(v)&&s(n)}const l=n.firstElementChild,a=n.lastElementChild;if("ArrowDown"===t.key)o?c(o.nextElementSibling,null):c(l,null==l?void 0:l.nextElementSibling);else if("ArrowUp"===t.key)o&&c(o.previousElementSibling,null);else if("Home"===t.key)c(l,null==l?void 0:l.nextElementSibling);else if("End"===t.key)c(a,null==a?void 0:a.previousElementSibling);else if("Enter"===t.key&&o){const t=o.querySelector("a[href]");t&&(window.location.href=t.getAttribute("href"))}t.preventDefault()}return null==o||o.addEventListener("keydown",j),y.addEventListener("keydown",j),{showFullscreen:S,hideFullscreen:k}},Ft=Lt})(),r=r.default})()}));