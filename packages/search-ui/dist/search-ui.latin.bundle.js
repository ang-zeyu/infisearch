!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.initMorsels=e():t.initMorsels=e()}(self,(function(){return(()=>{"use strict";var t={547:t=>{t.exports='(()=>{var t,n,e,r,o,i={899:(t,n,e)=>{e.p=__morsWrkrUrl},777:(t,n,e)=>{"use strict";e.a(t,(async t=>{e.d(n,{get_new_searcher:()=>r.qS,get_query:()=>r.R1});var r=e(686),o=t([r]);r=(o.then?await o:o)[0]}))},686:(t,n,e)=>{"use strict";e.a(t,(async r=>{e.d(n,{qS:()=>S,R1:()=>q,ug:()=>M,G6:()=>T,ff:()=>I,TR:()=>k,xe:()=>F,XP:()=>N,eA:()=>R,Mt:()=>W,g8:()=>D,uV:()=>G,oH:()=>C,$r:()=>J,Rh:()=>z,fY:()=>B,Or:()=>H,Ry:()=>K,jI:()=>V,Kq:()=>X});var o=e(62),i=e(945);t=e.hmd(t);var c=r([i]);i=(c.then?await c:c)[0];const u=new Array(32).fill(void 0);function s(t){return u[t]}u.push(void 0,null,!0,!1);let f=u.length;function a(t){const n=s(t);return function(t){t<36||(u[t]=f,f=t)}(t),n}function _(t){f===u.length&&u.push(u.length+1);const n=f;return f=u[n],u[n]=t,n}function l(t){const n=typeof t;if("number"==n||"boolean"==n||null==t)return`${t}`;if("string"==n)return`"${t}"`;if("symbol"==n){const n=t.description;return null==n?"Symbol":`Symbol(${n})`}if("function"==n){const n=t.name;return"string"==typeof n&&n.length>0?`Function(${n})`:"Function"}if(Array.isArray(t)){const n=t.length;let e="[";n>0&&(e+=l(t[0]));for(let r=1;r<n;r++)e+=", "+l(t[r]);return e+="]",e}const e=/\\[object ([^\\]]+)\\]/.exec(toString.call(t));let r;if(!(e.length>1))return toString.call(t);if(r=e[1],"Object"==r)try{return"Object("+JSON.stringify(t)+")"}catch(t){return"Object"}return t instanceof Error?`${t.name}: ${t.message}\\n${t.stack}`:r}let y,d=0;function b(){return 0===y.byteLength&&(y=new Uint8Array(i.memory.buffer)),y}let w=new("undefined"==typeof TextEncoder?(0,t.require)("util").TextEncoder:TextEncoder)("utf-8");const g="function"==typeof w.encodeInto?function(t,n){return w.encodeInto(t,n)}:function(t,n){const e=w.encode(t);return n.set(e),{read:t.length,written:e.length}};function h(t,n,e){if(void 0===e){const e=w.encode(t),r=n(e.length);return b().subarray(r,r+e.length).set(e),d=e.length,r}let r=t.length,o=n(r);const i=b();let c=0;for(;c<r;c++){const n=t.charCodeAt(c);if(n>127)break;i[o+c]=n}if(c!==r){0!==c&&(t=t.slice(c)),o=e(o,r,r=c+3*t.length);const n=b().subarray(o+c,o+r);c+=g(t,n).written}return d=c,o}let v;function p(){return 0===v.byteLength&&(v=new Int32Array(i.memory.buffer)),v}let m,x=new("undefined"==typeof TextDecoder?(0,t.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});function j(t,n){return x.decode(b().subarray(t,t+n))}function A(t,n,e){i._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__hf0c3446b9226a7d1(t,n,_(e))}function O(t,n){return(0===m.byteLength&&(m=new Uint32Array(i.memory.buffer)),m).subarray(t/4,t/4+n)}function $(t){return null==t}function S(t,n,e,r,o,c,u,s,f,a,l,y,b,w,g,v){const p=h(r,i.__wbindgen_malloc,i.__wbindgen_realloc),m=d;var x=$(u)?0:h(u,i.__wbindgen_malloc,i.__wbindgen_realloc),j=d;const A=h(l,i.__wbindgen_malloc,i.__wbindgen_realloc),O=d,S=i.get_new_searcher(_(t),n,e,p,m,_(o),$(c)?16777215:c?1:0,x,j,!$(s),$(s)?0:s,_(f),a,A,O,y,b,w,g,!$(v),$(v)?0:v);return E.__wrap(S)}function q(t,n){const e=h(n,i.__wbindgen_malloc,i.__wbindgen_realloc),r=d;return a(i.get_query(t,e,r))}function P(t,n){try{return t.apply(this,n)}catch(t){i.__wbindgen_exn_store(_(t))}}x.decode();class U{static __wrap(t){const n=Object.create(U.prototype);return n.ptr=t,n}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();i.__wbg_query_free(t)}get results_total(){return i.__wbg_get_query_results_total(this.ptr)>>>0}set results_total(t){i.__wbg_set_query_results_total(this.ptr,t)}get_next_n(t){try{const o=i.__wbindgen_add_to_stack_pointer(-16);i.query_get_next_n(o,this.ptr,t);var n=p()[o/4+0],e=p()[o/4+1],r=O(n,e).slice();return i.__wbindgen_free(n,4*e),r}finally{i.__wbindgen_add_to_stack_pointer(16)}}get_query_parts(){try{const e=i.__wbindgen_add_to_stack_pointer(-16);i.query_get_query_parts(e,this.ptr);var t=p()[e/4+0],n=p()[e/4+1];return j(t,n)}finally{i.__wbindgen_add_to_stack_pointer(16),i.__wbindgen_free(t,n)}}}class E{static __wrap(t){const n=Object.create(E.prototype);return n.ptr=t,n}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();i.__wbg_searcher_free(t)}get_ptr(){return i.searcher_get_ptr(this.ptr)}}function M(t){a(t)}function T(t){const n=a(t).original;if(1==n.cnt--)return n.a=0,!0;return!1}function I(t){return _(U.__wrap(t))}function k(){return P((function(t,n,e){return _(s(t).call(s(n),s(e)))}),arguments)}function F(t){return _(new Uint8Array(s(t)))}function N(t){return void 0===s(t)}function R(t,n,e,r,i){return _((0,o.T)(t>>>0,n>>>0,j(e,r),i>>>0))}function W(t,n,e){return _(s(t).then(s(n),s(e)))}function D(t,n){try{var e={a:t,b:n};const r=new Promise(((t,n)=>{const r=e.a;e.a=0;try{return function(t,n,e,r){i.wasm_bindgen__convert__closures__invoke2_mut__h9258c6f257dd2a69(t,n,_(e),_(r))}(r,e.b,t,n)}finally{e.a=r}}));return _(r)}finally{e.a=e.b=0}}function G(t){return s(t).length}function C(){return _(i.memory)}function J(t){return _(s(t).buffer)}function z(t,n,e){s(t).set(s(n),e>>>0)}function B(t,n){const e=h(l(s(n)),i.__wbindgen_malloc,i.__wbindgen_realloc),r=d;p()[t/4+1]=r,p()[t/4+0]=e}function H(t,n){throw new Error(j(t,n))}function K(t){return _(Promise.resolve(s(t)))}function V(t,n){return _(s(t).then(s(n)))}function X(t,n,e){const r=function(t,n,e,r){const o={a:t,b:n,cnt:1,dtor:e},c=(...t)=>{o.cnt++;const n=o.a;o.a=0;try{return r(n,o.b,...t)}finally{0==--o.cnt?i.__wbindgen_export_2.get(o.dtor)(n,o.b):o.a=n}};return c.original=o,c}(t,n,39,A);return _(r)}v=new Int32Array(i.memory.buffer),m=new Uint32Array(i.memory.buffer),y=new Uint8Array(i.memory.buffer)}))},62:(t,n,e)=>{"use strict";async function r(t,n,e,r){const o=`${e}pl_${Math.floor(t/n)}/pl_${t}.json`,i=`morsels:${e}`;function c(t){return fetch(t).then((t=>t.arrayBuffer()))}try{const t=await caches.open(i),n=await t.match(o);if(n)return await n.arrayBuffer();{const n=await c(o);return n.byteLength>=r&&t.add(o),n}}catch{return c(o)}}e.d(n,{T:()=>r})},945:(t,n,e)=>{"use strict";var r=([r])=>e.v(n,t.id,"cc68d94e4a7ae16534d9",{"./index_bg.js":{__wbindgen_object_drop_ref:r.ug,__wbindgen_cb_drop:r.G6,__wbg_query_new:r.ff,__wbg_call_9855a4612eb496cb:r.TR,__wbg_new_97cf52648830a70d:r.xe,__wbindgen_is_undefined:r.XP,__wbg_fetchPl_b7193ce9ba25000f:r.eA,__wbg_then_4debc41d4fc92ce5:r.Mt,__wbg_new_78403b138428b684:r.g8,__wbg_length_e09c0b925ab8de5d:r.uV,__wbindgen_memory:r.oH,__wbg_buffer_de1150f91b23aa89:r.$r,__wbg_set_a0172b213e2469e9:r.Rh,__wbindgen_debug_string:r.fY,__wbindgen_throw:r.Or,__wbg_resolve_f269ce174f88b294:r.Ry,__wbg_then_1c698eedca15eed6:r.jI,__wbindgen_closure_wrapper132:r.Kq}});e.a(t,(t=>{var n=t([e(686)]);return n.then?n.then(r):r(n)}),1)}},c={};function u(t){var n=c[t];if(void 0!==n)return n.exports;var e=c[t]={id:t,loaded:!1,exports:{}};return i[t](e,e.exports,u),e.loaded=!0,e.exports}t="function"==typeof Symbol?Symbol("webpack then"):"__webpack_then__",n="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",e=t=>{t&&(t.forEach((t=>t.r--)),t.forEach((t=>t.r--?t.r++:t())))},r=t=>!--t.r&&t(),o=(t,n)=>t?t.push(n):r(n),u.a=(i,c,u)=>{var s,f,a,_=u&&[],l=i.exports,y=!0,d=!1,b=(n,e,r)=>{d||(d=!0,e.r+=n.length,n.map(((n,o)=>n[t](e,r))),d=!1)},w=new Promise(((t,n)=>{a=n,f=()=>(t(l),e(_),_=0)}));w[n]=l,w[t]=(t,n)=>{if(y)return r(t);s&&b(s,t,n),o(_,t),w.catch(n)},i.exports=w,c((i=>{if(!i)return f();var c,u;s=(i=>i.map((i=>{if(null!==i&&"object"==typeof i){if(i[t])return i;if(i.then){var c=[];i.then((t=>{u[n]=t,e(c),c=0}));var u={};return u[t]=(t,n)=>(o(c,t),i.catch(n)),u}}var s={};return s[t]=t=>r(t),s[n]=i,s})))(i);var a=new Promise(((t,e)=>{(c=()=>t(u=s.map((t=>t[n])))).r=0,b(s,c,e)}));return c.r?a:u})).then(f,a),y=!1},u.d=(t,n)=>{for(var e in n)u.o(n,e)&&!u.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:n[e]})},u.hmd=t=>((t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t),u.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),u.v=(t,n,e,r)=>{var o=fetch(u.p+""+e+".module.wasm");return"function"==typeof WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(o,r).then((n=>Object.assign(t,n.instance.exports))):o.then((t=>t.arrayBuffer())).then((t=>WebAssembly.instantiate(t,r))).then((n=>Object.assign(t,n.instance.exports)))},u.p="/",(()=>{"use strict";u(899);class t{constructor(t,n,e){this.t=t,this.i=n,this.u=e}_(t){return Array.from(this.u.get_next_n(t))}l(){this.u.free()}}var n=function(t,n,e,r){return new(e||(e=Promise))((function(o,i){function c(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(c,u)}s((r=r.apply(t,n||[])).next())}))};const e=Object.create(null);let r,o;function i(i,c){return n(this,void 0,void 0,(function*(){const n=yield r.get_query(o.get_ptr(),i),u=n.get_query_parts();let s=[];try{s=JSON.parse(u)}catch(t){console.error(`Error deserializing query parts:\\n${u}\\n${t}`)}return e[c]=new t(s,n.results_total,n),e[c]}))}function c(t,e){return n(this,void 0,void 0,(function*(){const{indexingConfig:i,langConfig:{lang:c,options:u},fieldInfos:s,numScoredFields:f,searcherOptions:a}=t,_=function(t){return n(this,void 0,void 0,(function*(){let n;try{n=yield caches.open(`morsels:${t}`)}catch(t){}const e=`${t}metadata.json`;return(n?n.match(e).then((t=>!t&&n.add(e))).then((()=>n.match(e))):fetch(e)).then((t=>t.arrayBuffer()))}))}(a.url),l=new TextEncoder;let y;const d=u.stop_words;if(d){const t=d.map((t=>l.encode(t))).filter((t=>t.length<255)),n=t.length+t.reduce(((t,n)=>t+n.length),0);y=new Uint8Array(n);let e=0;t.forEach((t=>{y[e++]=t.length,y.set(t,e),e+=t.length}))}const b=s.map((t=>l.encode(t.name))),w=b.reduce(((t,n)=>t+n.length),0),g=new Uint8Array(13*b.length+w),h=new Float32Array(3);let v=0;s.forEach(((t,n)=>{const e=b[n].length;g[v++]=e,g.set(b[n],v),v+=e,h[0]=t.weight,h[1]=t.k,h[2]=t.b,g.set(new Uint8Array(h.buffer),v),v+=12})),r=yield e,o=r.get_new_searcher(yield _,i.numPlsPerDir,i.withPositions,c,y,u.ignore_stop_words,u.stemmer,u.max_term_len,g,f,a.url,a.maxAutoSuffixSearchTerms,a.maxSuffixSearchTerms,a.useQueryTermProximity,a.plLazyCacheThreshold,a.resultLimit)}))}var s=function(t,n,e,r){return new(e||(e=Promise))((function(o,i){function c(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(c,u)}s((r=r.apply(t,n||[])).next())}))};!function(t){onmessage=function(n){return s(this,void 0,void 0,(function*(){const r=n.data;if(r.searcherOptions)yield c(r,t),postMessage({isSetupDone:!0});else if(r.query){const{query:t,queryId:n,n:o,isFree:c,isGetNextN:u}=r;if(c)!function(t){e[t]&&(e[t].l(),delete e[t])}(n);else if(u){const r=function(t,n){var r;return(null===(r=e[t])||void 0===r?void 0:r._(n))||[]}(n,o);postMessage({query:t,queryId:n,nextResults:r})}else{const e=yield i(t,n);postMessage({query:t,queryId:n,resultsTotal:e.i,queryParts:e.t})}}}))},postMessage("")}(Promise.resolve().then(u.bind(u,777)))})()})();'}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var r={};return(()=>{n.d(r,{default:()=>Ht});var t=n(547);const e=class{constructor(t,e,n,r,o){this.query=t,this.resultsTotal=e,this.queryParts=n,this.getNextN=r,this.free=o}};function o(t,e,n){const{fieldStoreBlockSize:r,numStoresPerDir:o,indexingConfig:i}=n,{numDocsPerBlock:s}=i,c=Math.floor(e/r),l=Math.floor(e/s);return`${t}field_store/${Math.floor(c/o)}/${c}--${l}.json`}var i=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{l(r.next(t))}catch(t){i(t)}}function c(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}l((r=r.apply(t,e||[])).next())}))};const s=class{constructor(t,e){this.t=t,this.i=e,this.l=Object.create(null)}u(t,e,n){return i(this,void 0,void 0,(function*(){const r=o(t,this.t,n);try{const t=yield e.getJson(r);let o=this.t%n.fieldStoreBlockSize;const{numDocsPerBlock:i}=n.indexingConfig;i<n.fieldStoreBlockSize&&(o%=i),this.l=t[o]}catch(t){console.log(t)}}))}getFields(){return this.l.map((([t,e])=>[this.i[t].name,e]))}};var c=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{l(r.next(t))}catch(t){i(t)}}function c(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}l((r=r.apply(t,e||[])).next())}))};let l=0;const a=[];function u(){a.length&&a.shift()().then(u)}function f(t){return c(this,void 0,void 0,(function*(){const e=()=>c(this,void 0,void 0,(function*(){l+=1,yield t(),l-=1}));l>=2?a.push(e):(yield e(),u())}))}class d{constructor(t){this.cache=t,this.h=Object.create(null)}m(t){return c(this,void 0,void 0,(function*(){if(this.cache){let e=yield this.cache.match(t);e?this.h[t]=e.json():f((()=>c(this,void 0,void 0,(function*(){yield this.cache.add(t),e=yield this.cache.match(t),this.h[t]=e.json()}))))}else f((()=>c(this,void 0,void 0,(function*(){const e=yield fetch(t);this.h[t]=e.json()}))))}))}p(t){return c(this,void 0,void 0,(function*(){if(this.cache){(yield this.cache.match(t))||f((()=>this.cache.add(t)))}}))}getJson(t){return this.h[t]||(this.h[t]=fetch(t).then((t=>t.json()))),this.h[t]}}var h=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{l(r.next(t))}catch(t){i(t)}}function c(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}l((r=r.apply(t,e||[])).next())}))};let m;if(document.currentScript)m=document.currentScript.src;else{const t=document.getElementsByTagName("script");m=t.length&&t[t.length-1].src}m=m.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/");const p={s:""};const _=class{constructor(t){if(this._=t,this.isSetupDone=!1,this.g=Object.create(null),this.id=0,"object"!=typeof WebAssembly||"function"!=typeof WebAssembly.instantiateStreaming)return void(this.setupPromise=Promise.reject("WA unsupported"));const e=this.v().then((()=>this.S(`morsels:${t.url}`)));this.setupPromise=Promise.all([e,new Promise((t=>{const n=URL.createObjectURL(new Blob([`const __morsWrkrUrl="${m}";${p.s}`],{type:"text/javascript"}));this.O=new Worker(n),this.O.onmessage=r=>{if(r.data.query){const{query:t,queryId:e,nextResults:n,resultsTotal:o,queryParts:i}=r.data,s=this.g[e];s&&s.resolve({query:t,nextResults:n,resultsTotal:o,queryParts:i})}else""===r.data?(e.then((()=>this.O.postMessage(this.cfg))),URL.revokeObjectURL(n)):r.data.isSetupDone&&(this.isSetupDone=!0,t(),this.$(),this.A())},this.O.onmessageerror=t=>{console.log(t)}}))])}S(t){return h(this,void 0,void 0,(function*(){try{const{indexVer:e}=this.cfg;let n=yield caches.open(t);const r=yield n.match("/index_ver");if(r){e!==(yield r.text())&&(yield caches.delete(t),n=yield caches.open(t))}yield n.put("/index_ver",new Response(e)),this.k=new d(n)}catch(t){this.k=new d(void 0)}}))}$(){if(!this._.cacheAllFieldStores)return;const{fieldStoreBlockSize:t,indexingConfig:e,lastDocId:n}=this.cfg,r=Math.min(t,e.numDocsPerBlock);for(let t=0;t<n;t+=r)this.k.m(o(this._.url,t,this.cfg))}A(){this.cfg.indexingConfig.plNamesToCache.forEach((t=>{const e=Math.floor(t/this.cfg.indexingConfig.numPlsPerDir),n=`${this._.url}pl_${e}/pl_${t}.json`;this.k.p(n)}))}v(){return h(this,void 0,void 0,(function*(){const t=this._;if(this.cfg=yield(yield fetch(`${t.url}morsels_config.json`)).json(),"0.4.0"!==this.cfg.ver)throw new Error("Morsels search !== indexer version!");"cacheAllFieldStores"in t||(t.cacheAllFieldStores=!!this.cfg.cacheAllFieldStores),t.useQueryTermProximity=t.useQueryTermProximity&&this.cfg.indexingConfig.withPositions,this.cfg.searcherOptions=t}))}getQuery(t){return h(this,void 0,void 0,(function*(){yield this.setupPromise;const n=this.id;this.id+=1;const r=this.g;r[n]={promise:void 0,resolve:void 0},r[n].promise=new Promise((e=>{r[n].resolve=e,this.O.postMessage({query:t,queryId:n})}));const o=yield r[n].promise;return new e(t,o.resultsTotal,o.queryParts,(e=>h(this,void 0,void 0,(function*(){if(!r[n])return[];if(yield r[n].promise,r[n].promise=new Promise((o=>{r[n].resolve=o,this.O.postMessage({query:t,queryId:n,isGetNextN:!0,n:e})})),!r[n])return[];const o=(yield r[n].promise).nextResults.map((t=>new s(t,this.cfg.fieldInfos)));return yield Promise.all(o.map((t=>t.u(this._.url,this.k,this.cfg)))),o}))),(()=>{delete r[n],this.O.postMessage({query:t,isFree:!0})}))}))}};function y(t){if("string"!=typeof t)throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}var b;function w(t,e,...n){const r=document.createElement(t);return Object.entries(e).forEach((([t,e])=>{r.setAttribute(t,e)})),n.forEach((t=>{if("string"==typeof t){const e=document.createElement("span");e.textContent=t,r.appendChild(e)}else r.appendChild(t)})),r}p.s=t,function(t){t.Auto="auto",t.Dropdown="dropdown",t.Fullscreen="fullscreen",t.Target="target"}(b||(b={}));const g=w,v="data-morsels-header",x="data-morsels-loading-indicator";function S(){return w("div",{[x]:"true"})}function O(t){return t.startsWith("/")?new URL(new URL(window.location.href).origin+t):new URL(t)}function $(t,e){const n=e.map((e=>Array.from(t.matchAll(e))));if(!n.some((t=>t.length)))return{P:t,j:[],T:0};let r=e.map((()=>-1)),o=1e7,i=e.map((()=>0));const s=n.map((()=>0)),c=n.map((t=>!t.length)),l=n.map((()=>-1));for(;;){let t=1e7,e=1e7,a=-1,u=0;for(let r=0;r<s.length;r++){const o=n[r][s[r]];if(!o)continue;const i=o.index+o[1].length;!c[r]&&i<e&&(e=i,a=r),t=Math.min(t,i),u=Math.max(u,i),l[r]=i}if(-1===a)break;const f=u-t;if(f<o&&(o=f,r=[...l],i=s.map(((t,e)=>n[e][t]&&n[e][t][2].length+n[e][t][3].length))),s[a]+=1,s[a]>=n[a].length&&(c[a]=!0,s[a]-=1,c.every((t=>t))))break}const a=r.map(((t,e)=>({pos:t,len:i[e]}))).filter((t=>t.pos>=0)).sort(((t,e)=>t.pos-e.pos)),u=a.length;return{P:t,j:a,T:u}}function A(){return g("span",{class:"morsels-ellipsis","aria-label":"ellipses"}," ... ")}function k(t,e,n){const{highlightRender:r}=n.uiOptions.resultsRenderOpts,{P:o,j:i}=t;if(!i.some((({pos:t})=>t>=0))){if(e){const t=o.trimStart().substring(0,80);return[80===t.length?t.replace(/\w+$/,""):t,A()]}return[o]}const s=[];let c=0;for(const{pos:t,len:l}of i){const i=t+l;if(t>c+80){e&&s.push(A());const c=o.substring(t-40,t);s.push(40===c.length?c.replace(/^\w+/,""):c),s.push(r(g,n,o.substring(t,i)))}else if(t>=c)s.pop(),s.push(o.substring(c,t)),s.push(r(g,n,o.substring(t,i)));else{if(!(i>c))continue;s.pop();s[s.length-1].textContent+=o.substring(c,i)}const a=o.substring(i,i+40);s.push(40===a.length?a.replace(/\w+$/,""):a),c=i}return e&&s.push(A()),s}var P,j;function T(t,e,n,r){const{maxSubMatches:o,resultsRenderOpts:i}=r.uiOptions,{bodyOnlyRender:s,headingBodyRender:c}=i;let l,a=-2,u="",f=[];for(let n=0;n<t.length;n+=1){const[r,o]=t[n];switch(r){case"headingLink":a=n,u=o;break;case"heading":l=$(o,e),l.R=n,l.q=a===n-1?u:"",f.push({P:"",j:[],T:0,M:l,q:l.q,R:n,D:P.HEADING_ONLY});break;case"body":{const t=$(o,e);l?(t.M=l,t.q=l.q,t.T+=l.T,t.D=P.HEADING_BODY):t.D=P.BODY_ONLY,f.push(t);break}}}f.sort(((t,e)=>0===t.T&&0===e.T?e.P.length-t.P.length:t.T===e.T?e.D-t.D:e.T-t.T));const d=[],h=Math.min(f.length,o);for(let t=0;t<h&&(f[t].T===f[0].T&&f[t].D===f[0].D);t+=1)d.push(f[t]);return d.map((t=>{const e=k(t,!0,r);if(t.M){const o=k(t.M,!1,r),i=o.length?o:[t.M.P],s=t.q&&`${n}#${t.q}`;return c(g,r,i,e,s)}return s(g,r,e)}))}!function(t){t[t.HEADING_BODY=2]="HEADING_BODY",t[t.BODY_ONLY=1]="BODY_ONLY",t[t.HEADING_ONLY=0]="HEADING_ONLY"}(P||(P={})),function(t){t.TERM="TERM",t.PHRASE="PHRASE",t.BRACKET="BRACKET",t.AND="AND",t.NOT="NOT"}(j||(j={}));var R=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{l(r.next(t))}catch(t){i(t)}}function c(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}l((r=r.apply(t,e||[])).next())}))};const E=new DOMParser;function q(t,e,n,r,o,i){return R(this,void 0,void 0,(function*(){const{loaderConfigs:s}=n.indexingConfig,c=t.getFields();let l,a,u,f=!1;for(const t of c){const[e,n]=t;switch(e){case"link":l=l||n;break;case"_relative_fp":a=a||n;break;case"title":u=u||n;break;case"h1":f||(u=n,f=!0)}if(l&&a&&u&&f)break}const{sourceFilesUrl:d,resultsRenderOpts:{addSearchedTerms:h,listItemRender:m}}=e.uiOptions,p=l||"string"==typeof d&&a&&`${d}${a}`||"";if(!u)if(a){const t=a.split("/").join(" » ").split(".");let e=t.pop().toUpperCase();e="HTML"===e?"":"PDF"===e?" (PDF)":"."+e,u=t.join(".")+e}else u=l;let _=p;if(h&&p){const t=O(p);t.searchParams.append(h,o),_=t.toString()}let y=[];if(r)y=T(c,i,_,e);else if(p)if(p.endsWith(".html")&&s.HtmlLoader){const t=yield(yield fetch(p)).text(),n=E.parseFromString(t,"text/html"),{title:r,bodies:o}=function(t,e,n,r,o){const i=[];if(e.exclude_selectors)for(const n of e.exclude_selectors){const e=t.querySelectorAll(n);for(let t=0;t<e.length;t+=1)e[t].remove()}e.selectors=e.selectors||[];const s=e.selectors.map((t=>t.selector)).join(",");!function t(n,r){for(const t of e.selectors)if(n.matches(t.selector)){Object.entries(t.attr_map).forEach((([t,e])=>{n.attributes[t]&&i.push([e,n.attributes[t].value])})),r=t.field_name;break}if(n.querySelector(s))for(let e=0;e<n.childNodes.length;e+=1){const o=n.childNodes[e];o.nodeType===Node.ELEMENT_NODE?t(o,r):o.nodeType===Node.TEXT_NODE&&r&&(i.length&&i[i.length-1][0]===r?i[i.length-1][1]+=o.data:i.push([r,o.data]))}else r&&(i.length&&i[i.length-1][0]===r?i[i.length-1][1]+=n.textContent:i.push([r,n.textContent||""]))}(t.documentElement,void 0);let c="",l=!1;for(const t of i){const[e,n]=t;if("title"===e?c=c||n:"h1"!==e||l||(c=n,l=!0),c&&l)break}return{title:c,bodies:T(i,n,r,o)}}(n,s.HtmlLoader,i,_,e);u=r||u,y=o}else if(p.endsWith(".txt")&&s.TxtLoader){y=T([["body",yield(yield fetch(p)).text()]],i,_,e)}else{const t=O(p);if(t.pathname.endsWith(".json")&&s.JsonLoader){const n=yield(yield fetch(p)).json(),{title:r,bodies:o}=function(t,e,n,r,o){const i=[],{field_map:s,field_order:c}=e,l=Object.entries(s).find((([,t])=>"title"===t)),a=l&&l[0];for(const e of c)e!==a&&t[e]&&i.push([s[e],t[e]]);return{title:a&&t[a],bodies:T(i,n,r,o)}}(t.hash?n[t.hash.substring(1)]:n,s.JsonLoader,i,_,e);u=r||u,y=o}}else y=[];return m(g,e,o,p,u,y,c)}))}function M(t,e,n){for(const r of t)if(r.termsSearched){if(n)for(const t of r.termsSearched)e.push(t)}else r.children&&M(r.children,e,r.partType===j.NOT?!n:n)}function D(t,e,n,r,o){const i=[],s=[];M(o.queryParts,s,!0);const c=[];for(const t of s){const e=t.map((t=>(c.push(t),y(t)))).sort(((t,e)=>e.length-t.length)).join("|");if("ascii"===n.langConfig.lang){const t=new RegExp(`(^|\\W|_)(${e})((?=\\W|$))`,"gi");i.push(t)}else if("latin"===n.langConfig.lang){const t=new RegExp(`(^|\\W|_)(${e})(\\w*?)(?=\\W|$)`,"gi");i.push(t)}else if("chinese"===n.langConfig.lang){const t=new RegExp(`()(${e})()`,"gi");i.push(t)}}const l=n.fieldInfos.find((t=>t.do_store&&("body"===t.name||"title"===t.name||"heading"===t.name)));return Promise.all(r.map((t=>q(t,e,n,l,JSON.stringify(c),i))))}function I(t,e,n,r,o,i){return R(this,void 0,void 0,(function*(){if(t.I)return!1;const{loadingIndicatorRender:s,headerRender:c,resultsPerPage:l,resultsRender:a,mode:u}=i.uiOptions,f=s(g,i,!1,!0);r||o.appendChild(f),t.C&&t.C.disconnect();const d=document.createDocumentFragment();if(r){const t=c(g,i,e);t.setAttribute(v,"true"),d.appendChild(t)}const h=yield e.getNextN(l);if(t.I)return!1;const m=yield a(g,i,n,h,e);if(t.I)return!1;m.forEach((t=>d.appendChild(t)));const p=d.lastElementChild;if(r?(o.innerHTML="",t.L=S(),o.append(t.L),o.append(d)):f.replaceWith(d),m.length){const r=u===b.Target?null:o;t.C=new IntersectionObserver((([r],s)=>R(this,void 0,void 0,(function*(){r.isIntersecting&&(s.unobserve(p),yield I(t,e,n,!1,o,i))}))),{root:r,rootMargin:"150px 0px"}),t.C.observe(p)}return!0}))}class C{constructor(){this.N=!0,this.U=!1,this.L=S()}}function L(t,e,n){t.setAttribute("role","combobox"),t.setAttribute("aria-expanded","true"),t.setAttribute("aria-owns",e.getAttribute("id")),e.setAttribute("role","listbox"),e.setAttribute("aria-label",n),e.setAttribute("aria-live","polite")}function N(t,e){t.setAttribute("autocomplete","off"),t.setAttribute("aria-autocomplete","list"),t.setAttribute("aria-controls",e),t.setAttribute("aria-activedescendant","morsels-list-selected")}function U(t){return t.split("-")[0]}function W(t){return t.split("-")[1]}function B(t){return["top","bottom"].includes(U(t))?"x":"y"}function F(t){return"y"===t?"height":"width"}function H(t,e,n){let{reference:r,floating:o}=t;const i=r.x+r.width/2-o.width/2,s=r.y+r.height/2-o.height/2,c=B(e),l=F(c),a=r[l]/2-o[l]/2,u="x"===c;let f;switch(U(e)){case"top":f={x:i,y:r.y-o.height};break;case"bottom":f={x:i,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:s};break;case"left":f={x:r.x-o.width,y:s};break;default:f={x:r.x,y:r.y}}switch(W(e)){case"start":f[c]-=a*(n&&u?-1:1);break;case"end":f[c]+=a*(n&&u?-1:1)}return f}function z(t){return"number"!=typeof t?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}function G(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function J(t,e){var n;void 0===e&&(e={});const{x:r,y:o,platform:i,rects:s,elements:c,strategy:l}=t,{boundary:a="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=e,m=z(h),p=c[d?"floating"===f?"reference":"floating":f],_=G(await i.getClippingRect({element:null==(n=await(null==i.isElement?void 0:i.isElement(p)))||n?p:p.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(c.floating)),boundary:a,rootBoundary:u,strategy:l})),y=G(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:"floating"===f?{...s.floating,x:r,y:o}:s.reference,offsetParent:await(null==i.getOffsetParent?void 0:i.getOffsetParent(c.floating)),strategy:l}):s[f]);return{top:_.top-y.top+m.top,bottom:y.bottom-_.bottom+m.bottom,left:_.left-y.left+m.left,right:y.right-_.right+m.right}}const Y=Math.min,V=Math.max;function K(t,e,n){return V(t,Y(e,n))}const X=t=>({name:"arrow",options:t,async fn(e){const{element:n,padding:r=0}=null!=t?t:{},{x:o,y:i,placement:s,rects:c,platform:l}=e;if(null==n)return{};const a=z(r),u={x:o,y:i},f=B(s),d=F(f),h=await l.getDimensions(n),m="y"===f?"top":"left",p="y"===f?"bottom":"right",_=c.reference[d]+c.reference[f]-u[f]-c.floating[d],y=u[f]-c.reference[f],b=await(null==l.getOffsetParent?void 0:l.getOffsetParent(n));let w=b?"y"===f?b.clientHeight||0:b.clientWidth||0:0;0===w&&(w=c.floating[d]);const g=_/2-y/2,v=a[m],x=w-h[d]-a[p],S=w/2-h[d]/2+g,O=K(v,S,x);return{data:{[f]:O,centerOffset:S-O}}}}),Q={left:"right",right:"left",bottom:"top",top:"bottom"};function Z(t){return t.replace(/left|right|bottom|top/g,(t=>Q[t]))}function tt(t,e,n){void 0===n&&(n=!1);const r=W(t),o=B(t),i=F(o);let s="x"===o?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return e.reference[i]>e.floating[i]&&(s=Z(s)),{main:s,cross:Z(s)}}const et={start:"end",end:"start"};function nt(t){return t.replace(/start|end/g,(t=>et[t]))}const rt=["top","right","bottom","left"],ot=(rt.reduce(((t,e)=>t.concat(e,e+"-start",e+"-end")),[]),function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(e){var n;const{placement:r,middlewareData:o,rects:i,initialPlacement:s,platform:c,elements:l}=e,{mainAxis:a=!0,crossAxis:u=!0,fallbackPlacements:f,fallbackStrategy:d="bestFit",flipAlignment:h=!0,...m}=t,p=U(r),_=f||(p!==s&&h?function(t){const e=Z(t);return[nt(t),e,nt(e)]}(s):[Z(s)]),y=[s,..._],b=await J(e,m),w=[];let g=(null==(n=o.flip)?void 0:n.overflows)||[];if(a&&w.push(b[p]),u){const{main:t,cross:e}=tt(r,i,await(null==c.isRTL?void 0:c.isRTL(l.floating)));w.push(b[t],b[e])}if(g=[...g,{placement:r,overflows:w}],!w.every((t=>t<=0))){var v,x;const t=(null!=(v=null==(x=o.flip)?void 0:x.index)?v:0)+1,e=y[t];if(e)return{data:{index:t,overflows:g},reset:{placement:e}};let n="bottom";switch(d){case"bestFit":{var S;const t=null==(S=g.map((t=>[t,t.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)])).sort(((t,e)=>t[1]-e[1]))[0])?void 0:S[0].placement;t&&(n=t);break}case"initialPlacement":n=s}if(r!==n)return{reset:{placement:n}}}return{}}}});const it=function(t){return void 0===t&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:r,platform:o,elements:i}=e,{apply:s,...c}=t,l=await J(e,c),a=U(n),u=W(n);let f,d;"top"===a||"bottom"===a?(f=a,d=u===(await(null==o.isRTL?void 0:o.isRTL(i.floating))?"start":"end")?"left":"right"):(d=a,f="end"===u?"top":"bottom");const h=V(l.left,0),m=V(l.right,0),p=V(l.top,0),_=V(l.bottom,0),y={availableHeight:r.floating.height-(["left","right"].includes(n)?2*(0!==p||0!==_?p+_:V(l.top,l.bottom)):l[f]),availableWidth:r.floating.width-(["top","bottom"].includes(n)?2*(0!==h||0!==m?h+m:V(l.left,l.right)):l[d])},b=await o.getDimensions(i.floating);null==s||s({...e,...y});const w=await o.getDimensions(i.floating);return b.width!==w.width||b.height!==w.height?{reset:{rects:!0}}:{}}}};function st(t){return t&&t.document&&t.location&&t.alert&&t.setInterval}function ct(t){if(null==t)return window;if(!st(t)){const e=t.ownerDocument;return e&&e.defaultView||window}return t}function lt(t){return ct(t).getComputedStyle(t)}function at(t){return st(t)?"":t?(t.nodeName||"").toLowerCase():""}function ut(){const t=navigator.userAgentData;return null!=t&&t.brands?t.brands.map((t=>t.brand+"/"+t.version)).join(" "):navigator.userAgent}function ft(t){return t instanceof ct(t).HTMLElement}function dt(t){return t instanceof ct(t).Element}function ht(t){return"undefined"!=typeof ShadowRoot&&(t instanceof ct(t).ShadowRoot||t instanceof ShadowRoot)}function mt(t){const{overflow:e,overflowX:n,overflowY:r}=lt(t);return/auto|scroll|overlay|hidden/.test(e+r+n)}function pt(t){return["table","td","th"].includes(at(t))}function _t(t){const e=/firefox/i.test(ut()),n=lt(t);return"none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||["transform","perspective"].includes(n.willChange)||e&&"filter"===n.willChange||e&&!!n.filter&&"none"!==n.filter}function yt(){return!/^((?!chrome|android).)*safari/i.test(ut())}const bt=Math.min,wt=Math.max,gt=Math.round;function vt(t,e,n){var r,o,i,s;void 0===e&&(e=!1),void 0===n&&(n=!1);const c=t.getBoundingClientRect();let l=1,a=1;e&&ft(t)&&(l=t.offsetWidth>0&&gt(c.width)/t.offsetWidth||1,a=t.offsetHeight>0&&gt(c.height)/t.offsetHeight||1);const u=dt(t)?ct(t):window,f=!yt()&&n,d=(c.left+(f&&null!=(r=null==(o=u.visualViewport)?void 0:o.offsetLeft)?r:0))/l,h=(c.top+(f&&null!=(i=null==(s=u.visualViewport)?void 0:s.offsetTop)?i:0))/a,m=c.width/l,p=c.height/a;return{width:m,height:p,top:h,right:d+m,bottom:h+p,left:d,x:d,y:h}}function xt(t){return(e=t,(e instanceof ct(e).Node?t.ownerDocument:t.document)||window.document).documentElement;var e}function St(t){return dt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Ot(t){return vt(xt(t)).left+St(t).scrollLeft}function $t(t,e,n){const r=ft(e),o=xt(e),i=vt(t,r&&function(t){const e=vt(t);return gt(e.width)!==t.offsetWidth||gt(e.height)!==t.offsetHeight}(e),"fixed"===n);let s={scrollLeft:0,scrollTop:0};const c={x:0,y:0};if(r||!r&&"fixed"!==n)if(("body"!==at(e)||mt(o))&&(s=St(e)),ft(e)){const t=vt(e,!0);c.x=t.x+e.clientLeft,c.y=t.y+e.clientTop}else o&&(c.x=Ot(o));return{x:i.left+s.scrollLeft-c.x,y:i.top+s.scrollTop-c.y,width:i.width,height:i.height}}function At(t){return"html"===at(t)?t:t.assignedSlot||t.parentNode||(ht(t)?t.host:null)||xt(t)}function kt(t){return ft(t)&&"fixed"!==getComputedStyle(t).position?t.offsetParent:null}function Pt(t){const e=ct(t);let n=kt(t);for(;n&&pt(n)&&"static"===getComputedStyle(n).position;)n=kt(n);return n&&("html"===at(n)||"body"===at(n)&&"static"===getComputedStyle(n).position&&!_t(n))?e:n||function(t){let e=At(t);for(ht(e)&&(e=e.host);ft(e)&&!["html","body"].includes(at(e));){if(_t(e))return e;e=e.parentNode}return null}(t)||e}function jt(t){if(ft(t))return{width:t.offsetWidth,height:t.offsetHeight};const e=vt(t);return{width:e.width,height:e.height}}function Tt(t){const e=At(t);return["html","body","#document"].includes(at(e))?t.ownerDocument.body:ft(e)&&mt(e)?e:Tt(e)}function Rt(t,e){var n;void 0===e&&(e=[]);const r=Tt(t),o=r===(null==(n=t.ownerDocument)?void 0:n.body),i=ct(r),s=o?[i].concat(i.visualViewport||[],mt(r)?r:[]):r,c=e.concat(s);return o?c:c.concat(Rt(s))}function Et(t,e,n){return"viewport"===e?G(function(t,e){const n=ct(t),r=xt(t),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,c=0,l=0;if(o){i=o.width,s=o.height;const t=yt();(t||!t&&"fixed"===e)&&(c=o.offsetLeft,l=o.offsetTop)}return{width:i,height:s,x:c,y:l}}(t,n)):dt(e)?function(t,e){const n=vt(t,!1,"fixed"===e),r=n.top+t.clientTop,o=n.left+t.clientLeft;return{top:r,left:o,x:o,y:r,right:o+t.clientWidth,bottom:r+t.clientHeight,width:t.clientWidth,height:t.clientHeight}}(e,n):G(function(t){var e;const n=xt(t),r=St(t),o=null==(e=t.ownerDocument)?void 0:e.body,i=wt(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=wt(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0);let c=-r.scrollLeft+Ot(t);const l=-r.scrollTop;return"rtl"===lt(o||n).direction&&(c+=wt(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:s,x:c,y:l}}(xt(t)))}function qt(t){const e=Rt(t),n=["absolute","fixed"].includes(lt(t).position)&&ft(t)?Pt(t):t;return dt(n)?e.filter((t=>dt(t)&&function(t,e){const n=null==e||null==e.getRootNode?void 0:e.getRootNode();if(null!=t&&t.contains(e))return!0;if(n&&ht(n)){let n=e;do{if(n&&t===n)return!0;n=n.parentNode||n.host}while(n)}return!1}(t,n)&&"body"!==at(t))):[]}const Mt={getClippingRect:function(t){let{element:e,boundary:n,rootBoundary:r,strategy:o}=t;const i=[..."clippingAncestors"===n?qt(e):[].concat(n),r],s=i[0],c=i.reduce(((t,n)=>{const r=Et(e,n,o);return t.top=wt(r.top,t.top),t.right=bt(r.right,t.right),t.bottom=bt(r.bottom,t.bottom),t.left=wt(r.left,t.left),t}),Et(e,s,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:n,strategy:r}=t;const o=ft(n),i=xt(n);if(n===i)return e;let s={scrollLeft:0,scrollTop:0};const c={x:0,y:0};if((o||!o&&"fixed"!==r)&&(("body"!==at(n)||mt(i))&&(s=St(n)),ft(n))){const t=vt(n,!0);c.x=t.x+n.clientLeft,c.y=t.y+n.clientTop}return{...e,x:e.x-s.scrollLeft+c.x,y:e.y-s.scrollTop+c.y}},isElement:dt,getDimensions:jt,getOffsetParent:Pt,getDocumentElement:xt,getElementRects:t=>{let{reference:e,floating:n,strategy:r}=t;return{reference:$t(e,Pt(n),r),floating:{...jt(n),x:0,y:0}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>"rtl"===lt(t).direction};const Dt=(t,e,n)=>(async(t,e,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,c=await(null==s.isRTL?void 0:s.isRTL(e));let l=await s.getElementRects({reference:t,floating:e,strategy:o}),{x:a,y:u}=H(l,r,c),f=r,d={};for(let n=0;n<i.length;n++){const{name:h,fn:m}=i[n],{x:p,y:_,data:y,reset:b}=await m({x:a,y:u,initialPlacement:r,placement:f,strategy:o,middlewareData:d,rects:l,platform:s,elements:{reference:t,floating:e}});a=null!=p?p:a,u=null!=_?_:u,d={...d,[h]:{...d[h],...y}},b&&("object"==typeof b&&(b.placement&&(f=b.placement),b.rects&&(l=!0===b.rects?await s.getElementRects({reference:t,floating:e,strategy:o}):b.rects),({x:a,y:u}=H(l,f,c))),n=-1)}return{x:a,y:u,placement:f,strategy:o,middlewareData:d}})(t,e,{platform:Mt,...n});function It(t,e){if(!1===t.tip)return;function n(t){return g("code",{},t)}function r(...t){return g("tr",{class:"morsels-tip-item"},...t.map((t=>g("td",{},g("div",{},t)))))}const o=g("tbody",{},r("Require all terms to match",n("weather AND forecast AND sunny")),r("Flip search results",n("NOT rainy")),r("Group terms together",n("forecast AND (sunny warm)")),r("Search for prefixes",n("run*")),r("Match specific areas",g("ul",{},g("li",{},n("title:forecast")),g("li",{},n("heading:sunny")),g("li",{},n("body:(rainy gloomy)"))))),i=g("table",{class:"morsels-tip-table"},g("thead",{class:"morsels-tip-table-header"},g("tr",{},g("th",{scope:"col"},"Tip"),g("th",{},"Example"))),o),s=g("div",{class:"morsels-tip-popup-root"},g("div",{class:"morsels-tip-popup"},g("div",{class:"morsels-tip-popup-title"},"🔎 Didn't find what you needed?"),i),g("div",{class:"morsels-tip-popup-separator"}));function c(){Object.assign(s.style,{left:"calc(var(--morsels-tip-icon-size) - 150px)",top:"-160px"}),s.classList.remove("shown")}c();const l=g("div",{class:"morsels-tip-root",tabindex:"0"},g("span",{class:"morsels-tip-icon"},"?"),s);function a(){Dt(l,s,{placement:"top-end",middleware:[ot({crossAxis:!1,flipAlignment:!1,padding:10})]}).then((({x:t,y:e})=>{Object.assign(s.style,{left:`${t}px`,top:`${e}px`}),s.classList.add("shown")}))}return l.onmouseover=a,l.onfocus=a,l.onmouseleave=c,l.onblur=c,e.setupPromise.then((()=>{e.cfg.indexingConfig.withPositions&&o.prepend(r("Search for phrases",n('"for tomorrow"')))})),l}function Ct(t,e,n){t.setAttribute("autocomplete","off"),t.setAttribute("readonly",""),t.setAttribute("role","button"),t.setAttribute("aria-label",n),e&&t.setAttribute("placeholder",e),t.classList.add("morsels-button-input")}var Lt=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{l(r.next(t))}catch(t){i(t)}}function c(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}l((r=r.apply(t,e||[])).next())}))};let Nt=!1;function Ut(t){return t.mode===b.Auto&&!Nt||t.mode===b.Dropdown}class Wt{constructor(){this.W=!1,this.B=!1}F(t,e,n,r){const{uiOptions:o}=r,i=new C;function s(s){var c;return Lt(this,void 0,void 0,(function*(){i.U=!0;const l=o.loadingIndicatorRender(g,r,!1,i.N);i.L.replaceWith(l),i.L=l;try{null===(c=i.currQuery)||void 0===c||c.free(),i.currQuery=yield n.getQuery(s);(yield I(i,i.currQuery,n.cfg,!0,e,r))&&(i.N=!1),t.scrollTo({top:0}),e.scrollTo({top:0})}catch(t){throw e.innerHTML="",e.appendChild(o.errorRender(g,r)),t}finally{if(i.I){const t=i.I;i.I=void 0,yield t()}else i.U=!1}}))}let c=!0;n.setupPromise.then((()=>{i.I&&(i.I(),i.I=void 0)})).catch((()=>{e.innerHTML="",e.appendChild(o.errorRender(g,r)),c=!1}));let l=-1;return t=>{if(!c)return;const a=o.preprocessQuery(t.target.value);if(clearTimeout(l),a.length)l=setTimeout((()=>{var t;if(i.N&&!(null===(t=e.firstElementChild)||void 0===t?void 0:t.getAttribute(x))){e.innerHTML="";const t=o.loadingIndicatorRender(g,r,!n.isSetupDone,!0);i.L=t,e.appendChild(t),Ut(o)&&this.H()}i.U||!n.isSetupDone?i.I=()=>s(a):s(a)}),o.inputDebounce);else{const t=()=>{e.innerHTML="",Ut(o)?this.G():o.mode!==b.Target&&e.appendChild(o.fsBlankRender(g,r)),i.U=!1,i.N=!0};i.U?i.I=t:t()}}}}const Bt={};const Ft=function(t){const e=t.isMobileDevice||(()=>window.matchMedia("only screen and (max-width: 1024px)").matches);Nt=e(),function(t){t.searcherOptions=t.searcherOptions||{};const{searcherOptions:e}=t;if(!("url"in e))throw new Error("Mandatory url parameter not specified");e.url.endsWith("/")||(e.url+="/"),e.url.startsWith("/")&&(e.url=window.location.origin+e.url),"maxAutoSuffixSearchTerms"in e||(e.maxAutoSuffixSearchTerms=3),"maxSuffixSearchTerms"in e||(e.maxSuffixSearchTerms=5),"useQueryTermProximity"in e||(e.useQueryTermProximity=!0),"plLazyCacheThreshold"in e||(e.plLazyCacheThreshold=0),"resultLimit"in e||(e.resultLimit=null),t.uiOptions=t.uiOptions||{};const{uiOptions:n}=t;if(n.sourceFilesUrl&&!n.sourceFilesUrl.endsWith("/")&&(n.sourceFilesUrl+="/"),n.mode=n.mode||b.Auto,n.mode===b.Target&&("string"==typeof n.target&&(n.target=document.getElementById(n.target)),!n.target))throw new Error("'target' mode specified but no valid target option specified");if("input"in n&&"string"!=typeof n.input||(n.input=document.getElementById(n.input||"morsels-search")),[b.Dropdown,b.Target].includes(n.mode)&&!n.input)throw new Error("'dropdown' or 'target' mode specified but no input element found");"inputDebounce"in n||(n.inputDebounce=100),n.preprocessQuery=n.preprocessQuery||(t=>t),n.dropdownAlignment=n.dropdownAlignment||"bottom-end","string"==typeof n.fsContainer&&(n.fsContainer=document.getElementById(n.fsContainer)),n.fsContainer=n.fsContainer||document.getElementsByTagName("body")[0],n.resultsPerPage=n.resultsPerPage||8,n.maxSubMatches=n.maxSubMatches||2,n.label=n.label||"Search this site",n.resultsLabel=n.resultsLabel||"Site results",n.fsInputLabel=n.fsInputLabel||"Search",n.fsPlaceholder=n.fsPlaceholder||"Search this site...",n.fsCloseText=n.fsCloseText||"Close",n.errorRender=n.errorRender||(t=>t("div",{class:"morsels-error"},"Oops! Something went wrong... 🙁")),n.fsBlankRender=n.fsBlankRender||(t=>t("div",{class:"morsels-fs-blank"},"Start Searching Above!")),n.loadingIndicatorRender||(n.loadingIndicatorRender=(t,e,n,r)=>{const o=t("span",{class:"morsels-loading-indicator"});if(n){const e=t("div",{class:"morsels-initialising-text"},"... Initialising ...");return t("div",{class:"morsels-initialising"},e,o)}return r||o.classList.add("morsels-loading-indicator-subsequent"),o});const r=n.loadingIndicatorRender;n.loadingIndicatorRender=(...t)=>{const e=r(...t);return e.setAttribute(x,"true"),e},n.headerRender=n.headerRender||((t,e,n)=>t("div",{class:"morsels-header"},`${n.resultsTotal} results found`)),n.resultsRender=n.resultsRender||D,n.resultsRenderOpts=n.resultsRenderOpts||{};const{resultsRenderOpts:o}=n;o.listItemRender=o.listItemRender||((t,e,n,r,i,s)=>{const c=t("a",{class:"morsels-link"},t("div",{class:"morsels-title"},i),...s);if(r){let t=r;const{addSearchedTerms:e}=o;if(e){const o=O(r);o.searchParams.append(e,n),t=o.toString()}c.setAttribute("href",t)}return t("li",{class:"morsels-list-item",role:"option"},c)}),o.headingBodyRender=o.headingBodyRender||((t,e,n,r,o)=>{const i=t("a",{class:"morsels-heading-body"},t("div",{class:"morsels-heading"},...n),t("div",{class:"morsels-bodies"},t("div",{class:"morsels-body"},...r)));return o&&i.setAttribute("href",o),i}),o.bodyOnlyRender=o.bodyOnlyRender||((t,e,n)=>t("div",{class:"morsels-body"},...n)),o.highlightRender=o.highlightRender||((t,e,n)=>t("span",{class:"morsels-highlight"},n)),t.otherOptions=t.otherOptions||{}}(t);const{uiOptions:n,searcherOptions:r}=t,{input:o,mode:i,dropdownAlignment:s,label:c,fsInputButtonText:l,fsInputLabel:a,target:u}=n,{url:f}=r;Bt[f]||(Bt[f]=new _(t.searcherOptions));const d=Bt[f],h=new Wt,[m,p,y,w,S]=function(t,e,n){const{uiOptions:r}=t,o=g("input",{class:"morsels-fs-input",type:"search",placeholder:r.fsPlaceholder,"aria-labelledby":"morsels-fs-label",enterkeyhint:"search"});N(o,"morsels-fs-list");const i=g("button",{class:"morsels-input-close-fs"},r.fsCloseText),s=g("ul",{id:"morsels-fs-list",class:"morsels-list","aria-labelledby":"morsels-fs-label"}),c=g("div",{class:"morsels-root morsels-fs-root"},g("form",{class:"morsels-fs-input-button-wrapper"},g("label",{id:"morsels-fs-label",for:"morsels-fs-input",style:"display: none"},r.label),o,i),It(r,e),s);c.onclick=t=>t.stopPropagation(),c.onmousedown=t=>t.stopPropagation(),L(c,s,r.label);const l=g("div",{class:"morsels-fs-backdrop"},c);function a(t){n(t),l.remove()}return l.onmousedown=()=>a(!1),l.onkeyup=t=>{"Escape"===t.code&&(t.stopPropagation(),a(!0))},i.onclick=t=>{t.preventDefault(),a(""===t.pointerType)},[l,s,o,function(){r.fsContainer.appendChild(l);const t=l.querySelector("input.morsels-fs-input");t&&t.focus();const e=s.querySelector(".focus");e&&s.scrollTo({top:e.offsetTop-s.offsetTop-30})},a]}(t,d,(t=>{t&&o&&o.focus(),h.B=!1}));function $(){h.B||(w(),h.B=!0)}function A(){S(!1)}function k(){function t(){Ut(n)||$()}o.addEventListener("click",t),o.addEventListener("keydown",(e=>{"Enter"===e.key&&t()}))}let P;if(y.addEventListener("input",h.F(m,p,d,t)),p.appendChild(n.fsBlankRender(g,t)),!o||i!==b.Auto&&i!==b.Dropdown){if(o&&i===b.Fullscreen)Ct(o,l,a),k();else if(o&&i===b.Target){u.classList.add("morsels-root"),o.addEventListener("input",h.F(u,u,d,t));let e=u.getAttribute("id");e||(u.setAttribute("id","morsels-target-list"),e="morsels-target-list"),N(o,e),L(o,u,n.label)}}else{const r=o.getAttribute("placeholder")||"",u=o.parentElement,f=u.childNodes;let m=0;for(;m<f.length&&f[m]!==o;m+=1);o.remove();const[p,_]=function(t,e,n,r){const o=g("ul",{id:"morsels-dropdown-list",class:"morsels-list",tabindex:"-1"}),i=g("div",{class:"morsels-inner-root",style:"display: none;"},g("div",{class:"morsels-input-dropdown-separator"}),It(t,e),o),s=g("div",{class:"morsels-root morsels-dropdown-root"},n,i);return i.onkeyup=t=>{"Escape"===t.code&&(t.stopPropagation(),r())},[s,o]}(n,d,o,(()=>{h.G()}));function y(){i!==b.Dropdown&&(Nt=e())?(h.G(),function(t,e,n,r,o){t.removeAttribute("role"),t.removeAttribute("aria-expanded"),t.removeAttribute("aria-owns"),e.removeAttribute("role"),e.removeAttribute("aria-label"),e.removeAttribute("aria-live"),n.removeAttribute("aria-autocomplete"),n.removeAttribute("aria-controls"),n.removeAttribute("aria-activedescendant"),Ct(n,o,r)}(p,P,o,a,l)):(A(),h.G(),document.activeElement===o&&h.H(),function(t,e,n,r,o){!function(t,e){t.removeAttribute("readonly"),t.removeAttribute("role"),t.removeAttribute("aria-label"),t.setAttribute("placeholder",e),t.classList.remove("morsels-button-input")}(t,o),N(t,"morsels-dropdown-list"),L(e,n,r)}(o,p,P,c,r))}let w;P=_,m<f.length?u.insertBefore(p,f[m]):u.appendChild(p),h.H=()=>{!function(t,e,n){if(e.childElementCount){const r=t.children[1],o=r.firstElementChild;r.style.display="block",Dt(t,r,{placement:n,middleware:[ot({padding:10,mainAxis:!1}),it({apply({availableWidth:t,availableHeight:n}){Object.assign(e.style,{maxWidth:`min(${t}px, var(--morsels-dropdown-max-width))`,maxHeight:`min(${n}px, var(--morsels-dropdown-max-height))`})},padding:10}),X({element:o})]}).then((({x:t,y:e,middlewareData:n})=>{Object.assign(r.style,{left:`${t}px`,top:`${e}px`});const{x:i}=n.arrow;Object.assign(o.style,{left:null!=i?`${i}px`:""})}))}}(p,P,s),h.W=!0},h.G=()=>{p.children[1].style.display="none",h.W=!1},o.addEventListener("input",h.F(p,P,d,t)),y(),window.addEventListener("resize",(()=>{clearTimeout(w),w=setTimeout(y,10)})),p.addEventListener("focusout",(()=>{Ut(n)&&setTimeout((()=>{let t=document.activeElement;for(;t;)if(t=t.parentElement,t===p)return;h.G()}),100)})),o.addEventListener("focus",(()=>Ut(n)&&h.H())),k()}function j(t){var e;if(!["ArrowDown","ArrowUp","Home","End","Enter"].includes(t.key))return;let r,o=t=>{const e=t.offsetTop-r.offsetTop-r.clientHeight/2+t.clientHeight/2;r.scrollTo({top:e})};if(Ut(n)){if(!h.W)return;r=P}else if(i===b.Target)r=u,o=t=>{t.scrollIntoView({block:"center"})};else{if(!h.B)return;r=p}const s=r.querySelector(".focus");function c(t){s&&(s.classList.remove("focus"),s.removeAttribute("aria-selected"),s.removeAttribute("id")),t&&(t.classList.add("focus"),t.setAttribute("aria-selected","true"),t.setAttribute("id","morsels-list-selected"),o(t))}function l(t,e){t&&!t.getAttribute(x)?c(t):e&&!e.getAttribute(x)&&c(e)}const a=null===(e=r.querySelector(`[${v}]`))||void 0===e?void 0:e.nextElementSibling,f=r.lastElementChild;if("ArrowDown"===t.key)s?l(s.nextElementSibling,null):c(a);else if("ArrowUp"===t.key)s&&l(s.previousElementSibling,null);else if("Home"===t.key)c(a);else if("End"===t.key)l(f,null==f?void 0:f.previousElementSibling);else if("Enter"===t.key&&s){const t=s.querySelector("a[href]");t&&(window.location.href=t.getAttribute("href"))}t.preventDefault()}return null==o||o.addEventListener("keydown",j),y.addEventListener("keydown",j),{showFullscreen:$,hideFullscreen:A}},Ht=Ft})(),r=r.default})()}));